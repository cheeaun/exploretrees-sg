!function(e,t,r,n,s){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i="function"==typeof o.parcelRequireb7b0&&o.parcelRequireb7b0,a=i.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(t,r){if(!a[t]){if(!e[t]){var n="function"==typeof o.parcelRequireb7b0&&o.parcelRequireb7b0;if(!r&&n)return n(t,!0);if(i)return i(t,!0);if(l&&"string"==typeof t)return l(t);var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var u=a[t]=new c.Module(t);e[t][0].call(u.exports,p,u,u.exports,this)}return a[t].exports;function p(e){return c(p.resolve(e))}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=e,c.cache=a,c.parent=i,c.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(c,"root",{get:function(){return o.parcelRequireb7b0}}),o.parcelRequireb7b0=c;for(var u=0;u<t.length;u++)c(t[u]);var p=c(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=p:"function"==typeof define&&define.amd&&define((function(){return p}))}({jKBB6:[function(e,t,r){e("./helpers/bundle-manifest").register(JSON.parse('{"Pw3M1":"index.5b99b4bf.js","cMSFs":"crown.d11c0145.drc"}'))},{"./helpers/bundle-manifest":"4qWvM"}],"4qWvM":[function(e,t,r){"use strict";var n={};t.exports.register=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)n[t[r]]=e[t[r]]},t.exports.resolve=function(e){var t=n[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}},{}],"4TFIK":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js"),s=e("@deck.gl/mapbox/dist/esm/mapbox-layer"),o=n.interopDefault(s),i=e("@deck.gl/core/dist/esm/effects/lighting/ambient-light"),a=e("@deck.gl/core/dist/esm/effects/lighting/directional-light"),l=e("@deck.gl/core/dist/esm/effects/lighting/lighting-effect"),c=n.interopDefault(l),u=e("@deck.gl/mesh-layers/dist/esm/simple-mesh-layer/simple-mesh-layer"),p=n.interopDefault(u),d=e("@luma.gl/engine/dist/esm/geometries/cylinder-geometry"),h=n.interopDefault(d),f=e("@turf/circle"),m=(n.interopDefault(f),e("@loaders.gl/draco")),g=e("../data/pois.json"),y=n.interopDefault(g),b=new URL(e("a1066b100af06a84"));mapboxgl.accessToken="pk.eyJ1IjoiY2hlZWF1biIsImEiOiJjanF3azBrMjMwM2w1NDNyN3Yzc21saDUzIn0.jNWlsBO-S3uDKdfT9IKT1A";var v=window._map=new mapboxgl.Map({container:"map",style:"mapbox://styles/cheeaun/ckpoxzt7o076k17rqq7jrowxg",minZoom:8,renderWorldCopies:!1,hash:!0,center:[103.84708968044379,1.2928590602954841],pitch:65,zoom:17.7});v.addControl(new mapboxgl.NavigationControl);var x=new Map,_=function(e){var t=e.properties,r=t.id,n=t.girth,s=t.height_est,o=parseFloat((n||"0.5").match(/[\d.]+[^\d.]?$/)[0],10);if(x.has(r))return x.get(r);var i=o/1.5,a=.66*s,l={id:r,position:e.geometry.coordinates,trunk:{translation:[0,0,.75*s/2],scale:[i,.75*s,i]},crown:{translation:[0,0,.6*s],scale:[.1*a,.1*a,.135*a],orientation:[0,r.slice(-1)/9*180,0]}};return x.set(r,l),l},w=new o.default({id:"trees-trunk-2",type:p.default,mesh:new h.default,getColor:[219,195,154],getOrientation:[0,0,90],getTranslation:function(e){return e.trunk.translation},getScale:function(e){return e.trunk.scale}}),P=new o.default({id:"trees-crown",type:p.default,mesh:b.pathname,loaders:[m.DracoLoader],getColor:[175,216,142],getTranslation:function(e){return e.crown.translation},getScale:function(e){return e.crown.scale},getOrientation:function(e){return e.crown.orientation}}),E=new i.AmbientLight({intensity:2.25}),A=new a.DirectionalLight({color:[255,255,255],intensity:.35,direction:[0,0,-1]}),T=new c.default({ambientLight:E,directionalLight:A});v.once("styledata",(function(){v.addLayer(w,"building-extrusion-2"),v.setLayerZoomRange("trees-trunk-2",15,22.1),v.addLayer(P,"building-extrusion-2"),v.setLayerZoomRange("trees-crown",15,22.1),v.addSource("trees-source",{type:"vector",url:"mapbox://cheeaun.bptkspgy"}),v.addLayer({id:"trees",type:"circle",source:"trees-source","source-layer":"trees",filter:["all",["has","girth_size"],["has","height_est"]],minzoom:15,paint:{"circle-radius":0}});var e=function(){var e=v.getZoom();if(!(e<15)){var t=(e-15)/4*-24+24,r=window.innerHeight,n=window.innerWidth,s=e>16?Math.max(r,n)/2*(e-16+1):0,o=v.getPitch(),i=[[0-s,r+s],[n+s,o>60?(o-60)/25*(r/2):0]],a=v.queryRenderedFeatures(i,{filter:[">","height_est",t],layers:["trees"],validate:!1});console.log("üå≥",a.length),requestAnimationFrame((function(){var e=a.map(_);w.setProps({data:e}),P.setProps({data:e})}))}};v.on("moveend",e),v.once("idle",e),v.on("resize",e),P.deck.setProps({effects:[T]})}));var S=y.default.filter((function(e){var t=e.type,r=e.name;return"park"===t&&/park|garden/i.test(r)&&!/playground/i.test(r)})).filter((function(e,t,r){return t===r.findIndex((function(t){return t.name===e.name}))})).sort((function(e,t){return e.name.localeCompare(t.name)}));console.log(S.length);var j=document.createElement("select");j.innerHTML="<option>üöÅ Fly to a park</option>"+S.map((function(e){return'<option value="'.concat(e.position.join(","),'">').concat(e.name,"</option>")})).join(""),document.getElementById("parks").appendChild(j),j.addEventListener("change",(function(){if(j.value){var e=j.value.split(",").map(Number);v.flyTo({center:e,zoom:17})}}))},{"@deck.gl/mapbox/dist/esm/mapbox-layer":"7ymJV","@deck.gl/core/dist/esm/effects/lighting/ambient-light":"h0Tez","@deck.gl/core/dist/esm/effects/lighting/directional-light":"ettPi","@deck.gl/core/dist/esm/effects/lighting/lighting-effect":"b93pG","@deck.gl/mesh-layers/dist/esm/simple-mesh-layer/simple-mesh-layer":"6SXuF","@luma.gl/engine/dist/esm/geometries/cylinder-geometry":"ipgRH","@turf/circle":"gKPNE","@loaders.gl/draco":"5Csjn","../data/pois.json":"7lcIW",a1066b100af06a84:"4Dbfj","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"7ymJV":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("./deck-utils");r.default=class{constructor(e){if(!e.id)throw new Error("Layer must have an unique id");this.id=e.id,this.type="custom",this.renderingMode=e.renderingMode||"3d",this.map=null,this.deck=null,this.props=e}onAdd(e,t){this.map=e,this.deck=n.getDeckInstance({map:e,gl:t,deck:this.props.deck}),n.addLayer(this.deck,this)}onRemove(){n.removeLayer(this.deck,this)}setProps(e){Object.assign(this.props,e,{id:this.id}),this.deck&&n.updateLayer(this.deck,this)}render(e,t){n.drawLayer(this.deck,this.map,this)}}},{"./deck-utils":"hZIrB","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hZIrB:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getDeckInstance",(()=>o)),n.export(r,"addLayer",(()=>i)),n.export(r,"removeLayer",(()=>a)),n.export(r,"updateLayer",(()=>l)),n.export(r,"drawLayer",(()=>c));var s=e("@deck.gl/core");function o({map:e,gl:t,deck:r}){if(e.__deck)return e.__deck;const n=r&&r.props._customRender,o={useDevicePixels:!0,_customRender:()=>{e.triggerRepaint(),n&&n()},parameters:{depthMask:!0,depthTest:!0,blendFunc:[770,771,1,771],blendEquation:32774},userData:{isExternal:!1,mapboxLayers:new Set}};return r?(r.setProps(o),r.props.userData.isExternal=!0):(Object.assign(o,{gl:t,width:!1,height:!1,touchAction:"unset",viewState:u(e)}),r=new s.Deck(o),e.on("move",(()=>function(e,t){e.setProps({viewState:u(t)}),e.needsRedraw({clearRedrawFlags:!0})}(r,e))),e.on("remove",(()=>{r.finalize(),e.__deck=null}))),r.props.userData.mapboxVersion=function(e){let t=0,r=0;e.version&&([t,r]=e.version.split(".").slice(0,2).map(Number));return{major:t,minor:r}}(e),e.__deck=r,e.on("render",(()=>{r.layerManager&&function(e,t){const{mapboxLayers:r,isExternal:n}=e.props.userData;if(n){const n=Array.from(r,(e=>e.id));e.props.layers.some((e=>!n.includes(e.id)))&&e._drawLayers("mapbox-repaint",{viewports:[p(e,t,!1)],layerFilter:({layer:e})=>!n.includes(e.id),clearCanvas:!1})}e.props.userData.currentViewport=null}(r,e)})),r}function i(e,t){e.props.userData.mapboxLayers.add(t),d(e)}function a(e,t){e.props.userData.mapboxLayers.delete(t),d(e)}function l(e,t){d(e)}function c(e,t,r){let{currentViewport:n}=e.props.userData;n||(n=p(e,t,!0),e.props.userData.currentViewport=n),e.layerManager&&e._drawLayers("mapbox-repaint",{viewports:[n],layerFilter:({layer:e})=>r.id===e.id,clearCanvas:!1})}function u(e){const{lng:t,lat:r}=e.getCenter();return{longitude:t,latitude:r,zoom:e.getZoom(),bearing:e.getBearing(),pitch:e.getPitch()}}function p(e,t,r=!0){const{mapboxVersion:n}=e.props.userData;return new s.WebMercatorViewport(Object.assign({x:0,y:0,width:e.width,height:e.height,repeat:!0},u(t),r?{nearZMultiplier:1===n.major&&n.minor>=3||n.major>=2?.02:1/(e.height||1)}:{nearZMultiplier:.1}))}function d(e){if(e.props.userData.isExternal)return;const t=[];e.props.userData.mapboxLayers.forEach((e=>{const r=new(0,e.props.type)(e.props);t.push(r)})),e.setProps({layers:t})}},{"@deck.gl/core":"b0xps","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],b0xps:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"COORDINATE_SYSTEM",(()=>o.COORDINATE_SYSTEM)),n.export(r,"UNIT",(()=>o.UNIT)),n.export(r,"LightingEffect",(()=>a.default)),n.export(r,"AmbientLight",(()=>l.AmbientLight)),n.export(r,"DirectionalLight",(()=>c.DirectionalLight)),n.export(r,"PointLight",(()=>u.PointLight)),n.export(r,"_CameraLight",(()=>d.default)),n.export(r,"_SunLight",(()=>f.default)),n.export(r,"PostProcessEffect",(()=>g.default)),n.export(r,"_LayersPass",(()=>b.default)),n.export(r,"Deck",(()=>x.default)),n.export(r,"LayerManager",(()=>w.default)),n.export(r,"AttributeManager",(()=>E.default)),n.export(r,"Layer",(()=>T.default)),n.export(r,"CompositeLayer",(()=>j.default)),n.export(r,"DeckRenderer",(()=>I.default)),n.export(r,"Viewport",(()=>k.default)),n.export(r,"WebMercatorViewport",(()=>F.default)),n.export(r,"_GlobeViewport",(()=>O.default)),n.export(r,"picking",(()=>s.picking)),n.export(r,"project",(()=>s.project)),n.export(r,"project32",(()=>s.project32)),n.export(r,"gouraudLighting",(()=>s.gouraudLighting)),n.export(r,"phongLighting",(()=>s.phongLighting)),n.export(r,"shadow",(()=>s.shadow)),n.export(r,"View",(()=>D.default)),n.export(r,"MapView",(()=>U.default)),n.export(r,"FirstPersonView",(()=>H.default)),n.export(r,"OrbitView",(()=>G.default)),n.export(r,"OrthographicView",(()=>Y.default)),n.export(r,"_GlobeView",(()=>q.default)),n.export(r,"Controller",(()=>Q.default)),n.export(r,"MapController",(()=>$.default)),n.export(r,"_GlobeController",(()=>ee.default)),n.export(r,"FirstPersonController",(()=>re.default)),n.export(r,"OrbitController",(()=>se.default)),n.export(r,"OrthographicController",(()=>ie.default)),n.export(r,"Effect",(()=>le.default)),n.export(r,"LayerExtension",(()=>ue.default)),n.export(r,"TRANSITION_EVENTS",(()=>pe.TRANSITION_EVENTS)),n.export(r,"TransitionInterpolator",(()=>he.default)),n.export(r,"LinearInterpolator",(()=>me.default)),n.export(r,"FlyToInterpolator",(()=>ye.default)),n.export(r,"log",(()=>ve.default)),n.export(r,"createIterable",(()=>xe.createIterable)),n.export(r,"fp64LowPart",(()=>_e.fp64LowPart)),n.export(r,"Tesselator",(()=>Pe.default)),n.export(r,"_fillArray",(()=>Ee.fillArray)),n.export(r,"_flatten",(()=>Ee.flatten)),n.export(r,"_count",(()=>Ae.count)),n.export(r,"_memoize",(()=>Se.default)),n.export(r,"_mergeShaders",(()=>je.mergeShaders)),n.export(r,"_compareProps",(()=>Ce.compareProps));e("./lib/init");var s=e("./shaderlib"),o=e("./lib/constants"),i=e("./effects/lighting/lighting-effect"),a=n.interopDefault(i),l=e("./effects/lighting/ambient-light"),c=e("./effects/lighting/directional-light"),u=e("./effects/lighting/point-light"),p=e("./effects/lighting/camera-light"),d=n.interopDefault(p),h=e("./effects/lighting/sun-light"),f=n.interopDefault(h),m=e("./effects/post-process-effect"),g=n.interopDefault(m),y=e("./passes/layers-pass"),b=n.interopDefault(y),v=e("./lib/deck"),x=n.interopDefault(v),_=e("./lib/layer-manager"),w=n.interopDefault(_),P=e("./lib/attribute/attribute-manager"),E=n.interopDefault(P),A=e("./lib/layer"),T=n.interopDefault(A),S=e("./lib/composite-layer"),j=n.interopDefault(S),C=e("./lib/deck-renderer"),I=n.interopDefault(C),M=e("./viewports/viewport"),k=n.interopDefault(M),L=e("./viewports/web-mercator-viewport"),F=n.interopDefault(L),R=e("./viewports/globe-viewport"),O=n.interopDefault(R),N=e("./views/view"),D=n.interopDefault(N),B=e("./views/map-view"),U=n.interopDefault(B),z=e("./views/first-person-view"),H=n.interopDefault(z),V=e("./views/orbit-view"),G=n.interopDefault(V),W=e("./views/orthographic-view"),Y=n.interopDefault(W),X=e("./views/globe-view"),q=n.interopDefault(X),Z=e("./controllers/controller"),Q=n.interopDefault(Z),K=e("./controllers/map-controller"),$=n.interopDefault(K),J=e("./controllers/globe-controller"),ee=n.interopDefault(J),te=e("./controllers/first-person-controller"),re=n.interopDefault(te),ne=e("./controllers/orbit-controller"),se=n.interopDefault(ne),oe=e("./controllers/orthographic-controller"),ie=n.interopDefault(oe),ae=e("./lib/effect"),le=n.interopDefault(ae),ce=e("./lib/layer-extension"),ue=n.interopDefault(ce),pe=e("./controllers/transition-manager"),de=e("./transitions/transition-interpolator"),he=n.interopDefault(de),fe=e("./transitions/linear-interpolator"),me=n.interopDefault(fe),ge=e("./transitions/viewport-fly-to-interpolator"),ye=n.interopDefault(ge),be=e("./utils/log"),ve=n.interopDefault(be),xe=e("./utils/iterable-utils"),_e=e("./utils/math-utils"),we=e("./utils/tesselator"),Pe=n.interopDefault(we),Ee=e("./utils/flatten"),Ae=e("./utils/count"),Te=e("./utils/memoize"),Se=n.interopDefault(Te),je=e("./utils/shader"),Ce=e("./lifecycle/props")},{"./lib/init":"i7rRg","./shaderlib":"aPLJL","./lib/constants":"ewpM3","./effects/lighting/lighting-effect":"b93pG","./effects/lighting/ambient-light":"h0Tez","./effects/lighting/directional-light":"ettPi","./effects/lighting/point-light":"cGIEb","./effects/lighting/camera-light":"213Q8","./effects/lighting/sun-light":"iZPzV","./effects/post-process-effect":"lNFDD","./passes/layers-pass":"2KBcN","./lib/deck":"lTWdq","./lib/layer-manager":"gTH1T","./lib/attribute/attribute-manager":"2PHBE","./lib/layer":"kc7Vl","./lib/composite-layer":"ctFEo","./lib/deck-renderer":"lA17x","./viewports/viewport":"eKRkf","./viewports/web-mercator-viewport":"dprUt","./viewports/globe-viewport":"hesAn","./views/view":"bEwW4","./views/map-view":"5By4P","./views/first-person-view":"l2fe6","./views/orbit-view":"hPUtu","./views/orthographic-view":"ank89","./views/globe-view":"aqCPe","./controllers/controller":"fgpvE","./controllers/map-controller":"3DWOI","./controllers/globe-controller":"cTWwi","./controllers/first-person-controller":"36TNY","./controllers/orbit-controller":"fWwyP","./controllers/orthographic-controller":"8nvmr","./lib/effect":"5oG8a","./lib/layer-extension":"2qfbT","./controllers/transition-manager":"j4lPx","./transitions/transition-interpolator":"4GSC4","./transitions/linear-interpolator":"23Kgs","./transitions/viewport-fly-to-interpolator":"9QZz5","./utils/log":"aMqim","./utils/iterable-utils":"egtEn","./utils/math-utils":"3gUfz","./utils/tesselator":"l85Cb","./utils/flatten":"3oSTR","./utils/count":"kd37r","./utils/memoize":"3VYtJ","./utils/shader":"511XU","./lifecycle/props":"ja24T","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],i7rRg:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@loaders.gl/core"),o=e("@loaders.gl/images"),i=e("probe.gl/env"),a=e("../utils/log"),l=n.interopDefault(a),c=e("../debug"),u=e("../utils/json-loader"),p=n.interopDefault(u);const d="8.6.0",h=i.global.deck&&i.global.deck.VERSION;if(h&&h!==d)throw new Error("deck.gl - multiple versions detected: ".concat(h," vs ").concat(d));h||(l.default.log(1,"deck.gl ".concat(d))(),i.global.deck=Object.assign(i.global.deck||{},{VERSION:d,version:d,log:l.default,_registerLoggers:c.register}),s.registerLoaders([p.default,[o.ImageLoader,{imagebitmap:{premultiplyAlpha:"none"}}]])),r.default=i.global.deck},{"@loaders.gl/core":"3xrRN","@loaders.gl/images":"9gGE1","probe.gl/env":"3CmCn","../utils/log":"aMqim","../debug":"2nXIZ","../utils/json-loader":"2Ppo2","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3xrRN":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"fetchFile",(()=>s.fetchFile)),n.export(r,"readArrayBuffer",(()=>o.readArrayBuffer)),n.export(r,"readFileSync",(()=>i.readFileSync)),n.export(r,"writeFile",(()=>a.writeFile)),n.export(r,"writeFileSync",(()=>a.writeFileSync)),n.export(r,"setLoaderOptions",(()=>l.setLoaderOptions)),n.export(r,"registerLoaders",(()=>c.registerLoaders)),n.export(r,"selectLoader",(()=>u.selectLoader)),n.export(r,"selectLoaderSync",(()=>u.selectLoaderSync)),n.export(r,"parse",(()=>p.parse)),n.export(r,"parseSync",(()=>d.parseSync)),n.export(r,"parseInBatches",(()=>h.parseInBatches)),n.export(r,"load",(()=>f.load)),n.export(r,"loadInBatches",(()=>m.loadInBatches)),n.export(r,"encode",(()=>g.encode)),n.export(r,"encodeSync",(()=>g.encodeSync)),n.export(r,"encodeInBatches",(()=>g.encodeInBatches)),n.export(r,"encodeText",(()=>g.encodeText)),n.export(r,"encodeURLtoURL",(()=>g.encodeURLtoURL)),n.export(r,"save",(()=>y.save)),n.export(r,"saveSync",(()=>y.saveSync)),n.export(r,"setPathPrefix",(()=>b.setPathPrefix)),n.export(r,"getPathPrefix",(()=>b.getPathPrefix)),n.export(r,"resolvePath",(()=>b.resolvePath)),n.export(r,"RequestScheduler",(()=>b.RequestScheduler)),n.export(r,"makeIterator",(()=>v.makeIterator)),n.export(r,"makeStream",(()=>x.makeStream)),n.export(r,"makeDOMStream",(()=>_.makeDOMStream)),n.export(r,"makeNodeStream",(()=>P.default)),n.export(r,"NullWorkerLoader",(()=>E.NullWorkerLoader)),n.export(r,"NullLoader",(()=>E.NullLoader)),n.export(r,"JSONLoader",(()=>b.JSONLoader)),n.export(r,"_fetchProgress",(()=>T.default)),n.export(r,"_BrowserFileSystem",(()=>j.default)),n.export(r,"_unregisterLoaders",(()=>c._unregisterLoaders)),n.export(r,"isBrowser",(()=>b.isBrowser)),n.export(r,"isWorker",(()=>b.isWorker)),n.export(r,"self",(()=>b.self)),n.export(r,"window",(()=>b.window)),n.export(r,"global",(()=>b.global)),n.export(r,"document",(()=>b.document)),n.export(r,"assert",(()=>b.assert)),n.export(r,"forEach",(()=>b.forEach)),n.export(r,"concatenateArrayBuffersAsync",(()=>b.concatenateArrayBuffersAsync)),n.export(r,"makeTextDecoderIterator",(()=>b.makeTextDecoderIterator)),n.export(r,"makeTextEncoderIterator",(()=>b.makeTextEncoderIterator)),n.export(r,"makeLineIterator",(()=>b.makeLineIterator)),n.export(r,"makeNumberedLineIterator",(()=>b.makeNumberedLineIterator)),n.export(r,"isPureObject",(()=>C.isPureObject)),n.export(r,"isPromise",(()=>C.isPromise)),n.export(r,"isIterable",(()=>C.isIterable)),n.export(r,"isAsyncIterable",(()=>C.isAsyncIterable)),n.export(r,"isIterator",(()=>C.isIterator)),n.export(r,"isResponse",(()=>C.isResponse)),n.export(r,"isReadableStream",(()=>C.isReadableStream)),n.export(r,"isWritableStream",(()=>C.isWritableStream));var s=e("./lib/fetch/fetch-file"),o=e("./lib/fetch/read-array-buffer"),i=e("./lib/fetch/read-file"),a=e("./lib/fetch/write-file"),l=e("./lib/api/set-loader-options"),c=e("./lib/api/register-loaders"),u=e("./lib/api/select-loader"),p=e("./lib/api/parse"),d=e("./lib/api/parse-sync"),h=e("./lib/api/parse-in-batches"),f=e("./lib/api/load"),m=e("./lib/api/load-in-batches"),g=e("./lib/api/encode"),y=e("./lib/api/save"),b=e("@loaders.gl/loader-utils"),v=e("./iterators/make-iterator/make-iterator"),x=e("./iterators/make-stream/make-stream"),_=e("./iterators/make-stream/make-dom-stream"),w=e("./iterators/make-stream/make-node-stream"),P=n.interopDefault(w),E=e("./null-loader"),A=e("./lib/progress/fetch-progress"),T=n.interopDefault(A),S=e("./lib/filesystems/browser-filesystem"),j=n.interopDefault(S),C=e("./javascript-utils/is-type")},{"./lib/fetch/fetch-file":"lc8nT","./lib/fetch/read-array-buffer":"dQ2iq","./lib/fetch/read-file":"fEmIs","./lib/fetch/write-file":"hm3lm","./lib/api/set-loader-options":"ahmUu","./lib/api/register-loaders":"kunk1","./lib/api/select-loader":"jsR5U","./lib/api/parse":"8aQqL","./lib/api/parse-sync":"jv2zu","./lib/api/parse-in-batches":"fUDp9","./lib/api/load":"3IEOr","./lib/api/load-in-batches":"9fqDk","./lib/api/encode":"aU79E","./lib/api/save":"8sYRU","@loaders.gl/loader-utils":"TOx17","./iterators/make-iterator/make-iterator":"8pafx","./iterators/make-stream/make-stream":"fCPFF","./iterators/make-stream/make-dom-stream":"hC4i8","./iterators/make-stream/make-node-stream":"sC0bR","./null-loader":"hipGC","./lib/progress/fetch-progress":"ks2GY","./lib/filesystems/browser-filesystem":"iddkD","./javascript-utils/is-type":"lv7EG","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lc8nT:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"fetchFile",(()=>i));var s=e("@loaders.gl/loader-utils"),o=e("../utils/response-utils");async function i(e,t){if("string"==typeof e){e=s.resolvePath(e);let r=t;return null!=t&&t.fetch&&"function"!=typeof(null==t?void 0:t.fetch)&&(r=t.fetch),await fetch(e,r)}return await o.makeResponse(e)}},{"@loaders.gl/loader-utils":"TOx17","../utils/response-utils":"fSGT3","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],TOx17:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"assert",(()=>a.assert)),n.export(r,"isBrowser",(()=>l.isBrowser)),n.export(r,"isWorker",(()=>l.isWorker)),n.export(r,"nodeVersion",(()=>l.nodeVersion)),n.export(r,"self",(()=>l.self)),n.export(r,"window",(()=>l.window)),n.export(r,"global",(()=>l.global)),n.export(r,"document",(()=>l.document)),n.export(r,"createLoaderWorker",(()=>c.createLoaderWorker)),n.export(r,"parseWithWorker",(()=>u.parseWithWorker)),n.export(r,"canParseWithWorker",(()=>u.canParseWithWorker)),n.export(r,"parseJSON",(()=>p.parseJSON)),n.export(r,"toArrayBuffer",(()=>d.toArrayBuffer)),n.export(r,"sliceArrayBuffer",(()=>d.sliceArrayBuffer)),n.export(r,"concatenateArrayBuffers",(()=>d.concatenateArrayBuffers)),n.export(r,"concatenateTypedArrays",(()=>d.concatenateTypedArrays)),n.export(r,"compareArrayBuffers",(()=>d.compareArrayBuffers)),n.export(r,"padToNBytes",(()=>h.padToNBytes)),n.export(r,"copyToArray",(()=>h.copyToArray)),n.export(r,"copyArrayBuffer",(()=>h.copyArrayBuffer)),n.export(r,"copyPaddedArrayBufferToDataView",(()=>f.copyPaddedArrayBufferToDataView)),n.export(r,"copyPaddedStringToDataView",(()=>f.copyPaddedStringToDataView)),n.export(r,"padStringToByteAlignment",(()=>m.padStringToByteAlignment)),n.export(r,"copyStringToDataView",(()=>m.copyStringToDataView)),n.export(r,"copyBinaryToDataView",(()=>m.copyBinaryToDataView)),n.export(r,"getFirstCharacters",(()=>g.getFirstCharacters)),n.export(r,"getMagicString",(()=>g.getMagicString)),n.export(r,"makeTextEncoderIterator",(()=>y.makeTextEncoderIterator)),n.export(r,"makeTextDecoderIterator",(()=>y.makeTextDecoderIterator)),n.export(r,"makeLineIterator",(()=>y.makeLineIterator)),n.export(r,"makeNumberedLineIterator",(()=>y.makeNumberedLineIterator)),n.export(r,"forEach",(()=>b.forEach)),n.export(r,"concatenateArrayBuffersAsync",(()=>b.concatenateArrayBuffersAsync)),n.export(r,"RequestScheduler",(()=>x.default)),n.export(r,"setPathPrefix",(()=>_.setPathPrefix)),n.export(r,"getPathPrefix",(()=>_.getPathPrefix)),n.export(r,"resolvePath",(()=>_.resolvePath)),n.export(r,"_addAliases",(()=>_.addAliases)),n.export(r,"JSONLoader",(()=>w.JSONLoader)),n.export(r,"path",(()=>s)),n.export(r,"isBuffer",(()=>P.isBuffer)),n.export(r,"toBuffer",(()=>P.toBuffer)),n.export(r,"bufferToArrayBuffer",(()=>P.bufferToArrayBuffer)),n.export(r,"util",(()=>o)),n.export(r,"promisify",(()=>o.promisify)),n.export(r,"fs",(()=>i)),n.export(r,"_NodeFileSystem",(()=>A.default));var s=e("./lib/path-utils/path"),o=e("./lib/node/util"),i=e("./lib/node/fs"),a=e("./lib/env-utils/assert"),l=e("./lib/env-utils/globals"),c=e("./lib/worker-loader-utils/create-loader-worker"),u=e("./lib/worker-loader-utils/parse-with-worker"),p=e("./lib/parser-utils/parse-json"),d=e("./lib/binary-utils/array-buffer-utils"),h=e("./lib/binary-utils/memory-copy-utils"),f=e("./lib/binary-utils/binary-copy-utils"),m=e("./lib/binary-utils/encode-utils"),g=e("./lib/binary-utils/get-first-characters"),y=e("./lib/iterators/text-iterators"),b=e("./lib/iterators/async-iteration"),v=e("./lib/request-utils/request-scheduler"),x=n.interopDefault(v),_=e("./lib/path-utils/file-aliases"),w=e("./json-loader"),P=e("./lib/binary-utils/buffer-utils"),E=e("./lib/filesystems/node-filesystem"),A=n.interopDefault(E)},{"./lib/env-utils/assert":"95Z4o","./lib/env-utils/globals":"mPWq8","./lib/worker-loader-utils/create-loader-worker":"l8FZT","./lib/worker-loader-utils/parse-with-worker":"2yJHJ","./lib/parser-utils/parse-json":"e4otq","./lib/binary-utils/array-buffer-utils":"43DSr","./lib/binary-utils/memory-copy-utils":"itfLr","./lib/binary-utils/binary-copy-utils":"lGyZq","./lib/binary-utils/encode-utils":"4wkmd","./lib/binary-utils/get-first-characters":"1uEnA","./lib/iterators/text-iterators":"7X8Om","./lib/iterators/async-iteration":"lnxxv","./lib/request-utils/request-scheduler":"6wCkq","./lib/path-utils/file-aliases":"lCGQb","./json-loader":"6MTjO","./lib/path-utils/path":"cOHRM","./lib/binary-utils/buffer-utils":"auIDu","./lib/node/util":"sC0bR","./lib/node/fs":"sC0bR","./lib/filesystems/node-filesystem":"gmet0","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"95Z4o":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t){if(!e)throw new Error(t||"loader assertion failed.")}n.defineInteropFlag(r),n.export(r,"assert",(()=>s))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hHxEl:[function(e,t,r){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach((function(r){"default"===r||"__esModule"===r||t.hasOwnProperty(r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],mPWq8:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"self",(()=>a)),n.export(r,"window",(()=>l)),n.export(r,"global",(()=>c)),n.export(r,"document",(()=>u)),n.export(r,"isBrowser",(()=>p)),n.export(r,"isWorker",(()=>d)),n.export(r,"nodeVersion",(()=>f));var s=arguments[3],o=e("process");const i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==s&&s,document:"undefined"!=typeof document&&document},a=i.self||i.window||i.global||{},l=i.window||i.self||i.global||{},c=i.global||i.self||i.window||{},u=i.document||{},p="object"!=typeof o||"[object process]"!==String(o)||!0,d="function"==typeof importScripts,h=void 0!==o&&o.version&&/v([0-9]*)/.exec(o.version),f=h&&parseFloat(h[1])||0},{process:"k8Kyg","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],k8Kyg:[function(e,t,r){var n,s,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{s="function"==typeof clearTimeout?clearTimeout:a}catch(e){s=a}}();var c,u=[],p=!1,d=-1;function h(){p&&c&&(p=!1,c.length?u=c.concat(u):d=-1,u.length&&f())}function f(){if(!p){var e=l(h);p=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,p=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===a||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new m(e,t)),1!==u.length||p||l(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],l8FZT:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"createLoaderWorker",(()=>i));var s=e("@loaders.gl/worker-utils");let o=0;function i(e){"undefined"!=typeof self&&(s.WorkerBody.onmessage=async(t,r)=>{if("process"===t)try{const{input:t,options:n={}}=r,o=await async function({loader:e,arrayBuffer:t,options:r,context:n}){let s,o;if(e.parseSync||e.parse)s=t,o=e.parseSync||e.parse;else{if(!e.parseTextSync)throw new Error(`Could not load data with ${e.name} loader`);s=(new TextDecoder).decode(t),o=e.parseTextSync}return r={...r,modules:e&&e.options&&e.options.modules||{},worker:!1},await o(s,{...r},n,e)}({loader:e,arrayBuffer:t,options:n,context:{parse:a}});s.WorkerBody.postMessage("done",{result:o})}catch(e){const t=e instanceof Error?e.message:"";s.WorkerBody.postMessage("error",{error:t})}})}function a(e,t){return new Promise(((r,n)=>{const i=o++,a=(e,t)=>{if(t.id===i)switch(e){case"done":s.WorkerBody.removeEventListener(a),r(t.result);break;case"error":s.WorkerBody.removeEventListener(a),n(t.error)}};s.WorkerBody.addEventListener(a);const l={id:i,input:e,options:t};s.WorkerBody.postMessage("process",l)}))}},{"@loaders.gl/worker-utils":"e1ju8","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],e1ju8:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"assert",(()=>o.assert)),n.export(r,"isBrowser",(()=>i.isBrowser)),n.export(r,"isWorker",(()=>i.isWorker)),n.export(r,"WorkerJob",(()=>l.default)),n.export(r,"WorkerThread",(()=>u.default)),n.export(r,"WorkerFarm",(()=>d.default)),n.export(r,"WorkerPool",(()=>f.default)),n.export(r,"WorkerBody",(()=>g.default)),n.export(r,"processOnWorker",(()=>y.processOnWorker)),n.export(r,"canProcessOnWorker",(()=>y.canProcessOnWorker)),n.export(r,"createWorker",(()=>b.createWorker)),n.export(r,"getWorkerURL",(()=>v.getWorkerURL)),n.export(r,"validateWorkerVersion",(()=>x.validateWorkerVersion)),n.export(r,"getTransferList",(()=>_.getTransferList)),n.export(r,"getLibraryUrl",(()=>w.getLibraryUrl)),n.export(r,"loadLibrary",(()=>w.loadLibrary)),n.export(r,"AsyncQueue",(()=>E.default)),n.export(r,"ChildProcessProxy",(()=>T.default)),n.export(r,"NullWorker",(()=>S));var s=e("./lib/env-utils/version"),o=e("./lib/env-utils/assert"),i=e("./lib/env-utils/globals"),a=e("./lib/worker-farm/worker-job"),l=n.interopDefault(a),c=e("./lib/worker-farm/worker-thread"),u=n.interopDefault(c),p=e("./lib/worker-farm/worker-farm"),d=n.interopDefault(p),h=e("./lib/worker-farm/worker-pool"),f=n.interopDefault(h),m=e("./lib/worker-farm/worker-body"),g=n.interopDefault(m),y=e("./lib/worker-api/process-on-worker"),b=e("./lib/worker-api/create-worker"),v=e("./lib/worker-api/get-worker-url"),x=e("./lib/worker-api/validate-worker-version"),_=e("./lib/worker-utils/get-transfer-list"),w=e("./lib/library-utils/library-utils"),P=e("./lib/async-queue/async-queue"),E=n.interopDefault(P),A=e("./lib/process-utils/child-process-proxy"),T=n.interopDefault(A);const S={id:"null",name:"null",module:"worker-utils",version:s.VERSION,options:{null:{}}}},{"./lib/env-utils/version":"bTQEW","./lib/env-utils/assert":"7Y5hy","./lib/env-utils/globals":"aG7hz","./lib/worker-farm/worker-job":"7mDRU","./lib/worker-farm/worker-thread":"95aXZ","./lib/worker-farm/worker-farm":"7nHMK","./lib/worker-farm/worker-pool":"7sdYu","./lib/worker-farm/worker-body":"8paH6","./lib/worker-api/process-on-worker":"jopNt","./lib/worker-api/create-worker":"iaPeW","./lib/worker-api/get-worker-url":"ah2D0","./lib/worker-api/validate-worker-version":"7iCrD","./lib/worker-utils/get-transfer-list":"9glL9","./lib/library-utils/library-utils":"iDRAU","./lib/async-queue/async-queue":"ix2Cu","./lib/process-utils/child-process-proxy":"sC0bR","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],bTQEW:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"VERSION",(()=>s));const s="3.0.12"},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"7Y5hy":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}n.defineInteropFlag(r),n.export(r,"assert",(()=>s))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],aG7hz:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"self",(()=>a)),n.export(r,"window",(()=>l)),n.export(r,"global",(()=>c)),n.export(r,"document",(()=>u)),n.export(r,"isBrowser",(()=>p)),n.export(r,"isWorker",(()=>d)),n.export(r,"isMobile",(()=>h)),n.export(r,"nodeVersion",(()=>m));var s=e("process"),o=arguments[3];const i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==o&&o,document:"undefined"!=typeof document&&document},a=i.self||i.window||i.global||{},l=i.window||i.self||i.global||{},c=i.global||i.self||i.window||{},u=i.document||{},p="object"!=typeof s||"[object process]"!==String(s)||!0,d="function"==typeof importScripts,h="undefined"!=typeof window&&void 0!==window.orientation,f=void 0!==s&&s.version&&/v([0-9]*)/.exec(s.version),m=f&&parseFloat(f[1])||0},{process:"k8Kyg","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"7mDRU":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s),i=e("../env-utils/assert");r.default=class{constructor(e,t){o.default(this,"name",void 0),o.default(this,"workerThread",void 0),o.default(this,"isRunning",void 0),o.default(this,"result",void 0),o.default(this,"_resolve",void 0),o.default(this,"_reject",void 0),this.name=e,this.workerThread=t,this.isRunning=!0,this._resolve=()=>{},this._reject=()=>{},this.result=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}postMessage(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}done(e){i.assert(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){i.assert(this.isRunning),this.isRunning=!1,this._reject(e)}}},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","../env-utils/assert":"7Y5hy","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],g2kFJ:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"95aXZ":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s),i=e("../env-utils/assert"),a=e("../worker-utils/get-loadable-worker-url"),l=e("../worker-utils/get-transfer-list");const c=()=>{};r.default=class{static isSupported(){return"undefined"!=typeof Worker}constructor(e){o.default(this,"name",void 0),o.default(this,"source",void 0),o.default(this,"url",void 0),o.default(this,"terminated",!1),o.default(this,"worker",void 0),o.default(this,"onMessage",void 0),o.default(this,"onError",void 0),o.default(this,"_loadableURL","");const{name:t,source:r,url:n}=e;i.assert(r||n),this.name=t,this.source=r,this.url=n,this.onMessage=c,this.onError=e=>console.log(e),this.worker=this._createBrowserWorker()}destroy(){this.onMessage=c,this.onError=c,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(e,t){t=t||l.getTransferList(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+=`worker ${this.name}. `,e.message&&(t+=`${e.message} in `),e.lineno&&(t+=`:${e.lineno}:${e.colno}`),new Error(t)}_createBrowserWorker(){this._loadableURL=a.getLoadableWorkerURL({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=e=>{e.data?this.onMessage(e.data):this.onError(new Error("No data received"))},e.onerror=e=>{this.onError(this._getErrorFromErrorEvent(e)),this.terminated=!0},e.onmessageerror=e=>console.error(e),e}}},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","../env-utils/assert":"7Y5hy","../worker-utils/get-loadable-worker-url":"kGD8J","../worker-utils/get-transfer-list":"9glL9","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],kGD8J:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getLoadableWorkerURL",(()=>i));var s=e("../env-utils/assert");const o=new Map;function i(e){s.assert(e.source&&!e.url||!e.source&&e.url);let t=o.get(e.source||e.url);return t||(e.url&&(t=function(e){if(!e.startsWith("http"))return e;return a((t=e,`try {\n  importScripts('${t}');\n} catch (error) {\n  console.error(error);\n  throw error;\n}`));var t}(e.url),o.set(e.url,t)),e.source&&(t=a(e.source),o.set(e.source,t))),s.assert(t),t}function a(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}},{"../env-utils/assert":"7Y5hy","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"9glL9":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t=!0,r){const n=r||new Set;if(e){if(o(e))n.add(e);else if(o(e.buffer))n.add(e.buffer);else if(ArrayBuffer.isView(e));else if(t&&"object"==typeof e)for(const r in e)s(e[r],t,n)}else;return void 0===r?Array.from(n):[]}function o(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&e instanceof MessagePort||("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}n.defineInteropFlag(r),n.export(r,"getTransferList",(()=>s))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"7nHMK":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s),i=e("./worker-pool"),a=n.interopDefault(i),l=e("./worker-thread"),c=n.interopDefault(l);const u={maxConcurrency:3,maxMobileConcurrency:1,onDebug:()=>{},reuseWorkers:!0};class p{static isSupported(){return c.default.isSupported()}static getWorkerFarm(e={}){return p._workerFarm=p._workerFarm||new p({}),p._workerFarm.setProps(e),p._workerFarm}constructor(e){o.default(this,"props",void 0),o.default(this,"workerPools",new Map),this.props={...u},this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy()}setProps(e){this.props={...this.props,...e};for(const e of this.workerPools.values())e.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:t,source:r,url:n}=e;let s=this.workerPools.get(t);return s||(s=new a.default({name:t,source:r,url:n}),s.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,s)),s}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}r.default=p,o.default(p,"_workerFarm",void 0)},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","./worker-pool":"7sdYu","./worker-thread":"95aXZ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"7sdYu":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s),i=e("../env-utils/globals"),a=e("./worker-thread"),l=n.interopDefault(a),c=e("./worker-job"),u=n.interopDefault(c);r.default=class{constructor(e){o.default(this,"name","unnamed"),o.default(this,"source",void 0),o.default(this,"url",void 0),o.default(this,"maxConcurrency",1),o.default(this,"maxMobileConcurrency",1),o.default(this,"onDebug",(()=>{})),o.default(this,"reuseWorkers",!0),o.default(this,"props",{}),o.default(this,"jobQueue",[]),o.default(this,"idleQueue",[]),o.default(this,"count",0),o.default(this,"isDestroyed",!1),this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach((e=>e.destroy())),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}async startJob(e,t=((e,t,r)=>e.done(r)),r=((e,t)=>e.error(t))){const n=new Promise((n=>(this.jobQueue.push({name:e,onMessage:t,onError:r,onStart:n}),this)));return this._startQueuedJob(),await n}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const t=this.jobQueue.shift();if(t){this.onDebug({message:"Starting job",name:t.name,workerThread:e,backlog:this.jobQueue.length});const r=new u.default(t.name,e);e.onMessage=e=>t.onMessage(r,e.type,e.payload),e.onError=e=>t.onError(r,e),t.onStart(r);try{await r.result}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new l.default({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return i.isMobile?this.maxMobileConcurrency:this.maxConcurrency}}},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","../env-utils/globals":"aG7hz","./worker-thread":"95aXZ","./worker-job":"7mDRU","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"8paH6":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("../worker-utils/get-transfer-list");const s=new Map;function o(e){const{type:t,data:r}=e;return"message"===t&&r&&"string"==typeof r.source&&r.source.startsWith("loaders.gl")}r.default=class{static set onmessage(e){self.onmessage=t=>{if(!o(t))return;const{type:r,payload:n}=t.data;e(r,n)}}static addEventListener(e){let t=s.get(e);t||(t=t=>{if(!o(t))return;const{type:r,payload:n}=t.data;e(r,n)}),self.addEventListener("message",t)}static removeEventListener(e){const t=s.get(e);s.delete(e),self.removeEventListener("message",t)}static postMessage(e,t){if(self){const r={source:"loaders.gl",type:e,payload:t},s=n.getTransferList(t);self.postMessage(r,s)}}}},{"../worker-utils/get-transfer-list":"9glL9","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jopNt:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"canProcessOnWorker",(()=>l)),n.export(r,"processOnWorker",(()=>c));var s=e("../worker-farm/worker-farm"),o=n.interopDefault(s),i=e("../worker-utils/remove-nontransferable-options"),a=e("./get-worker-url");function l(e,t){return!!o.default.isSupported()&&(e.worker&&(null==t?void 0:t.worker))}async function c(e,t,r={},n={}){const s=a.getWorkerName(e),l=a.getWorkerURL(e,r),c=o.default.getWorkerFarm(r).getWorkerPool({name:s,url:l}),p=r.jobName||e.name,d=await c.startJob(p,u.bind(null,n)),h=i.removeNontransferableOptions(r);d.postMessage("process",{input:t,options:h});return(await d.result).result}async function u(e,t,r,n){switch(r){case"done":t.done(n);break;case"error":t.error(n.error);break;case"process":const{id:s,input:o,options:i}=n;try{if(!e.process)return void t.postMessage("error",{id:s,error:"Worker not set up to process on main thread"});const r=await e.process(o,i);t.postMessage("done",{id:s,result:r})}catch(e){const r=e instanceof Error?e.message:"unknown error";t.postMessage("error",{id:s,error:r})}break;default:console.warn(`process-on-worker: unknown message ${r}`)}}},{"../worker-farm/worker-farm":"7nHMK","../worker-utils/remove-nontransferable-options":"85Iir","./get-worker-url":"ah2D0","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"85Iir":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){return JSON.parse(function(e){const t=new Set;return JSON.stringify(e,((e,r)=>{if("object"==typeof r&&null!==r){if(t.has(r))try{return JSON.parse(JSON.stringify(r))}catch(e){return}t.add(r)}return r}))}(e))}n.defineInteropFlag(r),n.export(r,"removeNontransferableOptions",(()=>s))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ah2D0:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getWorkerName",(()=>i)),n.export(r,"getWorkerURL",(()=>a));var s=e("../env-utils/assert");e("../env-utils/version");const o="3.0.12";function i(e){const t=e.version!==o?" (worker-utils@3.0.12)":"";return`${e.name}@${e.version}${t}`}function a(e,t={}){const r=t[e.id]||{},n=`${e.id}-worker.js`;let o=r.workerUrl;if("test"===t._workerType&&(o=`modules/${e.module}/dist/${n}`),!o){let t=e.version;"latest"===t&&(t="latest");const r=t?`@${t}`:"";o=`https://unpkg.com/@loaders.gl/${e.module}${r}/dist/${n}`}return s.assert(o),o}},{"../env-utils/assert":"7Y5hy","../env-utils/version":"bTQEW","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],iaPeW:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"createWorker",(()=>p));var s=e("../async-queue/async-queue"),o=n.interopDefault(s),i=e("../worker-farm/worker-body"),a=n.interopDefault(i);let l,c,u=0;function p(e,t){if("undefined"==typeof self)return;const r={process:d};a.default.onmessage=async(n,s)=>{try{switch(n){case"process":if(!e)throw new Error("Worker does not support atomic processing");const n=await e(s.input,s.options||{},r);a.default.postMessage("done",{result:n});break;case"process-in-batches":if(!t)throw new Error("Worker does not support batched processing");l=new o.default,c=s.options||{};const i=t(l,c,null==r?void 0:r.processInBatches);for await(const e of i)a.default.postMessage("output-batch",{result:e});a.default.postMessage("done",{});break;case"input-batch":l.push(s.input);break;case"input-done":l.close()}}catch(e){const t=e instanceof Error?e.message:"";a.default.postMessage("error",{error:t})}}}function d(e,t={}){return new Promise(((r,n)=>{const s=u++,o=(e,t)=>{if(t.id===s)switch(e){case"done":a.default.removeEventListener(o),r(t.result);break;case"error":a.default.removeEventListener(o),n(t.error)}};a.default.addEventListener(o);const i={id:s,input:e,options:t};a.default.postMessage("process",i)}))}},{"../async-queue/async-queue":"ix2Cu","../worker-farm/worker-body":"8paH6","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ix2Cu:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s);let i;i=Symbol.asyncIterator;r.default=class{constructor(){o.default(this,"_values",void 0),o.default(this,"_settlers",void 0),o.default(this,"_closed",void 0),this._values=[],this._settlers=[],this._closed=!1}[i](){return this}push(e){return this.enqueue(e)}enqueue(e){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const t=this._settlers.shift();e instanceof Error?t.reject(e):t.resolve({value:e})}else this._values.push(e)}close(){for(;this._settlers.length>0;){this._settlers.shift().resolve({done:!0})}this._closed=!0}next(){if(this._values.length>0){const e=this._values.shift();return e instanceof Error?Promise.reject(e):Promise.resolve({done:!1,value:e})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0,value:void 0})}return new Promise(((e,t)=>{this._settlers.push({resolve:e,reject:t})}))}}},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"7iCrD":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"validateWorkerVersion",(()=>i));var s=e("../env-utils/assert"),o=e("../env-utils/version");function i(e,t=o.VERSION){s.assert(e,"no worker provided");const r=e.version;return!(!t||!r)}},{"../env-utils/assert":"7Y5hy","../env-utils/version":"bTQEW","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],iDRAU:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"loadLibrary",(()=>l)),n.export(r,"getLibraryUrl",(()=>c));var s=e("../env-utils/globals"),o=e("../node/require-utils.node"),i=e("../env-utils/assert");e("../env-utils/version");const a={};async function l(e,t=null,r={}){return t&&(e=c(e,t,r)),a[e]=a[e]||async function(e){if(e.endsWith("wasm")){const t=await fetch(e);return await t.arrayBuffer()}if(!s.isBrowser)return o.requireFromFile&&await o.requireFromFile(e);if(s.isWorker)return importScripts(e);const t=await fetch(e);return function(e,t){if(!s.isBrowser)return o.requireFromString&&o.requireFromString(e,t);if(s.isWorker)return eval.call(s.global,e),null;const r=document.createElement("script");r.id=t;try{r.appendChild(document.createTextNode(e))}catch(t){r.text=e}return document.body.appendChild(r),null}(await t.text(),e)}(e),await a[e]}function c(e,t,r){if(e.startsWith("http"))return e;const n=r.modules||{};return n[e]?n[e]:s.isBrowser?r.CDN?(i.assert(r.CDN.startsWith("http")),`${r.CDN}/${t}@3.0.12/dist/libs/${e}`):s.isWorker?`../src/libs/${e}`:`modules/${t}/src/libs/${e}`:`modules/${t}/dist/libs/${e}`}},{"../env-utils/globals":"aG7hz","../node/require-utils.node":"sC0bR","../env-utils/assert":"7Y5hy","../env-utils/version":"bTQEW","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],sC0bR:[function(e,t,r){},{}],"2yJHJ":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"canParseWithWorker",(()=>o)),n.export(r,"parseWithWorker",(()=>i));var s=e("@loaders.gl/worker-utils");function o(e,t){return!!s.WorkerFarm.isSupported()&&(e.worker&&(null==t?void 0:t.worker))}async function i(e,t,r,n,o){const i=e.id,l=s.getWorkerURL(e,r),c=s.WorkerFarm.getWorkerFarm(r).getWorkerPool({name:i,url:l});r=JSON.parse(JSON.stringify(r));const u=await c.startJob("process-on-worker",a.bind(null,o));u.postMessage("process",{input:t,options:r});const p=await u.result;return await p.result}async function a(e,t,r,n){switch(r){case"done":t.done(n);break;case"error":t.error(n.error);break;case"process":const{id:s,input:o,options:i}=n;try{const r=await e(o,i);t.postMessage("done",{id:s,result:r})}catch(e){const r=e instanceof Error?e.message:"unknown error";t.postMessage("error",{id:s,error:r})}break;default:console.warn(`parse-with-worker unknown message ${r}`)}}},{"@loaders.gl/worker-utils":"e1ju8","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],e4otq:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"parseJSON",(()=>o));var s=e("../binary-utils/get-first-characters");function o(e){try{return JSON.parse(e)}catch(t){throw new Error(`Failed to parse JSON from data starting with "${s.getFirstCharacters(e)}"`)}}},{"../binary-utils/get-first-characters":"1uEnA","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"1uEnA":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t=5){if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return o(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){return o(e,0,t)}return""}function o(e,t,r){if(e.byteLength<=t+r)return"";const n=new DataView(e);let s="";for(let e=0;e<r;e++)s+=String.fromCharCode(n.getUint8(t+e));return s}n.defineInteropFlag(r),n.export(r,"getFirstCharacters",(()=>s)),n.export(r,"getMagicString",(()=>o))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"43DSr":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"toArrayBuffer",(()=>o)),n.export(r,"compareArrayBuffers",(()=>i)),n.export(r,"concatenateArrayBuffers",(()=>a)),n.export(r,"concatenateTypedArrays",(()=>l)),n.export(r,"sliceArrayBuffer",(()=>c));var s=e("./buffer-utils");function o(e){if(s.isBuffer(e)&&(e=s.bufferToArrayBuffer(e)),e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if("string"==typeof e){const t=e;return(new TextEncoder).encode(t).buffer}if(e&&"object"==typeof e&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}function i(e,t,r){if(r=r||e.byteLength,e.byteLength<r||t.byteLength<r)return!1;const n=new Uint8Array(e),s=new Uint8Array(t);for(let e=0;e<n.length;++e)if(n[e]!==s[e])return!1;return!0}function a(...e){const t=e.map((e=>e instanceof ArrayBuffer?new Uint8Array(e):e)),r=t.reduce(((e,t)=>e+t.byteLength),0),n=new Uint8Array(r);let s=0;for(const e of t)n.set(e,s),s+=e.byteLength;return n.buffer}function l(...e){const t=e,r=t&&t.length>1&&t[0].constructor||null;if(!r)throw new Error('"concatenateTypedArrays" - incorrect quantity of arguments or arguments have incompatible data types');const n=new r(t.reduce(((e,t)=>e+t.length),0));let s=0;for(const e of t)n.set(e,s),s+=e.length;return n}function c(e,t,r){const n=void 0!==r?new Uint8Array(e).subarray(t,t+r):new Uint8Array(e).subarray(t);return new Uint8Array(n).buffer}},{"./buffer-utils":"auIDu","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],auIDu:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"isBuffer",(()=>o)),n.export(r,"toBuffer",(()=>i)),n.export(r,"bufferToArrayBuffer",(()=>a));var s=e("../node/buffer");function o(e){return e&&"object"==typeof e&&e.isBuffer}function i(e){return s.toBuffer?s.toBuffer(e):e}function a(e){return s.toArrayBuffer?s.toArrayBuffer(e):e}},{"../node/buffer":"sC0bR","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],itfLr:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"padToNBytes",(()=>o)),n.export(r,"copyArrayBuffer",(()=>i)),n.export(r,"copyToArray",(()=>a));var s=e("../env-utils/assert");function o(e,t){return s.assert(e>=0),s.assert(t>0),e+(t-1)&~(t-1)}function i(e,t,r,n=t.byteLength){const s=new Uint8Array(e,r,n),o=new Uint8Array(t);return s.set(o),e}function a(e,t,r){let n;if(e instanceof ArrayBuffer)n=new Uint8Array(e);else{const t=e.byteOffset,r=e.byteLength;n=new Uint8Array(e.buffer||e.arrayBuffer,t,r)}return t.set(n,r),r+o(n.byteLength,4)}},{"../env-utils/assert":"95Z4o","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lGyZq:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"copyPaddedArrayBufferToDataView",(()=>o)),n.export(r,"copyPaddedStringToDataView",(()=>i));var s=e("./memory-copy-utils");function o(e,t,r,n){const o=s.padToNBytes(r.byteLength,n),i=o-r.byteLength;if(e){const n=new Uint8Array(e.buffer,e.byteOffset+t,r.byteLength),s=new Uint8Array(r);n.set(s);for(let n=0;n<i;++n)e.setUint8(t+r.byteLength+n,32)}return t+=o}function i(e,t,r,n){return t=o(e,t,(new TextEncoder).encode(r),n)}},{"./memory-copy-utils":"itfLr","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"4wkmd":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t){const r=e.length,n=Math.ceil(r/t)*t-r;let s="";for(let e=0;e<n;++e)s+=" ";return e+s}function o(e,t,r,n){if(e)for(let s=0;s<n;s++)e.setUint8(t+s,r.charCodeAt(s));return t+n}function i(e,t,r,n){if(e)for(let s=0;s<n;s++)e.setUint8(t+s,r[s]);return t+n}n.defineInteropFlag(r),n.export(r,"padStringToByteAlignment",(()=>s)),n.export(r,"copyStringToDataView",(()=>o)),n.export(r,"copyBinaryToDataView",(()=>i))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"7X8Om":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");async function*s(e,t={}){const r=new TextDecoder(void 0,t);for await(const t of e)yield"string"==typeof t?t:r.decode(t,{stream:!0})}async function*o(e){const t=new TextEncoder;for await(const r of e)yield"string"==typeof r?t.encode(r):r}async function*i(e){let t="";for await(const r of e){let e;for(t+=r;(e=t.indexOf("\n"))>=0;){const r=t.slice(0,e+1);t=t.slice(e+1),yield r}}t.length>0&&(yield t)}async function*a(e){let t=1;for await(const r of e)yield{counter:t,line:r},t++}n.defineInteropFlag(r),n.export(r,"makeTextDecoderIterator",(()=>s)),n.export(r,"makeTextEncoderIterator",(()=>o)),n.export(r,"makeLineIterator",(()=>i)),n.export(r,"makeNumberedLineIterator",(()=>a))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lnxxv:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"forEach",(()=>o)),n.export(r,"concatenateArrayBuffersAsync",(()=>i)),n.export(r,"concatenateStringsAsync",(()=>a));var s=e("../binary-utils/array-buffer-utils");async function o(e,t){for(;;){const{done:r,value:n}=await e.next();if(r)return void e.return();if(t(n))return}}async function i(e){const t=[];for await(const r of e)t.push(r);return s.concatenateArrayBuffers(...t)}async function a(e){const t=[];for await(const r of e)t.push(r);return t.join("")}},{"../binary-utils/array-buffer-utils":"43DSr","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"6wCkq":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s),i=e("@probe.gl/stats");const a={id:"request-scheduler",throttleRequests:!0,maxRequests:6};r.default=class{constructor(e={}){o.default(this,"props",void 0),o.default(this,"stats",void 0),o.default(this,"activeRequestCount",0),o.default(this,"requestQueue",[]),o.default(this,"requestMap",new Map),o.default(this,"deferredUpdate",null),this.props={...a,...e},this.stats=new i.Stats({id:this.props.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever")}scheduleRequest(e,t=(()=>0)){if(!this.props.throttleRequests)return Promise.resolve({done:()=>{}});if(this.requestMap.has(e))return this.requestMap.get(e);const r={handle:e,priority:0,getPriority:t},n=new Promise((e=>(r.resolve=e,r)));return this.requestQueue.push(r),this.requestMap.set(e,n),this._issueNewRequests(),n}_issueRequest(e){const{handle:t,resolve:r}=e;let n=!1;const s=()=>{n||(n=!0,this.requestMap.delete(t),this.activeRequestCount--,this._issueNewRequests())};return this.activeRequestCount++,r?r({done:s}):Promise.resolve({done:s})}_issueNewRequests(){this.deferredUpdate||(this.deferredUpdate=setTimeout((()=>this._issueNewRequestsAsync()),0))}_issueNewRequestsAsync(){this.deferredUpdate=null;const e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==e){this._updateAllRequests();for(let t=0;t<e;++t){const e=this.requestQueue.shift();e&&this._issueRequest(e)}}}_updateAllRequests(){const e=this.requestQueue;for(let t=0;t<e.length;++t){const r=e[t];this._updateRequest(r)||(e.splice(t,1),this.requestMap.delete(r.handle),t--)}e.sort(((e,t)=>e.priority-t.priority))}_updateRequest(e){return e.priority=e.getPriority(e.handle),!(e.priority<0)||(e.resolve(null),!1)}}},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","@probe.gl/stats":"8yTCc","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"8yTCc":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"Stats",(()=>o.default)),n.export(r,"Stat",(()=>a.default)),n.export(r,"_getHiResTimestamp",(()=>c.default));var s=e("./lib/stats"),o=n.interopDefault(s),i=e("./lib/stat"),a=n.interopDefault(i),l=e("./utils/hi-res-timestamp"),c=n.interopDefault(l)},{"./lib/stats":"hQ0Fh","./lib/stat":"3PQlB","./utils/hi-res-timestamp":"7nZOj","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hQ0Fh:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./stat"),o=n.interopDefault(s);r.default=class{constructor({id:e,stats:t}){this.id=e,this.stats={},this._initializeStats(t),Object.seal(this)}get(e,t="count"){return this._getOrCreate({name:e,type:t})}get size(){return Object.keys(this.stats).length}reset(){for(const e in this.stats)this.stats[e].reset();return this}forEach(e){for(const t in this.stats)e(this.stats[t])}getTable(){const e={};return this.forEach((t=>{e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}})),e}_initializeStats(e=[]){e.forEach((e=>this._getOrCreate(e)))}_getOrCreate(e){if(!e||!e.name)return null;const{name:t,type:r}=e;return this.stats[t]||(e instanceof o.default?this.stats[t]=e:this.stats[t]=new o.default(t,r)),this.stats[t]}}},{"./stat":"3PQlB","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3PQlB":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../utils/hi-res-timestamp"),o=n.interopDefault(s);r.default=class{constructor(e,t){this.name=e,this.type=t,this.sampleSize=1,this.reset()}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=o.default(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(o.default()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}},{"../utils/hi-res-timestamp":"7nZOj","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"7nZOj":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("process");r.default=function(){let e;if("undefined"!=typeof window&&window.performance)e=window.performance.now();else if(void 0!==n&&n.hrtime){const t=n.hrtime();e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}},{process:"k8Kyg","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lCGQb:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"setPathPrefix",(()=>i)),n.export(r,"getPathPrefix",(()=>a)),n.export(r,"addAliases",(()=>l)),n.export(r,"resolvePath",(()=>c));let s="";const o={};function i(e){s=e}function a(){return s}function l(e){Object.assign(o,e)}function c(e){for(const t in o)if(e.startsWith(t)){const r=o[t];e=e.replace(t,r)}return e.startsWith("http://")||e.startsWith("https://")||(e=`${s}${e}`),e}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"6MTjO":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"JSONLoader",(()=>s)),n.export(r,"_typecheckJSONLoader",(()=>i));const s={name:"JSON",id:"json",module:"json",version:"3.0.12",extensions:["json","geojson"],mimeTypes:["application/json"],category:"json",text:!0,parseTextSync:o,parse:async e=>o((new TextDecoder).decode(e)),options:{}};function o(e){return JSON.parse(e)}const i=s},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],cOHRM:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){const t=e&&e.lastIndexOf("/");return t>=0?e.substr(0,t):""}function o(...e){return(e=e.map(((t,r)=>(r&&(t=t.replace(new RegExp("^/"),"")),r!==e.length-1&&(t=t.replace(new RegExp("/$"),"")),t)))).join("/")}n.defineInteropFlag(r),n.export(r,"dirname",(()=>s)),n.export(r,"join",(()=>o))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],gmet0:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("../node/fs");r.default=class{constructor(e){this.fetch=e._fetch}async readdir(e=".",t){return await n.readdir(e,t)}async stat(e,t){const r=await n.stat(e,t);return{size:Number(r.size),isDirectory:()=>!1,info:r}}async fetch(e,t){return(t.fetch||this.fetch)(e,t)}async open(e,t,r){return await n.open(e,t)}async close(e){return await n.close(e)}async fstat(e){return await n.fstat(e)}async read(e,{buffer:t=null,offset:r=0,length:s=t.byteLength,position:o=null}){let i=0;for(;i<s;){const{bytesRead:a}=await n.read(e,t,r+i,s-i,o+i);i+=a}return{bytesRead:i,buffer:t}}}},{"../node/fs":"sC0bR","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],fSGT3:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"makeResponse",(()=>i)),n.export(r,"checkResponse",(()=>a)),n.export(r,"checkResponseSync",(()=>l));var s=e("../../javascript-utils/is-type"),o=e("./resource-utils");async function i(e){if(s.isResponse(e))return e;const t={},r=o.getResourceContentLength(e);r>=0&&(t["content-length"]=String(r));const{url:n,type:i}=o.getResourceUrlAndType(e);i&&(t["content-type"]=i);const a=await async function(e){const t=5;if("string"==typeof e)return`data:,${e.slice(0,t)}`;if(e instanceof Blob){const t=e.slice(0,5);return await new Promise((e=>{const r=new FileReader;r.onload=t=>{var r;return e(null==t||null===(r=t.target)||void 0===r?void 0:r.result)},r.readAsDataURL(t)}))}if(e instanceof ArrayBuffer){return`data:base64,${function(e){let t="";const r=new Uint8Array(e);for(let e=0;e<r.byteLength;e++)t+=String.fromCharCode(r[e]);return btoa(t)}(e.slice(0,t))}`}return null}(e);a&&(t["x-first-bytes"]=a),"string"==typeof e&&(e=(new TextEncoder).encode(e));const l=new Response(e,{headers:t});return Object.defineProperty(l,"url",{value:n}),l}async function a(e){if(!e.ok){const t=await async function(e){let t=`Failed to fetch resource ${e.url} (${e.status}): `;try{const r=e.headers.get("Content-Type");let n=e.statusText;r.includes("application/json")&&(n+=` ${await e.text()}`),t+=n,t=t.length>60?`${t.slice(60)}...`:t}catch(e){}return t}(e);throw new Error(t)}}function l(e){if(!e.ok){let t=`${e.status} ${e.statusText}`;throw t=t.length>60?`${t.slice(60)}...`:t,new Error(t)}}},{"../../javascript-utils/is-type":"lv7EG","./resource-utils":"6WjLn","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lv7EG:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"isObject",(()=>i)),n.export(r,"isPureObject",(()=>a)),n.export(r,"isPromise",(()=>l)),n.export(r,"isIterable",(()=>c)),n.export(r,"isAsyncIterable",(()=>u)),n.export(r,"isIterator",(()=>p)),n.export(r,"isResponse",(()=>d)),n.export(r,"isFile",(()=>h)),n.export(r,"isBlob",(()=>f)),n.export(r,"isWritableDOMStream",(()=>m)),n.export(r,"isReadableDOMStream",(()=>g)),n.export(r,"isBuffer",(()=>y)),n.export(r,"isWritableNodeStream",(()=>b)),n.export(r,"isReadableNodeStream",(()=>v)),n.export(r,"isReadableStream",(()=>x)),n.export(r,"isWritableStream",(()=>_));const s=e=>"boolean"==typeof e,o=e=>"function"==typeof e,i=e=>null!==e&&"object"==typeof e,a=e=>i(e)&&e.constructor==={}.constructor,l=e=>i(e)&&o(e.then),c=e=>e&&"function"==typeof e[Symbol.iterator],u=e=>e&&"function"==typeof e[Symbol.asyncIterator],p=e=>e&&o(e.next),d=e=>"undefined"!=typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json,h=e=>"undefined"!=typeof File&&e instanceof File,f=e=>"undefined"!=typeof Blob&&e instanceof Blob,m=e=>i(e)&&o(e.abort)&&o(e.getWriter),g=e=>"undefined"!=typeof ReadableStream&&e instanceof ReadableStream||i(e)&&o(e.tee)&&o(e.cancel)&&o(e.getReader),y=e=>e&&"object"==typeof e&&e.isBuffer,b=e=>i(e)&&o(e.end)&&o(e.write)&&s(e.writable),v=e=>i(e)&&o(e.read)&&o(e.pipe)&&s(e.readable),x=e=>g(e)||v(e),_=e=>m(e)||b(e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"6WjLn":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getResourceUrlAndType",(()=>a)),n.export(r,"getResourceContentLength",(()=>l));var s=e("../../javascript-utils/is-type"),o=e("./mime-type-utils");const i=/\?.*/;function a(e){if(s.isResponse(e)){const t=c(e.url||""),r=e.headers.get("content-type")||"";return{url:t,type:o.parseMIMEType(r)||o.parseMIMETypeFromURL(t)}}return s.isBlob(e)?{url:c(e.name||""),type:e.type||""}:"string"==typeof e?{url:c(e),type:o.parseMIMETypeFromURL(e)}:{url:"",type:""}}function l(e){return s.isResponse(e)?e.headers["content-length"]||-1:s.isBlob(e)?e.size:"string"==typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}function c(e){return e.replace(i,"")}},{"../../javascript-utils/is-type":"lv7EG","./mime-type-utils":"adzfd","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],adzfd:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"parseMIMEType",(()=>i)),n.export(r,"parseMIMETypeFromURL",(()=>a));const s=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,o=/^([-\w.]+\/[-\w.+]+)/;function i(e){const t=o.exec(e);return t?t[1]:e}function a(e){const t=s.exec(e);return t?t[1]:""}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],dQ2iq:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"readArrayBuffer",(()=>o)),n.export(r,"readBlob",(()=>i));var s=e("@loaders.gl/loader-utils");async function o(e,t,r){if("number"==typeof e)return await s.fs._readToArrayBuffer(e,t,r);e instanceof Blob||(e=new Blob([e]));const n=e.slice(t,t+r);return await i(n)}async function i(e){return await new Promise(((t,r)=>{const n=new FileReader;n.onload=e=>{var r;return t(null==e||null===(r=e.target)||void 0===r?void 0:r.result)},n.onerror=e=>r(e),n.readAsArrayBuffer(e)}))}},{"@loaders.gl/loader-utils":"TOx17","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],fEmIs:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"readFileSync",(()=>o));var s=e("@loaders.gl/loader-utils");function o(e,t={}){if(e=s.resolvePath(e),!s.isBrowser){const r=s.fs.readFileSync(e,t);return"string"!=typeof r?s.toArrayBuffer(r):r}return t.nothrow||s.assert(!1),null}},{"@loaders.gl/loader-utils":"TOx17","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hm3lm:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"writeFile",(()=>o)),n.export(r,"writeFileSync",(()=>i));var s=e("@loaders.gl/loader-utils");async function o(e,t,r){e=s.resolvePath(e),s.isBrowser||await s.fs.writeFile(e,s.toBuffer(t),{flag:"w"}),s.assert(!1)}function i(e,t,r){e=s.resolvePath(e),s.isBrowser||s.fs.writeFileSync(e,s.toBuffer(t),{flag:"w"}),s.assert(!1)}},{"@loaders.gl/loader-utils":"TOx17","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ahmUu:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"setLoaderOptions",(()=>o));var s=e("../loader-utils/option-utils");function o(e){s.setGlobalOptions(e)}},{"../loader-utils/option-utils":"5384H","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"5384H":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getGlobalLoaderState",(()=>c)),n.export(r,"setGlobalOptions",(()=>p)),n.export(r,"normalizeOptions",(()=>d)),n.export(r,"getFetchFunction",(()=>h));var s=e("@loaders.gl/loader-utils"),o=e("../../javascript-utils/is-type"),i=e("../fetch/fetch-file"),a=e("./loggers"),l=e("./option-defaults");function c(){s.global.loaders=s.global.loaders||{};const{loaders:e}=s.global;return e._state=e._state||{},e._state}const u=()=>{const e=c();return e.globalOptions=e.globalOptions||{...l.DEFAULT_LOADER_OPTIONS},e.globalOptions};function p(e){const t=c(),r=u();t.globalOptions=g(r,e)}function d(e,t,r,n){return r=r||[],function(e,t){f(e,null,l.DEFAULT_LOADER_OPTIONS,l.REMOVED_LOADER_OPTIONS,t);for(const r of t){const n=e&&e[r.id]||{},s=r.options&&r.options[r.id]||{},o=r.deprecatedOptions&&r.deprecatedOptions[r.id]||{};f(n,r.id,s,o,t)}}(e,r=Array.isArray(r)?r:[r]),g(t,e,n)}function h(e,t){const r=u(),n=e||r;return"function"==typeof n.fetch?n.fetch:o.isObject(n.fetch)?e=>i.fetchFile(e,n):null!=t&&t.fetch?null==t?void 0:t.fetch:i.fetchFile}function f(e,t,r,n,s){const i=t||"Top level",l=t?`${t}.`:"";for(const c in e){const u=!t&&o.isObject(e[c]),p="baseUri"===c&&!t,d="workerUrl"===c&&t;if(!(c in r)&&!p&&!d)if(c in n)a.probeLog.warn(`${i} loader option '${l}${c}' no longer supported, use '${n[c]}'`)();else if(!u){const e=m(c,s);a.probeLog.warn(`${i} loader option '${l}${c}' not recognized. ${e}`)()}}}function m(e,t){const r=e.toLowerCase();let n="";for(const s of t)for(const t in s.options){if(e===t)return`Did you mean '${s.id}.${t}'?`;const o=t.toLowerCase();(r.startsWith(o)||o.startsWith(r))&&(n=n||`Did you mean '${s.id}.${t}'?`)}return n}function g(e,t,r){const n={...e.options||{}};return function(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}(n,r),null===n.log&&(n.log=new a.NullLog),y(n,u()),y(n,t),n}function y(e,t){for(const r in t)if(r in t){const n=t[r];o.isPureObject(n)&&o.isPureObject(e[r])?e[r]={...e[r],...t[r]}:e[r]=t[r]}}},{"@loaders.gl/loader-utils":"TOx17","../../javascript-utils/is-type":"lv7EG","../fetch/fetch-file":"lc8nT","./loggers":"k2m3p","./option-defaults":"jZ286","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],k2m3p:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"probeLog",(()=>i)),n.export(r,"NullLog",(()=>a)),n.export(r,"ConsoleLog",(()=>l));var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s);const i=new(e("probe.gl").Log)({id:"loaders.gl"});class a{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class l{constructor(){o.default(this,"console",void 0),this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}}},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","probe.gl":"7CitO","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"7CitO":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"VERSION",(()=>i.VERSION)),n.export(r,"self",(()=>a.self)),n.export(r,"window",(()=>a.window)),n.export(r,"global",(()=>a.global)),n.export(r,"document",(()=>a.document)),n.export(r,"process",(()=>a.process)),n.export(r,"console",(()=>a.console)),n.export(r,"isBrowser",(()=>c.default)),n.export(r,"isBrowserMainThread",(()=>l.isBrowserMainThread)),n.export(r,"getBrowser",(()=>p.default)),n.export(r,"isMobile",(()=>u.isMobile)),n.export(r,"isElectron",(()=>h.default)),n.export(r,"assert",(()=>m.default)),n.export(r,"Log",(()=>o.default)),n.export(r,"COLOR",(()=>g.COLOR)),n.export(r,"addColor",(()=>g.addColor)),n.export(r,"leftPad",(()=>y.leftPad)),n.export(r,"rightPad",(()=>y.rightPad)),n.export(r,"autobind",(()=>b.autobind)),n.export(r,"LocalStorage",(()=>x.default)),n.export(r,"getHiResTimestamp",(()=>w.default)),n.export(r,"Stats",(()=>P.Stats)),n.export(r,"Stat",(()=>P.Stat));e("./init");var s=e("./lib/log"),o=n.interopDefault(s),i=e("./utils/globals"),a=e("./env/globals"),l=e("./env/is-browser"),c=n.interopDefault(l),u=e("./env/get-browser"),p=n.interopDefault(u),d=e("./env/is-electron"),h=n.interopDefault(d),f=e("./utils/assert"),m=n.interopDefault(f),g=e("./utils/color"),y=e("./utils/formatters"),b=e("./utils/autobind"),v=e("./utils/local-storage"),x=n.interopDefault(v),_=e("./utils/hi-res-timestamp"),w=n.interopDefault(_),P=e("@probe.gl/stats");r.default=new o.default({id:"probe.gl"})},{"./init":"kfe8F","./lib/log":"xZPXE","./utils/globals":"dSjXL","./env/globals":"ccGcw","./env/is-browser":"60kfX","./env/get-browser":"lQFTc","./env/is-electron":"lvRvf","./utils/assert":"ALsXD","./utils/color":"59XV8","./utils/formatters":"5ma0S","./utils/autobind":"6L92o","./utils/local-storage":"bnSET","./utils/hi-res-timestamp":"bBeU5","@probe.gl/stats":"8yTCc","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],kfe8F:[function(e,t,r){e("./utils/globals").global.probe={}},{"./utils/globals":"dSjXL"}],dSjXL:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"self",(()=>i.self)),n.export(r,"window",(()=>i.window)),n.export(r,"global",(()=>i.global)),n.export(r,"document",(()=>i.document)),n.export(r,"process",(()=>i.process)),n.export(r,"console",(()=>i.console)),n.export(r,"VERSION",(()=>a)),n.export(r,"isBrowser",(()=>l));var s=e("../env/is-browser"),o=n.interopDefault(s),i=e("../env/globals");const a="undefined"!=typeof __VERSION__?__VERSION__:"untranspiled source",l=o.default()},{"../env/is-browser":"60kfX","../env/globals":"ccGcw","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"60kfX":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"isBrowserMainThread",(()=>l));var s=e("./is-electron"),o=n.interopDefault(s),i=e("process");function a(){return!("object"==typeof i&&"[object process]"===String(i)&&!1)||o.default()}function l(){return a()&&"undefined"!=typeof document}r.default=a},{process:"k8Kyg","./is-electron":"lvRvf","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lvRvf:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("process");r.default=function(e){if("undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type)return!0;if(void 0!==n&&"object"==typeof n.versions&&Boolean(n.versions.electron))return!0;const t="object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent,r=e||t;return!!(r&&r.indexOf("Electron")>=0)}},{process:"k8Kyg","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ccGcw:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"self",(()=>a)),n.export(r,"window",(()=>l)),n.export(r,"global",(()=>c)),n.export(r,"document",(()=>u)),n.export(r,"process",(()=>p)),n.export(r,"console",(()=>d));var s=arguments[3],o=e("process");const i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==s&&s,document:"undefined"!=typeof document&&document,process:"object"==typeof o&&o},a=i.self||i.window||i.global,l=i.window||i.self||i.global,c=i.global||i.self||i.window,u=i.document||{},p=i.process||{},d=console},{process:"k8Kyg","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],xZPXE:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"normalizeArguments",(()=>w));var s=e("../utils/globals"),o=e("../utils/local-storage"),i=n.interopDefault(o),a=e("../utils/formatters"),l=e("../utils/color"),c=e("../utils/autobind"),u=e("../utils/assert"),p=n.interopDefault(u),d=e("../utils/hi-res-timestamp"),h=n.interopDefault(d);const f={debug:s.isBrowser&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},m={enabled:!0,level:0};function g(){}const y={},b={once:!0};function v(e){for(const t in e)for(const r in e[t])return r||"untitled";return"empty"}class x{constructor({id:e}={id:""}){this.id=e,this.VERSION=s.VERSION,this._startTs=h.default(),this._deltaTs=h.default(),this.LOG_THROTTLE_TIMEOUT=0,this._storage=new i.default("__probe-".concat(this.id,"__"),m),this.userData={},this.timeStamp("".concat(this.id," started")),c.autobind(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((h.default()-this._startTs).toPrecision(10))}getDelta(){return Number((h.default()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(e=!0){return this._storage.updateConfiguration({enabled:e}),this}setLevel(e){return this._storage.updateConfiguration({level:e}),this}assert(e,t){p.default(e,t)}warn(e){return this._getLogFunction(0,e,f.warn,arguments,b)}error(e){return this._getLogFunction(0,e,f.error,arguments)}deprecated(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}removed(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}probe(e,t){return this._getLogFunction(e,t,f.log,arguments,{time:!0,once:!0})}log(e,t){return this._getLogFunction(e,t,f.debug,arguments)}info(e,t){return this._getLogFunction(e,t,console.info,arguments)}once(e,t){return this._getLogFunction(e,t,f.debug||f.info,arguments,b)}table(e,t,r){return t?this._getLogFunction(e,t,console.table||g,r&&[r],{tag:v(t)}):g}image({logLevel:e,priority:r,image:n,message:o="",scale:i=1}){return this._shouldLog(e||r)?s.isBrowser?function({image:e,message:t="",scale:r=1}){if("string"==typeof e){const n=new Image;return n.onload=()=>{const e=a.formatImage(n,t,r);console.log(...e)},n.src=e,g}const n=e.nodeName||"";if("img"===n.toLowerCase())return console.log(...a.formatImage(e,t,r)),g;if("canvas"===n.toLowerCase()){const n=new Image;return n.onload=()=>console.log(...a.formatImage(n,t,r)),n.src=e.toDataURL(),g}return g}({image:n,message:o,scale:i}):function({image:e,message:r="",scale:n=1}){let s=null;try{s=t.require("asciify-image")}catch(e){}return s?()=>s(e,{fit:"box",width:"".concat(Math.round(80*n),"%")}).then((e=>console.log(e))):g}({image:n,message:o,scale:i}):g}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}get(e){return this._storage.config[e]}set(e,t){this._storage.updateConfiguration({[e]:t})}time(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}timeEnd(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,t){return this._getLogFunction(e,t,console.timeStamp||g)}group(e,t,r={collapsed:!1}){r=w({logLevel:e,message:t,opts:r});const{collapsed:n}=r;return r.method=(n?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}groupCollapsed(e,t,r={}){return this.group(e,t,Object.assign({},r,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||g)}withGroup(e,t,r){this.group(e,t)();try{r()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=_(e)}_getLogFunction(e,t,r,n=[],s){if(this._shouldLog(e)){s=w({logLevel:e,message:t,args:n,opts:s}),r=r||s.method,p.default(r),s.total=this.getTotal(),s.delta=this.getDelta(),this._deltaTs=h.default();const o=s.tag||s.message;if(s.once){if(y[o])return g;y[o]=h.default()}return t=function(e,t,r){if("string"==typeof t){const n=r.time?a.leftPad(a.formatTime(r.total)):"";t=r.time?"".concat(e,": ").concat(n,"  ").concat(t):"".concat(e,": ").concat(t),t=l.addColor(t,r.color,r.background)}return t}(this.id,s.message,s),r.bind(console,t,...s.args)}return g}}function _(e){if(!e)return 0;let t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return p.default(Number.isFinite(t)&&t>=0),t}function w(e){const{logLevel:t,message:r}=e;e.logLevel=_(t);const n=e.args?Array.from(e.args):[];for(;n.length&&n.shift()!==r;);switch(e.args=n,typeof t){case"string":case"function":void 0!==r&&n.unshift(r),e.message=t;break;case"object":Object.assign(e,t)}"function"==typeof e.message&&(e.message=e.message());const s=typeof e.message;return p.default("string"===s||"object"===s),Object.assign(e,e.opts)}r.default=x,x.VERSION=s.VERSION},{"../utils/globals":"dSjXL","../utils/local-storage":"bnSET","../utils/formatters":"5ma0S","../utils/color":"59XV8","../utils/autobind":"6L92o","../utils/assert":"ALsXD","../utils/hi-res-timestamp":"bBeU5","asciify-image":"sC0bR","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],bnSET:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);r.default=class{constructor(e,t,r="sessionStorage"){this.storage=function(e){try{const t=window[e],r="__storage_test__";return t.setItem(r,r),t.removeItem(r),t}catch(e){return null}}(r),this.id=e,this.config={},Object.assign(this.config,t),this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){return this.config={},this.updateConfiguration(e)}updateConfiguration(e){if(Object.assign(this.config,e),this.storage){const e=JSON.stringify(this.config);this.storage.setItem(this.id,e)}return this}_loadConfiguration(){let e={};if(this.storage){const t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"5ma0S":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){let t;return t=e<10?"".concat(e.toFixed(2),"ms"):e<100?"".concat(e.toFixed(1),"ms"):e<1e3?"".concat(e.toFixed(0),"ms"):"".concat((e/1e3).toFixed(2),"s"),t}function o(e,t=8){const r=Math.max(t-e.length,0);return"".concat(" ".repeat(r)).concat(e)}function i(e,t=8){const r=Math.max(t-e.length,0);return"".concat(e).concat(" ".repeat(r))}function a(e,t={}){const{isInteger:r=!1}=t;if(Array.isArray(e)||ArrayBuffer.isView(e))return function(e,t){const{maxElts:r=16,size:n=1}=t;let s="[";for(let o=0;o<e.length&&o<r;++o)o>0&&(s+=",".concat(o%n==0?" ":"")),s+=a(e[o],t);const o=e.length>r?"...":"]";return"".concat(s).concat(o)}(e,t);if(!Number.isFinite(e))return String(e);if(Math.abs(e)<1e-16)return r?"0":"0.";if(r)return e.toFixed(0);if(Math.abs(e)>100&&Math.abs(e)<1e4)return e.toFixed(0);const n=e.toPrecision(2);return n.indexOf(".0")===n.length-2?n.slice(0,-1):n}function l(e,t,r,n=600){const s=e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");e.width>n&&(r=Math.min(r,n/e.width));const o=e.width*r,i=e.height*r,a=["font-size:1px;","padding:".concat(Math.floor(i/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(i,"px;"),"background:url(".concat(s,");"),"background-size:".concat(o,"px ").concat(i,"px;"),"color:transparent;"].join("");return["".concat(t," %c+"),a]}n.defineInteropFlag(r),n.export(r,"formatTime",(()=>s)),n.export(r,"leftPad",(()=>o)),n.export(r,"rightPad",(()=>i)),n.export(r,"formatValue",(()=>a)),n.export(r,"formatImage",(()=>l))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"59XV8":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"COLOR",(()=>o)),n.export(r,"addColor",(()=>a));var s=e("./globals");const o={BLACK:30,RED:31,GREEN:32,YELLOW:33,BLUE:34,MAGENTA:35,CYAN:36,WHITE:37,BRIGHT_BLACK:90,BRIGHT_RED:91,BRIGHT_GREEN:92,BRIGHT_YELLOW:93,BRIGHT_BLUE:94,BRIGHT_MAGENTA:95,BRIGHT_CYAN:96,BRIGHT_WHITE:97};function i(e){return"string"==typeof e?o[e.toUpperCase()]||o.WHITE:e}function a(e,t,r){return s.isBrowser||"string"!=typeof e||(t&&(t=i(t),e="[".concat(t,"m").concat(e,"[39m")),r&&(t=i(r),e="[".concat(r+10,"m").concat(e,"[49m"))),e}},{"./globals":"dSjXL","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"6L92o":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t=["constructor"]){const r=Object.getPrototypeOf(e),n=Object.getOwnPropertyNames(r);for(const r of n)"function"==typeof e[r]&&(t.find((e=>r===e))||(e[r]=e[r].bind(e)))}n.defineInteropFlag(r),n.export(r,"autobind",(()=>s))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ALsXD:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e,t){if(!e)throw new Error(t||"Assertion failed")}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],bBeU5:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("./globals");r.default=function(){let e;if(n.isBrowser&&n.window.performance)e=n.window.performance.now();else if(n.process.hrtime){const t=n.process.hrtime();e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}},{"./globals":"dSjXL","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lQFTc:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"isMobile",(()=>c));var s=e("./globals"),o=e("./is-browser"),i=n.interopDefault(o),a=e("./is-electron"),l=n.interopDefault(a);function c(){return void 0!==s.window.orientation}r.default=function(e){if(!e&&!i.default())return"Node";if(l.default(e))return"Electron";const t="undefined"!=typeof navigator?navigator:{},r=e||t.userAgent||"";if(r.indexOf("Edge")>-1)return"Edge";const n=-1!==r.indexOf("MSIE "),o=-1!==r.indexOf("Trident/");return n||o?"IE":s.window.chrome?"Chrome":s.window.safari?"Safari":s.window.mozInnerScreenX?"Firefox":"Unknown"}},{"./globals":"ccGcw","./is-browser":"60kfX","./is-electron":"lvRvf","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jZ286:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"DEFAULT_LOADER_OPTIONS",(()=>s)),n.export(r,"REMOVED_LOADER_OPTIONS",(()=>o));const s={fetch:null,mimeType:void 0,nothrow:!1,log:new(e("./loggers").ConsoleLog),CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},o={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"}},{"./loggers":"k2m3p","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],kunk1:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"registerLoaders",(()=>a)),n.export(r,"getRegisteredLoaders",(()=>l)),n.export(r,"_unregisterLoaders",(()=>c));var s=e("../loader-utils/normalize-loader"),o=e("../loader-utils/option-utils");const i=()=>{const e=o.getGlobalLoaderState();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function a(e){const t=i();e=Array.isArray(e)?e:[e];for(const r of e){const e=s.normalizeLoader(r);t.find((t=>e===t))||t.unshift(e)}}function l(){return i()}function c(){o.getGlobalLoaderState().loaderRegistry=[]}},{"../loader-utils/normalize-loader":"fihHf","../loader-utils/option-utils":"5384H","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],fihHf:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"isLoaderObject",(()=>o)),n.export(r,"normalizeLoader",(()=>i));var s=e("@loaders.gl/loader-utils");function o(e){var t;if(!e)return!1;Array.isArray(e)&&(e=e[0]);return Array.isArray(null===(t=e)||void 0===t?void 0:t.extensions)}function i(e){var t,r;let n;return s.assert(e,"null loader"),s.assert(o(e),"invalid loader"),Array.isArray(e)&&(n=e[1],e=e[0],e={...e,options:{...e.options,...n}}),(null!==(t=e)&&void 0!==t&&t.parseTextSync||null!==(r=e)&&void 0!==r&&r.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}},{"@loaders.gl/loader-utils":"TOx17","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jsR5U:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"selectLoader",(()=>u)),n.export(r,"selectLoaderSync",(()=>p));var s=e("@loaders.gl/loader-utils"),o=e("../loader-utils/normalize-loader"),i=e("../utils/resource-utils"),a=e("./register-loaders"),l=e("../../javascript-utils/is-type");const c=/\.([^.]+)$/;async function u(e,t=[],r,n){if(!d(e))return null;let s=p(e,t,{...r,nothrow:!0},n);if(s)return s;if(l.isBlob(e)&&(s=p(e=await e.slice(0,10).arrayBuffer(),t,r,n)),!(s||null!=r&&r.nothrow))throw new Error(h(e));return s}function p(e,t=[],r,n){if(!d(e))return null;if(t&&!Array.isArray(t))return o.normalizeLoader(t);let s=[];t&&(s=s.concat(t)),null!=r&&r.ignoreRegisteredLoaders||s.push(...a.getRegisteredLoaders()),function(e){for(const t of e)o.normalizeLoader(t)}(s);const l=function(e,t,r,n){const{url:s,type:o}=i.getResourceUrlAndType(e),a=s||(null==n?void 0:n.url);let l=null;null!=r&&r.mimeType&&(l=f(t,null==r?void 0:r.mimeType));return l=l||function(e,t){const r=t&&c.exec(t),n=r&&r[1];return n?function(e,t){t=t.toLowerCase();for(const r of e)for(const e of r.extensions)if(e.toLowerCase()===t)return r;return null}(e,n):null}(t,a),l=l||f(t,o),l=l||function(e,t){if(!t)return null;for(const r of e)if("string"==typeof t){if(m(t,r))return r}else if(ArrayBuffer.isView(t)){if(g(t.buffer,t.byteOffset,r))return r}else if(t instanceof ArrayBuffer){if(g(t,0,r))return r}return null}(t,e),l=l||f(t,null==r?void 0:r.fallbackMimeType),l}(e,s,r,n);if(!(l||null!=r&&r.nothrow))throw new Error(h(e));return l}function d(e){return!(e instanceof Response&&204===e.status)}function h(e){const{url:t,type:r}=i.getResourceUrlAndType(e);let n="No valid loader found";return e&&(n+=` data: "${function(e,t=5){if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return y(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){return y(e,0,t)}return""}(e)}", contentType: "${r}"`),t&&(n+=` url: ${t}`),n}function f(e,t){for(const r of e){if(r.mimeTypes&&r.mimeTypes.includes(t))return r;if(t===`application/x.${r.id}`)return r}return null}function m(e,t){if(t.testText)return t.testText(e);return(Array.isArray(t.tests)?t.tests:[t.tests]).some((t=>e.startsWith(t)))}function g(e,t,r){return(Array.isArray(r.tests)?r.tests:[r.tests]).some((n=>function(e,t,r,n){if(n instanceof ArrayBuffer)return s.compareArrayBuffers(n,e,n.byteLength);switch(typeof n){case"function":return n(e,r);case"string":return n===y(e,t,n.length);default:return!1}}(e,t,r,n)))}function y(e,t,r){if(e.byteLength<t+r)return"";const n=new DataView(e);let s="";for(let e=0;e<r;e++)s+=String.fromCharCode(n.getUint8(t+e));return s}},{"@loaders.gl/loader-utils":"TOx17","../loader-utils/normalize-loader":"fihHf","../utils/resource-utils":"6WjLn","./register-loaders":"kunk1","../../javascript-utils/is-type":"lv7EG","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"8aQqL":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"parse",(()=>d));var s=e("@loaders.gl/worker-utils"),o=e("@loaders.gl/loader-utils"),i=e("../loader-utils/normalize-loader"),a=e("../loader-utils/option-utils"),l=e("../loader-utils/get-data"),c=e("../loader-utils/loader-context"),u=e("../utils/resource-utils"),p=e("./select-loader");async function d(e,t,r,n){s.assert(!n||"object"==typeof n),!t||Array.isArray(t)||i.isLoaderObject(t)||(n=void 0,r=t,t=void 0),e=await e,r=r||{};const{url:h}=u.getResourceUrlAndType(e),f=t,m=c.getLoadersFromContext(f,n),g=await p.selectLoader(e,m,r);return g?(r=a.normalizeOptions(r,g,m,h),n=c.getLoaderContext({url:h,parse:d,loaders:m},r,n),await async function(e,t,r,n){if(s.validateWorkerVersion(e),t=await l.getArrayBufferOrStringFromData(t,e,r),e.parseTextSync&&"string"==typeof t)return r.dataType="text",e.parseTextSync(t,r,n,e);if(o.canParseWithWorker(e,r))return await o.parseWithWorker(e,t,r,n,d);if(e.parseText&&"string"==typeof t)return await e.parseText(t,r,n,e);if(e.parse)return await e.parse(t,r,n,e);throw s.assert(!e.parseSync),new Error(`${e.id} loader - no parser found and worker is disabled`)}(g,e,r,n)):null}},{"@loaders.gl/worker-utils":"e1ju8","@loaders.gl/loader-utils":"TOx17","../loader-utils/normalize-loader":"fihHf","../loader-utils/option-utils":"5384H","../loader-utils/get-data":"2eGCi","../loader-utils/loader-context":"giZcX","../utils/resource-utils":"6WjLn","./select-loader":"jsR5U","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"2eGCi":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getArrayBufferOrStringFromDataSync",(()=>c)),n.export(r,"getArrayBufferOrStringFromData",(()=>u)),n.export(r,"getAsyncIterableFromData",(()=>p)),n.export(r,"getReadableStream",(()=>d));var s=e("@loaders.gl/loader-utils"),o=e("../../javascript-utils/is-type"),i=e("../../iterators/make-iterator/make-iterator"),a=e("../utils/response-utils");const l="Cannot convert supplied data type";function c(e,t,r){if(t.text&&"string"==typeof e)return e;if(o.isBuffer(e)&&(e=e.buffer),e instanceof ArrayBuffer){const r=e;if(t.text&&!t.binary){return new TextDecoder("utf8").decode(r)}return r}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary){return new TextDecoder("utf8").decode(e)}let r=e.buffer;const n=e.byteLength||e.length;return 0===e.byteOffset&&n===r.byteLength||(r=r.slice(e.byteOffset,e.byteOffset+n)),r}throw new Error(l)}async function u(e,t,r){const n=e instanceof ArrayBuffer||ArrayBuffer.isView(e);if("string"==typeof e||n)return c(e,t);if(o.isBlob(e)&&(e=await a.makeResponse(e)),o.isResponse(e)){const r=e;return await a.checkResponse(r),t.binary?await r.arrayBuffer():await r.text()}if(o.isReadableStream(e)&&(e=i.makeIterator(e,r)),o.isIterable(e)||o.isAsyncIterable(e))return s.concatenateArrayBuffersAsync(e);throw new Error(l)}async function p(e,t){if(o.isIterator(e))return e;if(o.isResponse(e)){const r=e;await a.checkResponse(r);const n=await r.body;return i.makeIterator(n,t)}return o.isBlob(e)||o.isReadableStream(e)?i.makeIterator(e,t):o.isAsyncIterable(e)?e[Symbol.asyncIterator]():function(e){if(ArrayBuffer.isView(e))return function*(){yield e.buffer}();if(e instanceof ArrayBuffer)return function*(){yield e}();if(o.isIterator(e))return e;if(o.isIterable(e))return e[Symbol.iterator]();throw new Error(l)}(e)}async function d(e){if(o.isReadableStream(e))return e;if(o.isResponse(e))return e.body;return(await a.makeResponse(e)).body}},{"@loaders.gl/loader-utils":"TOx17","../../javascript-utils/is-type":"lv7EG","../../iterators/make-iterator/make-iterator":"8pafx","../utils/response-utils":"fSGT3","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"8pafx":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"makeIterator",(()=>c));var s=e("./make-string-iterator"),o=e("./make-array-buffer-iterator"),i=e("./make-blob-iterator"),a=e("./make-stream-iterator"),l=e("../../javascript-utils/is-type");function c(e,t){if("string"==typeof e)return s.makeStringIterator(e,t);if(e instanceof ArrayBuffer)return o.makeArrayBufferIterator(e,t);if(l.isBlob(e))return i.makeBlobIterator(e,t);if(l.isReadableStream(e))return a.makeStreamIterator(e,t);if(l.isResponse(e)){const r=e;return a.makeStreamIterator(r.body,t)}throw new Error("makeIterator")}},{"./make-string-iterator":"llo9d","./make-array-buffer-iterator":"28Lqs","./make-blob-iterator":"9qYSw","./make-stream-iterator":"1PARs","../../javascript-utils/is-type":"lv7EG","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],llo9d:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"makeStringIterator",(()=>s));function*s(e,t){const r=(null==t?void 0:t.chunkSize)||262144;let n=0;const s=new TextEncoder;for(;n<e.length;){const t=Math.min(e.length-n,r),o=e.slice(n,n+t);n+=t,yield s.encode(o)}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"28Lqs":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"makeArrayBufferIterator",(()=>o));const s=262144;function*o(e,t={}){const{chunkSize:r=s}=t;let n=0;for(;n<e.byteLength;){const t=Math.min(e.byteLength-n,r),s=new ArrayBuffer(t),o=new Uint8Array(e,n,t);new Uint8Array(s).set(o),n+=t,yield s}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"9qYSw":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"makeBlobIterator",(()=>s));async function*s(e,t){const r=(null==t?void 0:t.chunkSize)||1048576;let n=0;for(;n<e.size;){const t=n+r,s=await e.slice(n,t).arrayBuffer();n=t,yield s}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"1PARs":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"makeStreamIterator",(()=>o));var s=e("@loaders.gl/loader-utils");function o(e,t){return s.isBrowser?async function*(e,t){const r=e.getReader();let n;try{for(;;){const e=n||r.read();null!=t&&t._streamReadAhead&&(n=r.read());const{done:o,value:i}=await e;if(o)return;yield s.toArrayBuffer(i)}}catch(e){r.releaseLock()}}(e,t):async function*(e,t){for await(const t of e)yield s.toArrayBuffer(t)}(e)}},{"@loaders.gl/loader-utils":"TOx17","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],giZcX:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getLoaderContext",(()=>o)),n.export(r,"getLoadersFromContext",(()=>i));var s=e("./option-utils");function o(e,t,r=null){if(r)return r;const n={fetch:s.getFetchFunction(t,e),...e};return Array.isArray(n.loaders)||(n.loaders=null),n}function i(e,t){if(!t&&e&&!Array.isArray(e))return e;let r;if(e&&(r=Array.isArray(e)?e:[e]),t&&t.loaders){const e=Array.isArray(t.loaders)?t.loaders:[t.loaders];r=r?[...r,...e]:e}return r&&r.length?r:null}},{"./option-utils":"5384H","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jv2zu:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"parseSync",(()=>p));var s=e("@loaders.gl/loader-utils"),o=e("./select-loader"),i=e("../loader-utils/normalize-loader"),a=e("../loader-utils/option-utils"),l=e("../loader-utils/get-data"),c=e("../loader-utils/loader-context"),u=e("../utils/resource-utils");function p(e,t,r,n){s.assert(!n||"object"==typeof n),Array.isArray(t)||i.isLoaderObject(t)||(n=void 0,r=t,t=void 0),r=r||{};const d=t,h=c.getLoadersFromContext(d,n),f=o.selectLoaderSync(e,h,r);if(!f)return null;r=a.normalizeOptions(r,f,h);const{url:m}=u.getResourceUrlAndType(e);return function(e,t,r,n){if(t=l.getArrayBufferOrStringFromDataSync(t,e,r),e.parseTextSync&&"string"==typeof t)return e.parseTextSync(t,r);if(e.parseSync&&t instanceof ArrayBuffer)return e.parseSync(t,r,n);throw new Error(`${e.name} loader: 'parseSync' not supported by this loader, use 'parse' instead. ${n.url||""}`)}(f,e,r,n=c.getLoaderContext({url:m,parseSync:p,parse:()=>{throw new Error("parseSync called parse")},loaders:t},r))}},{"@loaders.gl/loader-utils":"TOx17","./select-loader":"jsR5U","../loader-utils/normalize-loader":"fihHf","../loader-utils/option-utils":"5384H","../loader-utils/get-data":"2eGCi","../loader-utils/loader-context":"giZcX","../utils/resource-utils":"6WjLn","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],fUDp9:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"parseInBatches",(()=>d));var s=e("@loaders.gl/loader-utils"),o=e("../loader-utils/normalize-loader"),i=e("../loader-utils/option-utils"),a=e("../loader-utils/loader-context"),l=e("../loader-utils/get-data"),c=e("../utils/resource-utils"),u=e("./select-loader"),p=e("./parse");async function d(e,t,r,n){s.assert(!n||"object"==typeof n),Array.isArray(t)||o.isLoaderObject(t)||(n=void 0,r=t,t=void 0),e=await e,r=r||{};const{url:h}=c.getResourceUrlAndType(e),f=await u.selectLoader(e,t,r);return f?(r=i.normalizeOptions(r,f,t,h),n=a.getLoaderContext({url:h,parseInBatches:d,parse:p.parse,loaders:t},r,n),await async function(e,t,r,n){const o=await async function(e,t,r,n){const o=await l.getAsyncIterableFromData(t,r),i=await async function(e,t=[]){let r=e;for await(const e of t)r=e(r);return r}(o,(null==r?void 0:r.transforms)||[]);if(e.parseInBatches)return e.parseInBatches(i,r,n);async function*a(){const t=await s.concatenateArrayBuffersAsync(i),o=await p.parse(t,e,{...r,mimeType:e.mimeTypes[0]},n),a={mimeType:e.mimeTypes[0],shape:Array.isArray(o)?"row-table":"unknown",batchType:"data",data:o,length:Array.isArray(o)?o.length:1};yield a}return a()}(e,t,r,n);if(!r.metadata)return o;const i={batchType:"metadata",metadata:{_loader:e,_context:n},data:[],bytesUsed:0};async function*a(e){yield i,yield*e}return a(o)}(f,e,r,n)):null}},{"@loaders.gl/loader-utils":"TOx17","../loader-utils/normalize-loader":"fihHf","../loader-utils/option-utils":"5384H","../loader-utils/loader-context":"giZcX","../loader-utils/get-data":"2eGCi","../utils/resource-utils":"6WjLn","./select-loader":"jsR5U","./parse":"8aQqL","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3IEOr":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"load",(()=>l));var s=e("../../javascript-utils/is-type"),o=e("../loader-utils/normalize-loader"),i=e("../loader-utils/option-utils"),a=e("./parse");async function l(e,t,r,n){Array.isArray(t)||o.isLoaderObject(t)||(void 0,r=t,t=void 0);const l=i.getFetchFunction(r);let c=e;return"string"==typeof e&&(c=await l(e)),s.isBlob(e)&&(c=await l(e)),await a.parse(c,t,r)}},{"../../javascript-utils/is-type":"lv7EG","../loader-utils/normalize-loader":"fihHf","../loader-utils/option-utils":"5384H","./parse":"8aQqL","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"9fqDk":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"loadInBatches",(()=>a));var s=e("../loader-utils/normalize-loader"),o=e("../loader-utils/option-utils"),i=e("./parse-in-batches");function a(e,t,r,n){Array.isArray(t)||s.isLoaderObject(t)||(void 0,r=t,t=null);const i=o.getFetchFunction(r||{});if(!Array.isArray(e))return l(e,t,r,i);return e.map((e=>l(e,t,r,i)))}async function l(e,t,r,n){if("string"==typeof e){const s=e,o=await n(s);return await i.parseInBatches(o,t,r)}return await i.parseInBatches(e,t,r)}},{"../loader-utils/normalize-loader":"fihHf","../loader-utils/option-utils":"5384H","./parse-in-batches":"fUDp9","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],aU79E:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"encode",(()=>a)),n.export(r,"encodeSync",(()=>l)),n.export(r,"encodeText",(()=>c)),n.export(r,"encodeInBatches",(()=>u)),n.export(r,"encodeURLtoURL",(()=>p));var s=e("@loaders.gl/loader-utils"),o=e("../fetch/write-file"),i=e("../fetch/fetch-file");async function a(e,t,r){if(t.encode)return await t.encode(e,r);if(t.encodeSync)return t.encodeSync(e,r);if(t.encodeText)return(new TextEncoder).encode(await t.encodeText(e,r));if(t.encodeInBatches){const n=u(e,t,r),o=[];for await(const e of n)o.push(e);return s.concatenateArrayBuffers(...o)}if(!s.isBrowser&&t.encodeURLtoURL){const n=d("input");await o.writeFile(n,e);const s=d("output"),a=await p(n,s,t,r);return(await i.fetchFile(a)).arrayBuffer()}throw new Error("Writer could not encode data")}function l(e,t,r){if(t.encodeSync)return t.encodeSync(e,r);throw new Error("Writer could not synchronously encode data")}async function c(e,t,r){if(t.text&&t.encodeText)return await t.encodeText(e,r);if(t.text&&(t.encode||t.encodeInBatches)){const n=await a(e,t,r);return(new TextDecoder).decode(n)}throw new Error("Writer could not encode data as text")}function u(e,t,r){if(t.encodeInBatches){const n=function(e){return[{table:e,start:0,end:e.length}]}(e);return t.encodeInBatches(n,r)}throw new Error("Writer could not encode data in batches")}async function p(e,t,r,n){if(e=s.resolvePath(e),t=s.resolvePath(t),s.isBrowser||!r.encodeURLtoURL)throw new Error;return await r.encodeURLtoURL(e,t,n)}function d(e){return`/tmp/${e}`}},{"@loaders.gl/loader-utils":"TOx17","../fetch/write-file":"hm3lm","../fetch/fetch-file":"lc8nT","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"8sYRU":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"save",(()=>i)),n.export(r,"saveSync",(()=>a));var s=e("./encode"),o=e("../fetch/write-file");async function i(e,t,r,n){const i=await s.encode(e,r,n);return await o.writeFile(t,i)}function a(e,t,r,n){const i=s.encodeSync(e,r,n);return o.writeFileSync(t,i)}},{"./encode":"aU79E","../fetch/write-file":"hm3lm","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],fCPFF:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"makeStream",(()=>l));var s=e("@loaders.gl/loader-utils"),o=e("./make-dom-stream"),i=e("./make-node-stream"),a=n.interopDefault(i);function l(e,t){return s.isBrowser?o.makeDOMStream(e,t):a.default(e,t)}},{"@loaders.gl/loader-utils":"TOx17","./make-dom-stream":"hC4i8","./make-node-stream":"sC0bR","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hC4i8:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t){const r=e[Symbol.asyncIterator]?e[Symbol.asyncIterator]():e[Symbol.iterator]();return new ReadableStream({type:"bytes",async pull(e){try{const{done:t,value:n}=await r.next();t?e.close():e.enqueue(new Uint8Array(n))}catch(t){e.error(t)}},async cancel(){var e;await(null==r||null===(e=r.return)||void 0===e?void 0:e.call(r))}},{highWaterMark:2**24,...t})}n.defineInteropFlag(r),n.export(r,"makeDOMStream",(()=>s))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hipGC:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"NullWorkerLoader",(()=>o)),n.export(r,"NullLoader",(()=>i));const s="3.0.12",o={name:"Null loader",id:"null",module:"core",version:s,worker:!0,mimeTypes:["application/x.empty"],extensions:["null"],tests:[()=>!1],options:{null:{}}},i={name:"Null loader",id:"null",module:"core",version:s,mimeTypes:["application/x.empty"],extensions:["null"],parse:async e=>e,parseSync:e=>e,parseInBatches:async function*(e){for await(const t of e)yield t},tests:[()=>!1],options:{null:{}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ks2GY:[function(e,t,r){async function n(e,t,r,s,o,i,a){try{const{done:l,value:c}=await t.read();if(l)return i(),void e.close();r+=c.byteLength;o(Math.round(r/s*100),{loadedBytes:r,totalBytes:s}),e.enqueue(c),await n(e,t,r,s,o,i,a)}catch(t){e.error(t),a(t)}}e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=async function(e,t,r=(()=>{}),s=(()=>{})){if(!(e=await e).ok)return e;const o=e.body;if(!o)return e;const i=e.headers.get("content-length")||0,a=i&&parseInt(i);if(!(i>0))return e;if("undefined"==typeof ReadableStream||!o.getReader)return e;const l=new ReadableStream({async start(e){const i=o.getReader();await n(e,i,0,a,t,r,s)}});return new Response(l)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],iddkD:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s);r.default=class{constructor(e,t){o.default(this,"_fetch",void 0),o.default(this,"files",{}),o.default(this,"lowerCaseFiles",{}),o.default(this,"usedFiles",{}),this._fetch=(null==t?void 0:t.fetch)||fetch;for(let t=0;t<e.length;++t){const r=e[t];this.files[r.name]=r,this.lowerCaseFiles[r.name.toLowerCase()]=r,this.usedFiles[r.name]=!1}this.fetch=this.fetch.bind(this)}async fetch(e,t){if(e.includes("://"))return this._fetch(e,t);const r=this.files[e];if(!r)return new Response(e,{status:400,statusText:"NOT FOUND"});const n=new Headers(null==t?void 0:t.headers).get("Range"),s=n&&/bytes=($1)-($2)/.exec(n);if(s){const t=parseInt(s[1]),n=parseInt(s[2]),o=await r.slice(t,n).arrayBuffer(),i=new Response(o);return Object.defineProperty(i,"url",{value:e}),i}const o=new Response(r);return Object.defineProperty(o,"url",{value:e}),o}async readdir(e){const t=[];for(const e in this.files)t.push(e);return t}async stat(e,t){const r=this.files[e];if(!r)throw new Error(e);return{size:r.size}}async unlink(e){delete this.files[e],delete this.lowerCaseFiles[e],this.usedFiles[e]=!0}async open(e,t,r){return this.files[e]}async read(e,t,r=0,n=t.byteLength,s=null){const o=e;return{bytesRead:n,buffer:await o.slice(0,0+n).arrayBuffer()}}async close(e){}_getFile(e,t){const r=this.files[e]||this.lowerCaseFiles[e];return r&&t&&(this.usedFiles[e]=!0),r}}},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"9gGE1":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"ImageLoader",(()=>s.ImageLoader)),n.export(r,"ImageWriter",(()=>o.ImageWriter)),n.export(r,"getBinaryImageMetadata",(()=>i.getBinaryImageMetadata)),n.export(r,"isImageTypeSupported",(()=>a.isImageTypeSupported)),n.export(r,"getDefaultImageType",(()=>a.getDefaultImageType)),n.export(r,"isImage",(()=>l.isImage)),n.export(r,"getImageType",(()=>l.getImageType)),n.export(r,"getImageSize",(()=>l.getImageSize)),n.export(r,"getImageData",(()=>l.getImageData)),n.export(r,"loadImage",(()=>c.loadImage));var s=e("./image-loader"),o=e("./image-writer"),i=e("./lib/category-api/binary-image-api"),a=e("./lib/category-api/image-type"),l=e("./lib/category-api/parsed-image-api"),c=e("./lib/texture-api/load-image")},{"./image-loader":"9aBo7","./image-writer":"8oCZ5","./lib/category-api/binary-image-api":"3ryXm","./lib/category-api/image-type":"fPq98","./lib/category-api/parsed-image-api":"aF6cy","./lib/texture-api/load-image":"dOViL","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"9aBo7":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"ImageLoader",(()=>l)),n.export(r,"_typecheckImageLoader",(()=>c));var s=e("./lib/utils/version"),o=e("./lib/parsers/parse-image"),i=n.interopDefault(o),a=e("./lib/category-api/binary-image-api");const l={id:"image",module:"images",name:"Images",version:s.VERSION,mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:i.default,tests:[e=>Boolean(a.getBinaryImageMetadata(new DataView(e)))],options:{image:{type:"auto",decode:!0}}},c=l},{"./lib/utils/version":"jivHA","./lib/parsers/parse-image":"iW17W","./lib/category-api/binary-image-api":"3ryXm","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jivHA:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"VERSION",(()=>s));const s="3.0.12"},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],iW17W:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../utils/assert"),o=e("../category-api/image-type"),i=e("../category-api/parsed-image-api"),a=e("./parse-to-image"),l=n.interopDefault(a),c=e("./parse-to-image-bitmap"),u=n.interopDefault(c),p=e("./parse-to-node-image"),d=n.interopDefault(p);r.default=async function(e,t,r){const n=((t=t||{}).image||{}).type||"auto",{url:a}=r||{};let c;switch(function(e){switch(e){case"auto":case"data":return o.getDefaultImageType();default:return o.isImageTypeSupported(e),e}}(n)){case"imagebitmap":c=await u.default(e,t,a);break;case"image":c=await l.default(e,t,a);break;case"data":c=await d.default(e,t);break;default:s.assert(!1)}return"data"===n&&(c=i.getImageData(c)),c}},{"../utils/assert":"9Pj68","../category-api/image-type":"fPq98","../category-api/parsed-image-api":"aF6cy","./parse-to-image":"b16LZ","./parse-to-image-bitmap":"eWdMA","./parse-to-node-image":"gQTqD","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"9Pj68":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t){if(!e)throw new Error(t)}n.defineInteropFlag(r),n.export(r,"assert",(()=>s))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],fPq98:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"isImageTypeSupported",(()=>u)),n.export(r,"getDefaultImageType",(()=>p));var s=e("../utils/globals");const{_parseImageNode:o}=s.global,i="undefined"!=typeof Image,a="undefined"!=typeof ImageBitmap,l=Boolean(o),c=!!s.isBrowser||l;function u(e){switch(e){case"auto":return a||i||c;case"imagebitmap":return a;case"image":return i;case"data":return c;default:throw new Error(`@loaders.gl/images: image ${e} not supported in this environment`)}}function p(){if(a)return"imagebitmap";if(i)return"image";if(c)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}},{"../utils/globals":"9zwCj","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"9zwCj":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"self",(()=>a)),n.export(r,"window",(()=>l)),n.export(r,"global",(()=>c)),n.export(r,"document",(()=>u)),n.export(r,"isBrowser",(()=>p)),n.export(r,"isWorker",(()=>d)),n.export(r,"nodeVersion",(()=>f));var s=arguments[3],o=e("process");const i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==s&&s,document:"undefined"!=typeof document&&document},a=i.self||i.window||i.global,l=i.window||i.self||i.global,c=i.global||i.self||i.window,u=i.document||{},p="object"!=typeof o||"[object process]"!==String(o)||!0,d="function"==typeof importScripts,h=void 0!==o&&o.version&&/v([0-9]*)/.exec(o.version),f=h&&parseFloat(h[1])||0},{process:"k8Kyg","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],aF6cy:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){return Boolean(c(e))}function o(e){if("imagebitmap"===i(e))e.close()}function i(e){const t=c(e);if(!t)throw new Error("Not an image");return t}function a(e){return l(e)}function l(e){switch(i(e)){case"data":return e;case"image":case"imagebitmap":const t=document.createElement("canvas"),r=t.getContext("2d");if(!r)throw new Error("getImageData");return t.width=e.width,t.height=e.height,r.drawImage(e,0,0),r.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}function c(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&e instanceof Image?"image":e&&"object"==typeof e&&e.data&&e.width&&e.height?"data":null}n.defineInteropFlag(r),n.export(r,"isImage",(()=>s)),n.export(r,"deleteImage",(()=>o)),n.export(r,"getImageType",(()=>i)),n.export(r,"getImageSize",(()=>a)),n.export(r,"getImageData",(()=>l))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],b16LZ:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"loadToImage",(()=>o));var s=e("./svg-utils");async function o(e,t){const r=new Image;return r.src=e,t.image&&t.image.decode&&r.decode?(await r.decode(),r):await new Promise(((t,n)=>{try{r.onload=()=>t(r),r.onerror=t=>n(new Error(`Could not load image ${e}: ${t}`))}catch(e){n(e)}}))}r.default=async function(e,t,r){const n=s.getBlobOrSVGDataUrl(e,r),i=self.URL||self.webkitURL,a="string"!=typeof n&&i.createObjectURL(n);try{return await o(a||n,t)}finally{a&&i.revokeObjectURL(a)}}},{"./svg-utils":"dfQZg","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],dfQZg:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"isSVG",(()=>i)),n.export(r,"getBlobOrSVGDataUrl",(()=>a)),n.export(r,"getBlob",(()=>l));const s=/^data:image\/svg\+xml/,o=/\.svg((\?|#).*)?$/;function i(e){return e&&(s.test(e)||o.test(e))}function a(e,t){if(i(t)){let t=(new TextDecoder).decode(e);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(t=unescape(encodeURIComponent(t)))}catch(e){throw new Error(e.message)}return`data:image/svg+xml;base64,${btoa(t)}`}return l(e,t)}function l(e,t){if(i(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],eWdMA:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./svg-utils"),o=e("./parse-to-image"),i=n.interopDefault(o);const a={};let l=!0;r.default=async function(e,t,r){let n;if(s.isSVG(r)){n=await i.default(e,t,r)}else n=s.getBlob(e,r);const o=t&&t.imagebitmap;return await async function(e,t=null){!function(e){for(const t in e||a)return!1;return!0}(t)&&l||(t=null);if(t)try{return await createImageBitmap(e,t)}catch(e){console.warn(e),l=!1}return await createImageBitmap(e)}(n,o)}},{"./svg-utils":"dfQZg","./parse-to-image":"b16LZ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],gQTqD:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("../utils/globals"),s=e("../utils/assert"),o=e("../category-api/binary-image-api");r.default=function(e,t){const{mimeType:r}=o.getBinaryImageMetadata(e)||{},{_parseImageNode:i}=n.global;return s.assert(i),i(e,r,t)}},{"../utils/globals":"9zwCj","../utils/assert":"9Pj68","../category-api/binary-image-api":"3ryXm","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3ryXm":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getBinaryImageMetadata",(()=>i)),n.export(r,"getBmpMetadata",(()=>a));const s=!1,o=!0;function i(e){const t=l(e);return function(e){const t=l(e);return t.byteLength>=24&&t.getUint32(0,s)===2303741511?{mimeType:"image/png",width:t.getUint32(16,s),height:t.getUint32(20,s)}:null}(t)||function(e){const t=l(e);if(!(t.byteLength>=3&&65496===t.getUint16(0,s)&&255===t.getUint8(2)))return null;const{tableMarkers:r,sofMarkers:n}=function(){const e=new Set([65499,65476,65484,65501,65534]);for(let t=65504;t<65520;++t)e.add(t);const t=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:t}}();let o=2;for(;o+9<t.byteLength;){const e=t.getUint16(o,s);if(n.has(e))return{mimeType:"image/jpeg",height:t.getUint16(o+5,s),width:t.getUint16(o+7,s)};if(!r.has(e))return null;o+=2,o+=t.getUint16(o,s)}return null}(t)||function(e){const t=l(e);return t.byteLength>=10&&t.getUint32(0,s)===1195984440?{mimeType:"image/gif",width:t.getUint16(6,o),height:t.getUint16(8,o)}:null}(t)||a(t)}function a(e){const t=l(e);return t.byteLength>=14&&16973===t.getUint16(0,s)&&t.getUint32(2,o)===t.byteLength?{mimeType:"image/bmp",width:t.getUint32(18,o),height:t.getUint32(22,o)}:null}function l(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"8oCZ5":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"ImageWriter",(()=>i));var s=e("./lib/utils/version"),o=e("./lib/encoders/encode-image");const i={name:"Images",id:"image",module:"images",version:s.VERSION,extensions:["jpeg"],options:{image:{mimeType:"image/png",jpegQuality:null}},encode:o.encodeImage}},{"./lib/utils/version":"jivHA","./lib/encoders/encode-image":"84s4U","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"84s4U":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"encodeImage",(()=>a));var s=e("../utils/globals"),o=e("../category-api/parsed-image-api");const{_encodeImageNode:i}=s.global;async function a(e,t){return(t=t||{}).image=t.image||{},i?i(e,{type:t.image.mimeType}):async function(e,t){const{mimeType:r,jpegQuality:n}=t.image,{width:s,height:i}=o.getImageSize(e),a=document.createElement("canvas");a.width=s,a.height=i,function(e,t,r=0,n=0){if(0===r&&0===n&&"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const r=t.getContext("bitmaprenderer");if(r)return r.transferFromImageBitmap(e),t}const s=t.getContext("2d");if(e.data){const r=new Uint8ClampedArray(e.data),n=new ImageData(r,e.width,e.height);return s.putImageData(n,0,0),t}s.drawImage(e,0,0)}(e,a);const c=await new Promise((e=>{if(n&&l)try{return void a.toBlob(e,r,n)}catch(e){l=!1}a.toBlob(e,r)}));if(!c)throw new Error("image encoding failed");return await c.arrayBuffer()}(e,t)}let l=!0},{"../utils/globals":"9zwCj","../category-api/parsed-image-api":"aF6cy","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],dOViL:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"loadImage",(()=>u)),n.export(r,"getImageUrls",(()=>p)),n.export(r,"getMipLevels",(()=>d));var s=e("../utils/assert"),o=e("../parsers/parse-image"),i=n.interopDefault(o),a=e("../category-api/parsed-image-api"),l=e("./generate-url"),c=e("./deep-load");async function u(e,t={}){const r=await p(e,t);return await c.deepLoad(r,i.default,t)}async function p(e,t,r={}){const n=t&&t.image&&t.image.mipLevels||0;return 0!==n?await async function(e,t,r,n){const o=[];if("auto"===t){const s=l.generateUrl(e,r,{...n,lod:0}),u=await c.shallowLoad(s,i.default,r),{width:p,height:h}=a.getImageSize(u);t=d({width:p,height:h}),o.push(s)}s.assert(t>0);for(let s=o.length;s<t;++s){const t=l.generateUrl(e,r,{...n,lod:s});o.push(t)}return o}(e,n,t,r):l.generateUrl(e,t,r)}function d({width:e,height:t}){return 1+Math.floor(Math.log2(Math.max(e,t)))}},{"../utils/assert":"9Pj68","../parsers/parse-image":"iW17W","../category-api/parsed-image-api":"aF6cy","./generate-url":"dh9td","./deep-load":"1HK19","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],dh9td:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"generateUrl",(()=>i));var s=e("@loaders.gl/loader-utils"),o=e("../utils/assert");function i(e,t,r){let n=e;"function"==typeof e&&(n=e({...t,...r})),o.assert("string"==typeof n);const{baseUrl:i}=t;return i&&(n="/"===i[i.length-1]?`${i}${n}`:`${i}/${n}`),s.resolvePath(n)}},{"@loaders.gl/loader-utils":"TOx17","../utils/assert":"9Pj68","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"1HK19":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"deepLoad",(()=>o)),n.export(r,"shallowLoad",(()=>i));var s=e("./async-deep-map");async function o(e,t,r){return await s.asyncDeepMap(e,(e=>i(e,t,r)))}async function i(e,t,r){const n=await fetch(e,r.fetch),s=await n.arrayBuffer();return await t(s,r)}},{"./async-deep-map":"dnAaY","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],dnAaY:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"asyncDeepMap",(()=>s)),n.export(r,"mapSubtree",(()=>o));async function s(e,t,r={}){return await o(e,t,r)}async function o(e,t,r){if(Array.isArray(e))return await async function(e,t,r={}){const n=e.map((e=>o(e,t,r)));return await Promise.all(n)}(e,t,r);if((n=e)&&"object"==typeof n)return await async function(e,t,r){const n=[],s={};for(const i in e){const a=o(e[i],t,r).then((e=>{s[i]=e}));n.push(a)}return await Promise.all(n),s}(e,t,r);var n;const s=e;return await t(s,r)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3CmCn":[function(e,t,r){t.exports=e("./dist/es5/env")},{"./dist/es5/env":"hNKJN"}],hNKJN:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),s=e("@babel/runtime/helpers/typeof");Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"self",{enumerable:!0,get:function(){return o.self}}),Object.defineProperty(r,"window",{enumerable:!0,get:function(){return o.window}}),Object.defineProperty(r,"global",{enumerable:!0,get:function(){return o.global}}),Object.defineProperty(r,"document",{enumerable:!0,get:function(){return o.document}}),Object.defineProperty(r,"process",{enumerable:!0,get:function(){return o.process}}),Object.defineProperty(r,"console",{enumerable:!0,get:function(){return o.console}}),Object.defineProperty(r,"isBrowser",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"isBrowserMainThread",{enumerable:!0,get:function(){return i.isBrowserMainThread}}),Object.defineProperty(r,"getBrowser",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"isMobile",{enumerable:!0,get:function(){return a.isMobile}}),Object.defineProperty(r,"isElectron",{enumerable:!0,get:function(){return l.default}});var o=e("./globals"),i=u(e("./is-browser")),a=u(e("./get-browser")),l=n(e("./is-electron"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}},{"@babel/runtime/helpers/interopRequireDefault":"c8wTq","@babel/runtime/helpers/typeof":"cRzv1","./globals":"9WnFF","./is-browser":"2xMsn","./get-browser":"dClK1","./is-electron":"kn5mj"}],c8wTq:[function(e,t,r){t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.default=t.exports,t.exports.__esModule=!0},{}],cRzv1:[function(e,t,r){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=n=function(e){return typeof e},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.default=t.exports,t.exports.__esModule=!0),n(e)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},{}],"9WnFF":[function(e,t,r){var n=e("process"),s=arguments[3],o=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.console=r.process=r.document=r.global=r.window=r.self=void 0;var i=o(e("@babel/runtime/helpers/typeof")),a={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==s&&s,document:"undefined"!=typeof document&&document,process:"object"===(void 0===n?"undefined":i.default(n))&&n},l=a.self||a.window||a.global;r.self=l;var c=a.window||a.self||a.global;r.window=c;var u=a.global||a.self||a.window;r.global=u;var p=a.document||{};r.document=p;var d=a.process||{};r.process=d;var h=console;r.console=h},{process:"k8Kyg","@babel/runtime/helpers/interopRequireDefault":"c8wTq","@babel/runtime/helpers/typeof":"cRzv1"}],"2xMsn":[function(e,t,r){var n=e("process"),s=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=a,r.isBrowserMainThread=function(){return a()&&"undefined"!=typeof document};var o=s(e("@babel/runtime/helpers/typeof")),i=s(e("./is-electron"));function a(){return!("object"===(void 0===n?"undefined":o.default(n))&&"[object process]"===String(n)&&!1)||i.default()}},{process:"k8Kyg","@babel/runtime/helpers/interopRequireDefault":"c8wTq","@babel/runtime/helpers/typeof":"cRzv1","./is-electron":"kn5mj"}],kn5mj:[function(e,t,r){var n=e("process"),s=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if("undefined"!=typeof window&&"object"===o.default(window.process)&&"renderer"===window.process.type)return!0;if(void 0!==n&&"object"===o.default(n.versions)&&Boolean(n.versions.electron))return!0;var t="object"===("undefined"==typeof navigator?"undefined":o.default(navigator))&&"string"==typeof navigator.userAgent&&navigator.userAgent,r=e||t;return!!(r&&r.indexOf("Electron")>=0)};var o=s(e("@babel/runtime/helpers/typeof"))},{process:"k8Kyg","@babel/runtime/helpers/interopRequireDefault":"c8wTq","@babel/runtime/helpers/typeof":"cRzv1"}],dClK1:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.isMobile=function(){return void 0!==s.window.orientation},r.default=function(e){if(!e&&!o.default())return"Node";if(i.default(e))return"Electron";var t="undefined"!=typeof navigator?navigator:{},r=e||t.userAgent||"";if(r.indexOf("Edge")>-1)return"Edge";var n=-1!==r.indexOf("MSIE "),a=-1!==r.indexOf("Trident/");return n||a?"IE":s.window.chrome?"Chrome":s.window.safari?"Safari":s.window.mozInnerScreenX?"Firefox":"Unknown"};var s=e("./globals"),o=n(e("./is-browser")),i=n(e("./is-electron"))},{"@babel/runtime/helpers/interopRequireDefault":"c8wTq","./globals":"9WnFF","./is-browser":"2xMsn","./is-electron":"kn5mj"}],aMqim:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("probe.gl");r.default=new n.Log({id:"deck"})},{"probe.gl":"7CitO","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"2nXIZ":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"register",(()=>a));var s=e("../utils/log"),o=n.interopDefault(s);e("./loggers");let i={};function a(e){i=e}r.default=function(e){o.default.level>0&&i[e]&&i[e].call(...arguments)}},{"../utils/log":"aMqim","./loggers":"atSRp","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],atSRp:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getLoggers",(()=>o));const s={attributeUpdateMessages:[]},o=e=>({"layer.changeFlag":(t,r,n)=>{e.log(3,"".concat(t.id," ").concat(r,": "),n[r])()},"layer.initialize":t=>{e.log(1,"Initializing ".concat(t))()},"layer.update":(t,r)=>{if(r){const r=t.getChangeFlags();e.log(2,"Updating ".concat(t," because: ").concat(Object.keys(r).filter((e=>r[e])).join(", ")))()}else e.log(4,"".concat(t," does not need update"))()},"layer.matched":(t,r)=>{r&&e.log(4,"Matched ".concat(t,", state transfered"))()},"layer.finalize":t=>{e.log(1,"Finalizing ".concat(t))()},"compositeLayer.renderLayers":(t,r,n)=>{r?e.log(2,"Composite layer rendered new subLayers ".concat(t),n)():e.log(4,"Composite layer reused subLayers ".concat(t),n)()},"layerManager.setLayers":(t,r,n)=>{r&&e.log(2,"Updating ".concat(n.length," deck layers"))()},"layerManager.activateViewport":(t,r)=>{e.log(3,"Viewport changed",r)()},"attributeManager.invalidate":(t,r,n)=>{e.log(1,n?"invalidated attributes ".concat(n," (").concat(r,") for ").concat(t.id):"invalidated all attributes for ".concat(t.id))()},"attributeManager.updateStart":e=>{s.attributeUpdateMessages.length=0,s.attributeManagerUpdateStart=Date.now()},"attributeManager.updateEnd":(t,r)=>{const n=Math.round(Date.now()-s.attributeManagerUpdateStart);e.groupCollapsed(2,"Updated attributes for ".concat(r," instances in ").concat(t.id," in ").concat(n,"ms"))();for(const t of s.attributeUpdateMessages)e.log(3,t)();e.groupEnd(2)()},"attribute.updateStart":e=>{s.attributeUpdateStart=Date.now()},"attribute.allocate":(e,t)=>{const r="".concat(e.id," allocated ").concat(t);s.attributeUpdateMessages.push(r)},"attribute.updateEnd":(e,t)=>{const r=Math.round(Date.now()-s.attributeUpdateStart),n="".concat(e.id," updated ").concat(t," in ").concat(r,"ms");s.attributeUpdateMessages.push(n)},"deckRenderer.renderLayers":(t,r,n)=>{const{pass:s,redrawReason:o,stats:i}=n;for(const n of r){const{totalCount:r,visibleCount:a,compositeCount:l,pickableCount:c}=n,u=r-l-a;e.log(2,"RENDER #".concat(t.renderCount,"   ").concat(a," (of ").concat(r," layers) to ").concat(s," because ").concat(o,"   (").concat(u," hidden, ").concat(l," composite ").concat(c," pickable)"))(),i&&i.get("Redraw Layers").add(a)}}})},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"2Ppo2":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default={name:"JSON",extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function(e){const t=e[0],r=e[e.length-1];return"{"===t&&"}"===r||"["===t&&"]"===r},parseTextSync:JSON.parse}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],aPLJL:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"createProgramManager",(()=>m)),n.export(r,"picking",(()=>d.default)),n.export(r,"project",(()=>i.default)),n.export(r,"project32",(()=>l.default)),n.export(r,"gouraudLighting",(()=>s.gouraudLighting)),n.export(r,"phongLighting",(()=>s.phongLighting)),n.export(r,"shadow",(()=>u.default));var s=e("@luma.gl/core"),o=e("./project/project"),i=n.interopDefault(o),a=e("./project32/project32"),l=n.interopDefault(a),c=e("./shadow/shadow"),u=n.interopDefault(c),p=e("./picking/picking"),d=n.interopDefault(p);const h=[i.default],f=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function m(e){const t=s.ProgramManager.getDefaultProgramManager(e);for(const e of h)t.addDefaultModule(e);for(const e of f)t.addShaderHook(e);return t}},{"@luma.gl/core":"e4zBo","./project/project":"5FnoG","./project32/project32":"3Pe7x","./shadow/shadow":"9Kj96","./picking/picking":"ftDyD","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],e4zBo:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"createGLContext",(()=>s.createGLContext)),n.export(r,"instrumentGLContext",(()=>s.instrumentGLContext)),n.export(r,"isWebGL",(()=>s.isWebGL)),n.export(r,"isWebGL2",(()=>s.isWebGL2)),n.export(r,"getParameters",(()=>s.getParameters)),n.export(r,"setParameters",(()=>s.setParameters)),n.export(r,"withParameters",(()=>s.withParameters)),n.export(r,"resetParameters",(()=>s.resetParameters)),n.export(r,"cssToDeviceRatio",(()=>s.cssToDeviceRatio)),n.export(r,"cssToDevicePixels",(()=>s.cssToDevicePixels)),n.export(r,"lumaStats",(()=>o.lumaStats)),n.export(r,"FEATURES",(()=>o.FEATURES)),n.export(r,"hasFeature",(()=>o.hasFeature)),n.export(r,"hasFeatures",(()=>o.hasFeatures)),n.export(r,"Buffer",(()=>o.Buffer)),n.export(r,"Program",(()=>o.Program)),n.export(r,"Framebuffer",(()=>o.Framebuffer)),n.export(r,"Renderbuffer",(()=>o.Renderbuffer)),n.export(r,"Texture2D",(()=>o.Texture2D)),n.export(r,"TextureCube",(()=>o.TextureCube)),n.export(r,"clear",(()=>o.clear)),n.export(r,"readPixelsToArray",(()=>o.readPixelsToArray)),n.export(r,"readPixelsToBuffer",(()=>o.readPixelsToBuffer)),n.export(r,"cloneTextureFrom",(()=>o.cloneTextureFrom)),n.export(r,"copyToTexture",(()=>o.copyToTexture)),n.export(r,"Texture3D",(()=>o.Texture3D)),n.export(r,"TransformFeedback",(()=>o.TransformFeedback)),n.export(r,"AnimationLoop",(()=>i.AnimationLoop)),n.export(r,"Model",(()=>i.Model)),n.export(r,"Transform",(()=>i.Transform)),n.export(r,"ProgramManager",(()=>i.ProgramManager)),n.export(r,"Timeline",(()=>i.Timeline)),n.export(r,"Geometry",(()=>i.Geometry)),n.export(r,"ClipSpace",(()=>i.ClipSpace)),n.export(r,"ConeGeometry",(()=>i.ConeGeometry)),n.export(r,"CubeGeometry",(()=>i.CubeGeometry)),n.export(r,"CylinderGeometry",(()=>i.CylinderGeometry)),n.export(r,"IcoSphereGeometry",(()=>i.IcoSphereGeometry)),n.export(r,"PlaneGeometry",(()=>i.PlaneGeometry)),n.export(r,"SphereGeometry",(()=>i.SphereGeometry)),n.export(r,"TruncatedConeGeometry",(()=>i.TruncatedConeGeometry)),n.export(r,"normalizeShaderModule",(()=>a.normalizeShaderModule)),n.export(r,"fp32",(()=>a.fp32)),n.export(r,"fp64",(()=>a.fp64)),n.export(r,"project",(()=>a.project)),n.export(r,"dirlight",(()=>a.dirlight)),n.export(r,"picking",(()=>a.picking)),n.export(r,"gouraudLighting",(()=>a.gouraudLighting)),n.export(r,"phongLighting",(()=>a.phongLighting)),n.export(r,"pbr",(()=>a.pbr)),n.export(r,"log",(()=>o.log)),n.export(r,"assert",(()=>o.assert)),n.export(r,"uid",(()=>o.uid));var s=e("@luma.gl/gltools"),o=e("@luma.gl/webgl"),i=e("@luma.gl/engine"),a=e("@luma.gl/shadertools")},{"@luma.gl/gltools":"lC8CG","@luma.gl/webgl":"ktJRJ","@luma.gl/engine":"dsV7v","@luma.gl/shadertools":"h97yR","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lC8CG:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"log",(()=>s.log)),n.export(r,"isWebGL",(()=>o.isWebGL)),n.export(r,"isWebGL2",(()=>o.isWebGL2)),n.export(r,"getWebGL2Context",(()=>o.getWebGL2Context)),n.export(r,"assertWebGLContext",(()=>o.assertWebGLContext)),n.export(r,"assertWebGL2Context",(()=>o.assertWebGL2Context)),n.export(r,"polyfillContext",(()=>i.polyfillContext)),n.export(r,"getParameters",(()=>a.getParameters)),n.export(r,"setParameters",(()=>a.setParameters)),n.export(r,"resetParameters",(()=>a.resetParameters)),n.export(r,"withParameters",(()=>a.withParameters)),n.export(r,"trackContextState",(()=>l.trackContextState)),n.export(r,"pushContextState",(()=>l.pushContextState)),n.export(r,"popContextState",(()=>l.popContextState)),n.export(r,"createGLContext",(()=>c.createGLContext)),n.export(r,"resizeGLContext",(()=>c.resizeGLContext)),n.export(r,"instrumentGLContext",(()=>c.instrumentGLContext)),n.export(r,"getContextDebugInfo",(()=>c.getContextDebugInfo)),n.export(r,"cssToDeviceRatio",(()=>u.cssToDeviceRatio)),n.export(r,"cssToDevicePixels",(()=>u.cssToDevicePixels));var s=e("./utils/log"),o=e("./utils/webgl-checks"),i=e("./polyfill/polyfill-context"),a=e("./state-tracker/unified-parameter-api"),l=e("./state-tracker/track-context-state"),c=e("./context/context"),u=e("./utils/device-pixels")},{"./utils/log":"h6tGA","./utils/webgl-checks":"cJi4P","./polyfill/polyfill-context":"hhNcz","./state-tracker/unified-parameter-api":"ltK15","./state-tracker/track-context-state":"32SPM","./context/context":"lm18G","./utils/device-pixels":"cqc3S","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],h6tGA:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"log",(()=>s));const s=new(e("probe.gl").Log)({id:"luma.gl"})},{"probe.gl":"7CitO","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],cJi4P:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"ERR_WEBGL",(()=>i)),n.export(r,"ERR_WEBGL2",(()=>a)),n.export(r,"isWebGL",(()=>l)),n.export(r,"isWebGL2",(()=>c)),n.export(r,"getWebGL2Context",(()=>u)),n.export(r,"assertWebGLContext",(()=>p)),n.export(r,"assertWebGL2Context",(()=>d));var s=e("./assert");const o="Invalid WebGLRenderingContext",i=o,a="Requires WebGL2";function l(e){return"undefined"!=typeof WebGLRenderingContext&&e instanceof WebGLRenderingContext||("undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&Number.isFinite(e._version)))}function c(e){return"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}function u(e){return c(e)?e:null}function p(e){return s.assert(l(e),o),e}function d(e){return s.assert(c(e),a),e}},{"./assert":"lPGKq","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lPGKq:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}n.defineInteropFlag(r),n.export(r,"assert",(()=>s))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hhNcz:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"polyfillContext",(()=>l));var s=e("./polyfill-vertex-array-object"),o=e("../utils/assert"),i=e("./polyfill-table"),a=arguments[3];function l(e){e.luma=e.luma||{};const{luma:t}=e;return t.polyfilled||(s.polyfillVertexArrayObject(e),u(e),d(e,i.WEBGL2_CONTEXT_POLYFILLS),p(e,{target:t,target2:e}),t.polyfilled=!0),e}const c=void 0!==a?a:window;function u(e){e.luma.extensions={};const t=e.getSupportedExtensions()||[];for(const r of t)e.luma[r]=e.getExtension(r)}function p(e,{target:t,target2:r}){Object.keys(i.WEBGL2_CONTEXT_OVERRIDES).forEach((n=>{if("function"==typeof i.WEBGL2_CONTEXT_OVERRIDES[n]){const s=e[n]?e[n].bind(e):()=>{},o=i.WEBGL2_CONTEXT_OVERRIDES[n].bind(null,e,s);t[n]=o,r[n]=o}}))}function d(e,t){for(const r of Object.getOwnPropertyNames(t))"overrides"!==r&&h(e,{extension:r,target:e.luma,target2:e})}function h(e,{extension:t,target:r,target2:n}){const s=i.WEBGL2_CONTEXT_POLYFILLS[t];o.assert(s);const{meta:a={}}=s,{suffix:l=""}=a,c=e.getExtension(t);for(const t of Object.keys(s)){const o=`${t}${l}`;let i=null;"meta"===t||"function"==typeof e[t]||(c&&"function"==typeof c[o]?i=(...e)=>c[o](...e):"function"==typeof s[t]&&(i=s[t].bind(r))),i&&(r[t]=i,n[t]=i)}}c.polyfillContext=l},{"./polyfill-vertex-array-object":"7kqDM","../utils/assert":"lPGKq","./polyfill-table":"afE0E","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"7kqDM":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"polyfillVertexArrayObject",(()=>c));var s=e("probe.gl/env");const o={};function i(e,t){var r;o[e]=!0,void 0!==t&&(r=t,s.global.console&&s.global.console.error&&s.global.console.error(r))}const a=function e(t){const r=t.gl;this.ext=t,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(t.maxVertexAttribs);for(let t=0;t<this.attribs.length;t++){const n=new e.VertexAttrib(r);this.attribs[t]=n}this.maxAttrib=0};(a.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};const l=function(e){const t=this;this.gl=e,function(e){const t=e.getError;e.getError=function(){let r;do{r=t.apply(e),0!==r&&(o[r]=!0)}while(0!==r);for(r in o)if(o[r])return delete o[r],parseInt(r,10);return 0}}(e);const r=this.original={getParameter:e.getParameter,enableVertexAttribArray:e.enableVertexAttribArray,disableVertexAttribArray:e.disableVertexAttribArray,bindBuffer:e.bindBuffer,getVertexAttrib:e.getVertexAttrib,vertexAttribPointer:e.vertexAttribPointer};e.getParameter=function(e){return e===t.VERTEX_ARRAY_BINDING_OES?t.currentVertexArrayObject===t.defaultVertexArrayObject?null:t.currentVertexArrayObject:r.getParameter.apply(this,arguments)},e.enableVertexAttribArray=function(e){const n=t.currentVertexArrayObject;n.maxAttrib=Math.max(n.maxAttrib,e);const s=n.attribs[e];return s.enabled=!0,r.enableVertexAttribArray.apply(this,arguments)},e.disableVertexAttribArray=function(e){const n=t.currentVertexArrayObject;n.maxAttrib=Math.max(n.maxAttrib,e);const s=n.attribs[e];return s.enabled=!1,r.disableVertexAttribArray.apply(this,arguments)},e.bindBuffer=function(e,n){switch(e){case 34962:t.currentArrayBuffer=n;break;case 34963:t.currentVertexArrayObject.elementArrayBuffer=n}return r.bindBuffer.apply(this,arguments)},e.getVertexAttrib=function(e,n){const s=t.currentVertexArrayObject,o=s.attribs[e];switch(n){case 34975:return o.buffer;case 34338:return o.enabled;case 34339:return o.size;case 34340:return o.stride;case 34341:return o.type;case 34922:return o.normalized;default:return r.getVertexAttrib.apply(this,arguments)}},e.vertexAttribPointer=function(e,n,s,o,i,a){const l=t.currentVertexArrayObject;l.maxAttrib=Math.max(l.maxAttrib,e);const c=l.attribs[e];return c.buffer=t.currentArrayBuffer,c.size=n,c.type=s,c.normalized=o,c.stride=i,c.offset=a,c.recache(),r.vertexAttribPointer.apply(this,arguments)},e.instrumentExtension&&e.instrumentExtension(this,"OES_vertex_array_object"),e.canvas&&e.canvas.addEventListener("webglcontextrestored",(()=>{var e;e="OESVertexArrayObject emulation library context restored",s.global.console&&s.global.console.log&&s.global.console.log(e),t.reset_()}),!0),this.reset_()};function c(e){if("function"==typeof e.createVertexArray)return;const t=e.getSupportedExtensions;e.getSupportedExtensions=function(){const e=t.call(this)||[];return e.indexOf("OES_vertex_array_object")<0&&e.push("OES_vertex_array_object"),e};const r=e.getExtension;e.getExtension=function(t){const n=r.call(this,t);return n||("OES_vertex_array_object"!==t?null:(e.__OESVertexArrayObject||(this.__OESVertexArrayObject=new l(this)),this.__OESVertexArrayObject))}}l.prototype.VERTEX_ARRAY_BINDING_OES=34229,l.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(let e=0;e<this.vertexArrayObjects.length;++e)this.vertexArrayObjects.isAlive=!1;const e=this.gl;this.maxVertexAttribs=e.getParameter(34921),this.defaultVertexArrayObject=new a(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},l.prototype.createVertexArrayOES=function(){const e=new a(this);return this.vertexArrayObjects.push(e),e},l.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject===e&&this.bindVertexArrayOES(null)},l.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof a&&e.hasBeenBound&&e.ext===this)},l.prototype.bindVertexArrayOES=function(e){const t=this.gl;if(e&&!e.isAlive)return void i(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject");const r=this.original,n=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;const s=this.currentVertexArrayObject;if(n===s)return;n&&s.elementArrayBuffer===n.elementArrayBuffer||r.bindBuffer.call(t,34963,s.elementArrayBuffer);let o=this.currentArrayBuffer;const a=Math.max(n?n.maxAttrib:0,s.maxAttrib);for(let e=0;e<=a;e++){const i=s.attribs[e],a=n?n.attribs[e]:null;if(n&&i.enabled===a.enabled||(i.enabled?r.enableVertexAttribArray.call(t,e):r.disableVertexAttribArray.call(t,e)),i.enabled){let s=!1;n&&i.buffer===a.buffer||(o!==i.buffer&&(r.bindBuffer.call(t,34962,i.buffer),o=i.buffer),s=!0),(s||i.cached!==a.cached)&&r.vertexAttribPointer.call(t,e,i.size,i.type,i.normalized,i.stride,i.offset)}}this.currentArrayBuffer!==o&&r.bindBuffer.call(t,34962,this.currentArrayBuffer)}},{"probe.gl/env":"3CmCn","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],afE0E:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"WEBGL2_CONTEXT_POLYFILLS",(()=>l)),n.export(r,"WEBGL2_CONTEXT_OVERRIDES",(()=>c));var s=e("../utils/assert"),o=e("../utils/webgl-checks"),i=e("./get-parameter-polyfill");const a="ANGLE_instanced_arrays";const l={OES_vertex_array_object:{meta:{suffix:"OES"},createVertexArray:()=>{s.assert(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:()=>{},bindVertexArray:()=>{},isVertexArray:()=>!1},[a]:{meta:{suffix:"ANGLE"},vertexAttribDivisor(e,t){s.assert(0===t,"WebGL instanced rendering not supported")},drawElementsInstanced:()=>{},drawArraysInstanced:()=>{}},WEBGL_draw_buffers:{meta:{suffix:"WEBGL"},drawBuffers:()=>{s.assert(!1)}},EXT_disjoint_timer_query:{meta:{suffix:"EXT"},createQuery:()=>{s.assert(!1)},deleteQuery:()=>{s.assert(!1)},beginQuery:()=>{s.assert(!1)},endQuery:()=>{},getQuery(e,t){return this.getQueryObject(e,t)},getQueryParameter(e,t){return this.getQueryObject(e,t)},getQueryObject:()=>{}}},c={readBuffer:(e,t,r)=>{o.isWebGL2(e)&&t(r)},getVertexAttrib:(e,t,r,n)=>{const{webgl2:s,ext:i}=function(e,t){return{webgl2:o.isWebGL2(e),ext:e.getExtension(t)}}(e,a);let l;switch(n){case 35069:l=!!s&&void 0;break;case 35070:l=s||i?void 0:0}return void 0!==l?l:t(r,n)},getProgramParameter:(e,t,r,n)=>{if(!o.isWebGL2(e))switch(n){case 35967:return 35981;case 35971:case 35382:return 0}return t(r,n)},getInternalformatParameter:(e,t,r,n,s)=>o.isWebGL2(e)||32937!==s?e.getInternalformatParameter(r,n,s):new Int32Array([0]),getTexParameter(e,t,r,n){if(34046===n){const{extensions:t}=e.luma,r=t.EXT_texture_filter_anisotropic;n=r&&r.TEXTURE_MAX_ANISOTROPY_EXT||34046}return t(r,n)},getParameter:i.getParameterPolyfill,hint:(e,t,r,n)=>t(r,n)}},{"../utils/assert":"lPGKq","../utils/webgl-checks":"cJi4P","./get-parameter-polyfill":"9lARF","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"9lARF":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getParameterPolyfill",(()=>u));var s=e("../utils/webgl-checks");const o="OES_element_index",i="WEBGL_draw_buffers",a="WEBGL_debug_renderer_info",l=e=>s.isWebGL2(e)?void 0:0,c={3074:e=>s.isWebGL2(e)?void 0:36064,35723:e=>s.isWebGL2(e)?void 0:4352,35977:l,32937:l,36795:(e,t)=>{const r=s.isWebGL2(e)?e.getExtension("EXT_disjoint_timer_query_webgl2"):e.getExtension("EXT_disjoint_timer_query");return r&&r.GPU_DISJOINT_EXT?t(r.GPU_DISJOINT_EXT):0},37445:(e,t)=>{const r=e.getExtension(a);return t(r&&r.UNMASKED_VENDOR_WEBGL||7936)},37446:(e,t)=>{const r=e.getExtension(a);return t(r&&r.UNMASKED_RENDERER_WEBGL||7937)},34047:(e,t)=>{const r=e.luma.extensions.EXT_texture_filter_anisotropic;return r?t(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1},32883:l,35071:l,37447:l,36063:(e,t)=>{if(!s.isWebGL2(e)){const r=e.getExtension(i);return r?t(r.MAX_COLOR_ATTACHMENTS_WEBGL):0}},35379:l,35374:l,35377:l,34852:e=>{if(!s.isWebGL2(e)){const t=e.getExtension(i);return t?t.MAX_DRAW_BUFFERS_WEBGL:0}},36203:e=>e.getExtension(o)?2147483647:65535,33001:e=>e.getExtension(o)?16777216:65535,33e3:e=>16777216,37157:l,35373:l,35657:l,36183:l,37137:l,34045:l,35978:l,35979:l,35968:l,35376:l,35375:l,35659:l,37154:l,35371:l,35658:l,35076:l,35077:l,35380:l};function u(e,t,r){const n=c[r],s="function"==typeof n?n(e,t,r):n;return void 0!==s?s:t(r)}},{"../utils/webgl-checks":"cJi4P","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ltK15:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"setParameters",(()=>c)),n.export(r,"getParameters",(()=>u)),n.export(r,"resetParameters",(()=>p)),n.export(r,"withParameters",(()=>d));var s=e("./webgl-parameter-tables"),o=e("./track-context-state"),i=e("../utils/assert"),a=e("../utils/webgl-checks"),l=e("../utils/utils");function c(e,t){if(i.assert(a.isWebGL(e),"setParameters requires a WebGL context"),l.isObjectEmpty(t))return;const r={};for(const n in t){const o=Number(n),i=s.GL_PARAMETER_SETTERS[n];i&&("string"==typeof i?r[i]=!0:i(e,t[n],o))}const n=e.state&&e.state.cache;if(n)for(const o in r){(0,s.GL_COMPOSITE_PARAMETER_SETTERS[o])(e,t,n)}}function u(e,t){if("number"==typeof(t=t||s.GL_PARAMETER_DEFAULTS)){const r=t,n=s.GL_PARAMETER_GETTERS[r];return n?n(e,r):e.getParameter(r)}const r=Array.isArray(t)?t:Object.keys(t),n={};for(const t of r){const r=s.GL_PARAMETER_GETTERS[t];n[t]=r?r(e,Number(t)):e.getParameter(Number(t))}return n}function p(e){c(e,s.GL_PARAMETER_DEFAULTS)}function d(e,t,r){if(l.isObjectEmpty(t))return r(e);const{nocatch:n=!0}=t;let s;if(o.pushContextState(e),c(e,t),n)s=r(e),o.popContextState(e);else try{s=r(e)}finally{o.popContextState(e)}return s}},{"./webgl-parameter-tables":"bEv5M","./track-context-state":"32SPM","../utils/assert":"lPGKq","../utils/webgl-checks":"cJi4P","../utils/utils":"eiGPY","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],bEv5M:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"GL_PARAMETER_DEFAULTS",(()=>o)),n.export(r,"GL_PARAMETER_SETTERS",(()=>u)),n.export(r,"GL_COMPOSITE_PARAMETER_SETTERS",(()=>d)),n.export(r,"GL_HOOKED_SETTERS",(()=>h)),n.export(r,"GL_PARAMETER_GETTERS",(()=>m));var s=e("../utils/webgl-checks");const o={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,36006:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],3333:4,3317:4,37440:!1,37441:!1,37443:37444,35723:4352,36010:null,35977:!1,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},i=(e,t,r)=>t?e.enable(r):e.disable(r),a=(e,t,r)=>e.hint(r,t),l=(e,t,r)=>e.pixelStorei(r,t);function c(e){return Array.isArray(e)||ArrayBuffer.isView(e)}const u={3042:i,32773:(e,t)=>e.blendColor(...t),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(e,t)=>e.clearColor(...t),3107:(e,t)=>e.colorMask(...t),2884:i,2885:(e,t)=>e.cullFace(t),2929:i,2931:(e,t)=>e.clearDepth(t),2932:(e,t)=>e.depthFunc(t),2928:(e,t)=>e.depthRange(...t),2930:(e,t)=>e.depthMask(t),3024:i,35723:a,36006:(e,t)=>{const r=s.isWebGL2(e)?36009:36160;return e.bindFramebuffer(r,t)},2886:(e,t)=>e.frontFace(t),33170:a,2849:(e,t)=>e.lineWidth(t),32823:i,32824:"polygonOffset",10752:"polygonOffset",35977:i,32938:"sampleCoverage",32939:"sampleCoverage",3089:i,3088:(e,t)=>e.scissor(...t),2960:i,2961:(e,t)=>e.clearStencil(t),2968:(e,t)=>e.stencilMaskSeparate(1028,t),36005:(e,t)=>e.stencilMaskSeparate(1029,t),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(e,t)=>e.viewport(...t),3333:l,3317:l,37440:l,37441:l,37443:l,3330:l,3332:l,3331:l,36010:(e,t)=>e.bindFramebuffer(36008,t),3314:l,32878:l,3316:l,3315:l,32877:l,framebuffer:(e,t)=>{const r=t&&"handle"in t?t.handle:t;return e.bindFramebuffer(36160,r)},blend:(e,t)=>t?e.enable(3042):e.disable(3042),blendColor:(e,t)=>e.blendColor(...t),blendEquation:(e,t)=>{t=c(t)?t:[t,t],e.blendEquationSeparate(...t)},blendFunc:(e,t)=>{t=c(t)&&2===t.length?[...t,...t]:t,e.blendFuncSeparate(...t)},clearColor:(e,t)=>e.clearColor(...t),clearDepth:(e,t)=>e.clearDepth(t),clearStencil:(e,t)=>e.clearStencil(t),colorMask:(e,t)=>e.colorMask(...t),cull:(e,t)=>t?e.enable(2884):e.disable(2884),cullFace:(e,t)=>e.cullFace(t),depthTest:(e,t)=>t?e.enable(2929):e.disable(2929),depthFunc:(e,t)=>e.depthFunc(t),depthMask:(e,t)=>e.depthMask(t),depthRange:(e,t)=>e.depthRange(...t),dither:(e,t)=>t?e.enable(3024):e.disable(3024),derivativeHint:(e,t)=>{e.hint(35723,t)},frontFace:(e,t)=>e.frontFace(t),mipmapHint:(e,t)=>e.hint(33170,t),lineWidth:(e,t)=>e.lineWidth(t),polygonOffsetFill:(e,t)=>t?e.enable(32823):e.disable(32823),polygonOffset:(e,t)=>e.polygonOffset(...t),sampleCoverage:(e,t)=>e.sampleCoverage(...t),scissorTest:(e,t)=>t?e.enable(3089):e.disable(3089),scissor:(e,t)=>e.scissor(...t),stencilTest:(e,t)=>t?e.enable(2960):e.disable(2960),stencilMask:(e,t)=>{t=c(t)?t:[t,t];const[r,n]=t;e.stencilMaskSeparate(1028,r),e.stencilMaskSeparate(1029,n)},stencilFunc:(e,t)=>{t=c(t)&&3===t.length?[...t,...t]:t;const[r,n,s,o,i,a]=t;e.stencilFuncSeparate(1028,r,n,s),e.stencilFuncSeparate(1029,o,i,a)},stencilOp:(e,t)=>{t=c(t)&&3===t.length?[...t,...t]:t;const[r,n,s,o,i,a]=t;e.stencilOpSeparate(1028,r,n,s),e.stencilOpSeparate(1029,o,i,a)},viewport:(e,t)=>e.viewport(...t)};function p(e,t,r){return void 0!==t[e]?t[e]:r[e]}const d={blendEquation:(e,t,r)=>e.blendEquationSeparate(p(32777,t,r),p(34877,t,r)),blendFunc:(e,t,r)=>e.blendFuncSeparate(p(32969,t,r),p(32968,t,r),p(32971,t,r),p(32970,t,r)),polygonOffset:(e,t,r)=>e.polygonOffset(p(32824,t,r),p(10752,t,r)),sampleCoverage:(e,t,r)=>e.sampleCoverage(p(32938,t,r),p(32939,t,r)),stencilFuncFront:(e,t,r)=>e.stencilFuncSeparate(1028,p(2962,t,r),p(2967,t,r),p(2963,t,r)),stencilFuncBack:(e,t,r)=>e.stencilFuncSeparate(1029,p(34816,t,r),p(36003,t,r),p(36004,t,r)),stencilOpFront:(e,t,r)=>e.stencilOpSeparate(1028,p(2964,t,r),p(2965,t,r),p(2966,t,r)),stencilOpBack:(e,t,r)=>e.stencilOpSeparate(1029,p(34817,t,r),p(34818,t,r),p(34819,t,r))},h={enable:(e,t)=>e({[t]:!0}),disable:(e,t)=>e({[t]:!1}),pixelStorei:(e,t,r)=>e({[t]:r}),hint:(e,t,r)=>e({[t]:r}),bindFramebuffer:(e,t,r)=>{switch(t){case 36160:return e({36006:r,36010:r});case 36009:return e({36006:r});case 36008:return e({36010:r});default:return null}},blendColor:(e,t,r,n,s)=>e({32773:new Float32Array([t,r,n,s])}),blendEquation:(e,t)=>e({32777:t,34877:t}),blendEquationSeparate:(e,t,r)=>e({32777:t,34877:r}),blendFunc:(e,t,r)=>e({32969:t,32968:r,32971:t,32970:r}),blendFuncSeparate:(e,t,r,n,s)=>e({32969:t,32968:r,32971:n,32970:s}),clearColor:(e,t,r,n,s)=>e({3106:new Float32Array([t,r,n,s])}),clearDepth:(e,t)=>e({2931:t}),clearStencil:(e,t)=>e({2961:t}),colorMask:(e,t,r,n,s)=>e({3107:[t,r,n,s]}),cullFace:(e,t)=>e({2885:t}),depthFunc:(e,t)=>e({2932:t}),depthRange:(e,t,r)=>e({2928:new Float32Array([t,r])}),depthMask:(e,t)=>e({2930:t}),frontFace:(e,t)=>e({2886:t}),lineWidth:(e,t)=>e({2849:t}),polygonOffset:(e,t,r)=>e({32824:t,10752:r}),sampleCoverage:(e,t,r)=>e({32938:t,32939:r}),scissor:(e,t,r,n,s)=>e({3088:new Int32Array([t,r,n,s])}),stencilMask:(e,t)=>e({2968:t,36005:t}),stencilMaskSeparate:(e,t,r)=>e({[1028===t?2968:36005]:r}),stencilFunc:(e,t,r,n)=>e({2962:t,2967:r,2963:n,34816:t,36003:r,36004:n}),stencilFuncSeparate:(e,t,r,n,s)=>e({[1028===t?2962:34816]:r,[1028===t?2967:36003]:n,[1028===t?2963:36004]:s}),stencilOp:(e,t,r,n)=>e({2964:t,2965:r,2966:n,34817:t,34818:r,34819:n}),stencilOpSeparate:(e,t,r,n,s)=>e({[1028===t?2964:34817]:r,[1028===t?2965:34818]:n,[1028===t?2966:34819]:s}),viewport:(e,t,r,n,s)=>e({2978:[t,r,n,s]})},f=(e,t)=>e.isEnabled(t),m={3042:f,2884:f,2929:f,3024:f,32823:f,32926:f,32928:f,3089:f,2960:f,35977:f}},{"../utils/webgl-checks":"cJi4P","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"32SPM":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"trackContextState",(()=>h)),n.export(r,"pushContextState",(()=>f)),n.export(r,"popContextState",(()=>m));var s=e("./webgl-parameter-tables"),o=e("./unified-parameter-api"),i=e("../utils/assert"),a=e("../utils/utils"),l=arguments[3];function c(e,t){const r=e[t].bind(e);e[t]=function(...t){const n=t[0];return n in e.state.cache&&e.state.enable?e.state.cache[n]:r(...t)},Object.defineProperty(e[t],"name",{value:`${t}-from-cache`,configurable:!1})}function u(e,t,r){const n=e[t].bind(e);e[t]=function(...t){const{valueChanged:s,oldValue:o}=r(e.state._updateCache,...t);return s&&n(...t),o},Object.defineProperty(e[t],"name",{value:`${t}-to-cache`,configurable:!1})}function p(e){const t=e.useProgram.bind(e);e.useProgram=function(r){e.state.program!==r&&(t(r),e.state.program=r)}}class d{constructor(e,{copyState:t=!1,log:r=(()=>{})}={}){this.gl=e,this.program=null,this.stateStack=[],this.enable=!0,this.cache=t?o.getParameters(e):Object.assign({},s.GL_PARAMETER_DEFAULTS),this.log=r,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(e={}){this.stateStack.push({})}pop(){i.assert(this.stateStack.length>0);const e=this.stateStack[this.stateStack.length-1];o.setParameters(this.gl,e),this.stateStack.pop()}_updateCache(e){let t,r=!1;const n=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(const s in e){i.assert(void 0!==s);const o=e[s],l=this.cache[s];a.deepArrayEqual(o,l)||(r=!0,t=l,n&&!(s in n)&&(n[s]=l),this.cache[s]=o)}return{valueChanged:r,oldValue:t}}}function h(e,t={}){const{enable:r=!0,copyState:n}=t;if(i.assert(void 0!==n),!e.state){const t=void 0!==l?l:window,{polyfillContext:r}=t;r&&r(e),e.state=new d(e,{copyState:n}),p(e);for(const t in s.GL_HOOKED_SETTERS){u(e,t,s.GL_HOOKED_SETTERS[t])}c(e,"getParameter"),c(e,"isEnabled")}return e.state.enable=r,e}function f(e){e.state||h(e,{copyState:!1}),e.state.push()}function m(e){i.assert(e.state),e.state.pop()}},{"./webgl-parameter-tables":"bEv5M","./unified-parameter-api":"ltK15","../utils/assert":"lPGKq","../utils/utils":"eiGPY","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],eiGPY:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){for(const t in e)return!1;return!0}function o(e,t){if(e===t)return!0;const r=Array.isArray(e)||ArrayBuffer.isView(e),n=Array.isArray(t)||ArrayBuffer.isView(t);if(r&&n&&e.length===t.length){for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}return!1}n.defineInteropFlag(r),n.export(r,"isObjectEmpty",(()=>s)),n.export(r,"deepArrayEqual",(()=>o))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lm18G:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"createGLContext",(()=>h)),n.export(r,"instrumentGLContext",(()=>f)),n.export(r,"getContextDebugInfo",(()=>m)),n.export(r,"resizeGLContext",(()=>g));var s=e("probe.gl/env"),o=e("../state-tracker/track-context-state"),i=e("../utils/log"),a=e("../utils/assert"),l=e("../utils/device-pixels"),c=e("../utils/webgl-checks");const u=s.isBrowser(),p=u&&"undefined"!=typeof document,d={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function h(e={}){a.assert(u,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils"),e=Object.assign({},d,e);const{width:t,height:r}=e;function n(t){if(e.throwOnError)throw new Error(t);return console.error(t),null}let s;e.onError=n;const{canvas:o}=e,l=function({canvas:e,width:t=800,height:r=600,onError:n}){let s;if("string"==typeof e){p&&"complete"===document.readyState||n(`createGLContext called on canvas '${e}' before page was loaded`),s=document.getElementById(e)}else e?s=e:(s=document.createElement("canvas"),s.id="lumagl-canvas",s.style.width=Number.isFinite(t)?`${t}px`:"100%",s.style.height=Number.isFinite(r)?`${r}px`:"100%",document.body.insertBefore(s,document.body.firstChild));return s}({canvas:o,width:t,height:r,onError:n});return s=function(e,t){const{onError:r}=t;let n=null;const s=e=>n=e.statusMessage||n;e.addEventListener("webglcontextcreationerror",s,!1);const{webgl1:o=!0,webgl2:i=!0}=t;let a=null;i&&(a=a||e.getContext("webgl2",t),a=a||e.getContext("experimental-webgl2",t));o&&(a=a||e.getContext("webgl",t),a=a||e.getContext("experimental-webgl",t));if(e.removeEventListener("webglcontextcreationerror",s,!1),!a)return r(`Failed to create ${i&&!o?"WebGL2":"WebGL"} context: ${n||"Unknown error"}`);t.onContextLost&&e.addEventListener("webglcontextlost",t.onContextLost,!1);t.onContextRestored&&e.addEventListener("webglcontextrestored",t.onContextRestored,!1);return a}(l,e),s?(s=f(s,e),function(e){const t=c.isWebGL2(e)?"WebGL2":"WebGL1",r=m(e),n=r?`(${r.vendor},${r.renderer})`:"",s=e.debug?" debug":"";i.log.info(1,`${t}${s} context ${n}`)()}(s),s):null}function f(e,t={}){if(!e||e._instrumented)return e;e._version=e._version||function(e){return"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext?2:1}(e),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{},t=Object.assign({},d,t);const{manageState:r,debug:n}=t;return r&&o.trackContextState(e,{copyState:!1,log:(...e)=>i.log.log(1,...e)()}),u&&n&&(s.global.makeDebugContext?(e=s.global.makeDebugContext(e,t),i.log.level=Math.max(i.log.level,1)):i.log.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),e._instrumented=!0,e}function m(e){const t=e.getParameter(7936),r=e.getParameter(7937),n=e.getExtension("WEBGL_debug_renderer_info");return{vendor:n&&e.getParameter(n.UNMASKED_VENDOR_WEBGL||7936)||t,renderer:n&&e.getParameter(n.UNMASKED_RENDERER_WEBGL||7937)||r,vendorMasked:t,rendererMasked:r,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}function g(e,t={}){if(e.canvas){return void function(e,t,r){let n="width"in r?r.width:e.canvas.clientWidth,s="height"in r?r.height:e.canvas.clientHeight;n&&s||(i.log.log(1,"Canvas clientWidth/clientHeight is 0")(),t=1,n=e.canvas.width||1,s=e.canvas.height||1);e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};const o=e.luma.canvasSizeInfo;if(o.clientWidth!==n||o.clientHeight!==s||o.devicePixelRatio!==t){let r=t;const o=Math.floor(n*r),a=Math.floor(s*r);e.canvas.width=o,e.canvas.height=a,e.drawingBufferWidth===o&&e.drawingBufferHeight===a||(i.log.warn("Device pixel ratio clamped")(),r=Math.min(e.drawingBufferWidth/n,e.drawingBufferHeight/s),e.canvas.width=Math.floor(n*r),e.canvas.height=Math.floor(s*r)),Object.assign(e.luma.canvasSizeInfo,{clientWidth:n,clientHeight:s,devicePixelRatio:t})}}(e,l.getDevicePixelRatio(t.useDevicePixels),t)}const r=e.getExtension("STACKGL_resize_drawingbuffer");r&&"width"in t&&"height"in t&&r.resize(t.width,t.height)}},{"probe.gl/env":"3CmCn","../state-tracker/track-context-state":"32SPM","../utils/log":"h6tGA","../utils/assert":"lPGKq","../utils/device-pixels":"cqc3S","../utils/webgl-checks":"cJi4P","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],cqc3S:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){const{luma:t}=e;if(e.canvas&&t){const{clientWidth:r}=t.canvasSizeInfo;return r?e.drawingBufferWidth/r:1}return 1}function o(e,t,r=!0){return function(e,t,r,n,s){const o=a(e[0],t,r);let i=l(e[1],t,n,s),c=a(e[0]+1,t,r);const u=c===r-1?c:c-1;let p;c=l(e[1]+1,t,n,s),s?(c=0===c?c:c+1,p=i,i=c):p=c===n-1?c:c-1;return{x:o,y:i,width:Math.max(u-o+1,1),height:Math.max(p-i+1,1)}}(t,s(e),e.drawingBufferWidth,e.drawingBufferHeight,r)}function i(e){const t="undefined"==typeof window?1:window.devicePixelRatio||1;return Number.isFinite(e)?e<=0?1:e:e?t:1}function a(e,t,r){return Math.min(Math.round(e*t),r-1)}function l(e,t,r,n){return n?Math.max(0,r-1-Math.round(e*t)):Math.min(Math.round(e*t),r-1)}n.defineInteropFlag(r),n.export(r,"cssToDeviceRatio",(()=>s)),n.export(r,"cssToDevicePixels",(()=>o)),n.export(r,"getDevicePixelRatio",(()=>i))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ktJRJ:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"lumaStats",(()=>s.lumaStats)),n.export(r,"requestAnimationFrame",(()=>o.requestAnimationFrame)),n.export(r,"cancelAnimationFrame",(()=>o.cancelAnimationFrame)),n.export(r,"cloneTextureFrom",(()=>i.cloneTextureFrom)),n.export(r,"getKeyValue",(()=>a.getKeyValue)),n.export(r,"getKey",(()=>a.getKey)),n.export(r,"getContextInfo",(()=>l.getContextInfo)),n.export(r,"getGLContextInfo",(()=>l.getGLContextInfo)),n.export(r,"getContextLimits",(()=>l.getContextLimits)),n.export(r,"FEATURES",(()=>c.FEATURES)),n.export(r,"hasFeature",(()=>u.hasFeature)),n.export(r,"hasFeatures",(()=>u.hasFeatures)),n.export(r,"getFeatures",(()=>u.getFeatures)),n.export(r,"canCompileGLGSExtension",(()=>d.default)),n.export(r,"Accessor",(()=>f.default)),n.export(r,"Buffer",(()=>g.default)),n.export(r,"Shader",(()=>y.Shader)),n.export(r,"VertexShader",(()=>y.VertexShader)),n.export(r,"FragmentShader",(()=>y.FragmentShader)),n.export(r,"Program",(()=>v.default)),n.export(r,"Framebuffer",(()=>_.default)),n.export(r,"Renderbuffer",(()=>P.default)),n.export(r,"Texture2D",(()=>A.default)),n.export(r,"TextureCube",(()=>S.default)),n.export(r,"clear",(()=>j.clear)),n.export(r,"clearBuffer",(()=>j.clearBuffer)),n.export(r,"readPixelsToArray",(()=>C.readPixelsToArray)),n.export(r,"readPixelsToBuffer",(()=>C.readPixelsToBuffer)),n.export(r,"copyToDataUrl",(()=>C.copyToDataUrl)),n.export(r,"copyToImage",(()=>C.copyToImage)),n.export(r,"copyToTexture",(()=>C.copyToTexture)),n.export(r,"blit",(()=>C.blit)),n.export(r,"Query",(()=>M.default)),n.export(r,"Texture3D",(()=>L.default)),n.export(r,"TransformFeedback",(()=>R.default)),n.export(r,"VertexArrayObject",(()=>N.default)),n.export(r,"VertexArray",(()=>B.default)),n.export(r,"UniformBufferLayout",(()=>z.default)),n.export(r,"setPathPrefix",(()=>H.setPathPrefix)),n.export(r,"loadFile",(()=>H.loadFile)),n.export(r,"loadImage",(()=>H.loadImage)),n.export(r,"getShaderName",(()=>G.default)),n.export(r,"getShaderVersion",(()=>Y.default)),n.export(r,"log",(()=>X.log)),n.export(r,"assert",(()=>q.assert)),n.export(r,"uid",(()=>Z.uid)),n.export(r,"isObjectEmpty",(()=>Z.isObjectEmpty)),n.export(r,"parseUniformName",(()=>Q.parseUniformName)),n.export(r,"getUniformSetter",(()=>Q.getUniformSetter)),n.export(r,"getDebugTableForUniforms",(()=>K.getDebugTableForUniforms)),n.export(r,"getDebugTableForVertexArray",(()=>$.getDebugTableForVertexArray)),n.export(r,"getDebugTableForProgramConfiguration",(()=>J.getDebugTableForProgramConfiguration));var s=e("./init"),o=e("./webgl-utils/request-animation-frame"),i=e("./webgl-utils/texture-utils"),a=e("./webgl-utils/constants-to-keys"),l=e("./features/limits"),c=e("./features/webgl-features-table"),u=e("./features/features"),p=e("./features/check-glsl-extension"),d=n.interopDefault(p),h=e("./classes/accessor"),f=n.interopDefault(h),m=e("./classes/buffer"),g=n.interopDefault(m),y=e("./classes/shader"),b=e("./classes/program"),v=n.interopDefault(b),x=e("./classes/framebuffer"),_=n.interopDefault(x),w=e("./classes/renderbuffer"),P=n.interopDefault(w),E=e("./classes/texture-2d"),A=n.interopDefault(E),T=e("./classes/texture-cube"),S=n.interopDefault(T),j=e("./classes/clear"),C=e("./classes/copy-and-blit"),I=e("./classes/query"),M=n.interopDefault(I),k=e("./classes/texture-3d"),L=n.interopDefault(k),F=e("./classes/transform-feedback"),R=n.interopDefault(F),O=e("./classes/vertex-array-object"),N=n.interopDefault(O),D=e("./classes/vertex-array"),B=n.interopDefault(D),U=e("./classes/uniform-buffer-layout"),z=n.interopDefault(U),H=e("./utils/load-file"),V=e("./glsl-utils/get-shader-name"),G=n.interopDefault(V),W=e("./glsl-utils/get-shader-version"),Y=n.interopDefault(W),X=e("@luma.gl/gltools"),q=e("./utils/assert"),Z=e("./utils/utils"),Q=e("./classes/uniforms"),K=e("./debug/debug-uniforms"),$=e("./debug/debug-vertex-array"),J=e("./debug/debug-program-configuration")},{"./init":"fuzoL","./webgl-utils/request-animation-frame":"8G2Mq","./webgl-utils/texture-utils":"caiyD","./webgl-utils/constants-to-keys":"azBSH","./features/limits":"gUNlw","./features/webgl-features-table":"aipz4","./features/features":"bPqZC","./features/check-glsl-extension":"gtEgO","./classes/accessor":"dExDJ","./classes/buffer":"5XyLA","./classes/shader":"3p6EQ","./classes/program":"368oX","./classes/framebuffer":"lk4zn","./classes/renderbuffer":"4ZYZI","./classes/texture-2d":"hQnRq","./classes/texture-cube":"eVtkL","./classes/clear":"6kPdy","./classes/copy-and-blit":"abR78","./classes/query":"6NKYV","./classes/texture-3d":"5ebI8","./classes/transform-feedback":"eeDeA","./classes/vertex-array-object":"cmXzr","./classes/vertex-array":"kKAV5","./classes/uniform-buffer-layout":"flfYe","./utils/load-file":"4WXhn","./glsl-utils/get-shader-name":"esYMq","./glsl-utils/get-shader-version":"356jE","@luma.gl/gltools":"lC8CG","./utils/assert":"2lJLq","./utils/utils":"9AxY8","./classes/uniforms":"cRckR","./debug/debug-uniforms":"6C3DS","./debug/debug-vertex-array":"hBaAh","./debug/debug-program-configuration":"1URMH","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],fuzoL:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"lumaStats",(()=>l));var s=e("@luma.gl/gltools"),o=e("probe.gl"),i=e("probe.gl/env");const a="8.5.10";const l=new class{constructor(){this.stats=new Map}get(e){return this.stats.has(e)||this.stats.set(e,new o.Stats({id:e})),this.stats.get(e)}};if(i.global.luma&&i.global.luma.VERSION!==a)throw new Error(`luma.gl - multiple VERSIONs detected: ${i.global.luma.VERSION} vs 8.5.10`);i.global.luma||(i.isBrowser()&&s.log.log(1,"luma.gl 8.5.10 - set luma.log.level=1 (or higher) to trace rendering")(),i.global.luma=i.global.luma||{VERSION:a,version:a,log:s.log,stats:l,globals:{modules:{},nodeIO:{}}}),r.default=i.global.luma},{"@luma.gl/gltools":"lC8CG","probe.gl":"7CitO","probe.gl/env":"3CmCn","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"8G2Mq":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){return"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,1e3/60)}function o(e){return"undefined"!=typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(e):clearTimeout(e)}n.defineInteropFlag(r),n.export(r,"requestAnimationFrame",(()=>s)),n.export(r,"cancelAnimationFrame",(()=>o))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],caiyD:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"cloneTextureFrom",(()=>h)),n.export(r,"toFramebuffer",(()=>f));var s=e("../classes/texture-2d"),o=n.interopDefault(s),i=e("../classes/texture-cube"),a=n.interopDefault(i),l=e("../classes/texture-3d"),c=n.interopDefault(l),u=e("../classes/framebuffer"),p=n.interopDefault(u),d=e("../utils/assert");function h(e,t){d.assert(e instanceof o.default||e instanceof a.default||e instanceof c.default);const r=e.constructor,{gl:n,width:s,height:i,format:l,type:u,dataFormat:p,border:h,mipmaps:f}=e;return new r(n,Object.assign({width:s,height:i,format:l,type:u,dataFormat:p,border:h,mipmaps:f},t))}function f(e,t){const{gl:r,width:n,height:s,id:o}=e;return new p.default(r,Object.assign({},t,{id:`framebuffer-for-${o}`,width:n,height:s,attachments:{36064:e}}))}},{"../classes/texture-2d":"hQnRq","../classes/texture-cube":"eVtkL","../classes/texture-3d":"5ebI8","../classes/framebuffer":"lk4zn","../utils/assert":"2lJLq","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hQnRq:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@luma.gl/gltools"),o=e("./texture"),i=n.interopDefault(o),a=e("../utils/load-file");class l extends i.default{static isSupported(e,t){return i.default.isSupported(e,t)}constructor(e,t={}){s.assertWebGLContext(e),(t instanceof Promise||"string"==typeof t)&&(t={data:t}),"string"==typeof t.data&&(t=Object.assign({},t,{data:a.loadImage(t.data)})),super(e,Object.assign({},t,{target:3553})),this.initialize(t),Object.seal(this)}}r.default=l},{"@luma.gl/gltools":"lC8CG","./texture":"8vwaW","../utils/load-file":"4WXhn","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"8vwaW":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@luma.gl/gltools"),o=e("probe.gl/env"),i=e("./resource"),a=n.interopDefault(i),l=e("./buffer"),c=n.interopDefault(l),u=e("./texture-formats"),p=e("../utils/assert"),d=e("../utils/utils");const h=[9729,9728],f=o.global.WebGLBuffer||function(){};class m extends a.default{static isSupported(e,t={}){const{format:r,linearFiltering:n}=t;let s=!0;return r&&(s=s&&u.isFormatSupported(e,r),s=s&&(!n||u.isLinearFilteringSupported(e,r))),s}constructor(e,t){const{id:r=d.uid("texture"),handle:n,target:s}=t;super(e,{id:r,handle:n}),this.target=s,this.textureUnit=void 0,this.loaded=!1,this.width=void 0,this.height=void 0,this.depth=void 0,this.format=void 0,this.type=void 0,this.dataFormat=void 0,this.border=void 0,this.textureUnit=void 0,this.mipmaps=void 0}toString(){return`Texture(${this.id},${this.width}x${this.height})`}initialize(e={}){let t=e.data;if(t instanceof Promise)return t.then((t=>this.initialize(Object.assign({},e,{pixels:t,data:t})))),this;const r="undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement;if(r&&t.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,t.addEventListener("loadeddata",(()=>this.initialize(e))),this;const{pixels:n=null,format:o=6408,border:i=0,recreate:a=!1,parameters:l={},pixelStore:c={},textureUnit:u}=e;t||(t=n);let{width:p,height:d,dataFormat:h,type:f,compressed:m=!1,mipmaps:g=!0}=e;const{depth:y=0}=e;return({width:p,height:d,compressed:m,dataFormat:h,type:f}=this._deduceParameters({format:o,type:f,dataFormat:h,compressed:m,data:t,width:p,height:d})),this.width=p,this.height=d,this.depth=y,this.format=o,this.type=f,this.dataFormat=h,this.border=i,this.textureUnit=u,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),g&&this._isNPOT()&&(s.log.warn(`texture: ${this} is Non-Power-Of-Two, disabling mipmaping`)(),g=!1,this._updateForNPOT(l)),this.mipmaps=g,this.setImageData({data:t,width:p,height:d,depth:y,format:o,type:f,dataFormat:h,border:i,mipmaps:g,parameters:c,compressed:m}),g&&this.generateMipmap(),this.setParameters(l),a&&(this.data=t),r&&(this._video={video:t,parameters:l,lastTime:t.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?t.currentTime:-1}),this}update(){if(this._video){const{video:e,parameters:t,lastTime:r}=this._video;if(r===e.currentTime||e.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:e,parameters:t}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=e.currentTime}}resize({height:e,width:t,mipmaps:r=!1}){return t!==this.width||e!==this.height?this.initialize({width:t,height:e,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:r}):this}generateMipmap(e={}){return this._isNPOT()?(s.log.warn(`texture: ${this} is Non-Power-Of-Two, disabling mipmaping`)(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),s.withParameters(this.gl,e,(()=>{this.gl.generateMipmap(this.target)})),this.gl.bindTexture(this.target,null),this)}setImageData(e){this._trackDeallocatedMemory("Texture");const{target:t=this.target,pixels:r=null,level:n=0,format:o=this.format,border:i=this.border,offset:a=0,parameters:l={}}=e;let{data:c=null,type:d=this.type,width:h=this.width,height:f=this.height,dataFormat:m=this.dataFormat,compressed:g=!1}=e;c||(c=r),({type:d,dataFormat:m,compressed:g,width:h,height:f}=this._deduceParameters({format:o,type:d,dataFormat:m,compressed:g,data:c,width:h,height:f}));const{gl:y}=this;y.bindTexture(this.target,this.handle);let b,v=null;if(({data:c,dataType:v}=this._getDataType({data:c,compressed:g})),s.withParameters(this.gl,l,(()=>{switch(v){case"null":y.texImage2D(t,n,o,h,f,i,m,d,c);break;case"typed-array":y.texImage2D(t,n,o,h,f,i,m,d,c,a);break;case"buffer":b=s.assertWebGL2Context(y),b.bindBuffer(35052,c.handle||c),b.texImage2D(t,n,o,h,f,i,m,d,a),b.bindBuffer(35052,null);break;case"browser-object":s.isWebGL2(y)?y.texImage2D(t,n,o,h,f,i,m,d,c):y.texImage2D(t,n,o,m,d,c);break;case"compressed":for(const[e,r]of c.entries())y.compressedTexImage2D(t,e,r.format,r.width,r.height,i,r.data);break;default:p.assert(!1,"Unknown image data type")}})),c&&c.byteLength)this._trackAllocatedMemory(c.byteLength,"Texture");else{const e=u.DATA_FORMAT_CHANNELS[this.dataFormat]||4,t=u.TYPE_SIZES[this.type]||1;this._trackAllocatedMemory(this.width*this.height*e*t,"Texture")}return this.loaded=!0,this}setSubImageData({target:e=this.target,pixels:t=null,data:r=null,x:n=0,y:o=0,width:i=this.width,height:a=this.height,level:l=0,format:u=this.format,type:d=this.type,dataFormat:h=this.dataFormat,compressed:m=!1,offset:g=0,border:y=this.border,parameters:b={}}){if(({type:d,dataFormat:h,compressed:m,width:i,height:a}=this._deduceParameters({format:u,type:d,dataFormat:h,compressed:m,data:r,width:i,height:a})),p.assert(0===this.depth,"texSubImage not supported for 3D textures"),r||(r=t),r&&r.data){const e=r;r=e.data,i=e.shape[0],a=e.shape[1]}r instanceof c.default&&(r=r.handle),this.gl.bindTexture(this.target,this.handle),s.withParameters(this.gl,b,(()=>{if(m)this.gl.compressedTexSubImage2D(e,l,n,o,i,a,u,r);else if(null===r)this.gl.texSubImage2D(e,l,n,o,i,a,h,d,null);else if(ArrayBuffer.isView(r))this.gl.texSubImage2D(e,l,n,o,i,a,h,d,r,g);else if(r instanceof f){const t=s.assertWebGL2Context(this.gl);t.bindBuffer(35052,r),t.texSubImage2D(e,l,n,o,i,a,h,d,g),t.bindBuffer(35052,null)}else if(s.isWebGL2(this.gl)){s.assertWebGL2Context(this.gl).texSubImage2D(e,l,n,o,i,a,h,d,r)}else this.gl.texSubImage2D(e,l,n,o,h,d,r)})),this.gl.bindTexture(this.target,null)}copyFramebuffer(e={}){return s.log.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(e=this.textureUnit){const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,this.handle),e}unbind(e=this.textureUnit){const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,null),e}_getDataType({data:e,compressed:t=!1}){return t?{data:e,dataType:"compressed"}:null===e?{data:e,dataType:"null"}:ArrayBuffer.isView(e)?{data:e,dataType:"typed-array"}:e instanceof c.default?{data:e.handle,dataType:"buffer"}:e instanceof f?{data:e,dataType:"buffer"}:{data:e,dataType:"browser-object"}}_deduceParameters(e){const{format:t,data:r}=e;let{width:n,height:s,dataFormat:o,type:i,compressed:a}=e;const l=u.TEXTURE_FORMATS[t];return o=o||l&&l.dataFormat,i=i||l&&l.types[0],a=a||l&&l.compressed,({width:n,height:s}=this._deduceImageSize(r,n,s)),{dataFormat:o,type:i,compressed:a,width:n,height:s,format:t,data:r}}_deduceImageSize(e,t,r){let n;return n="undefined"!=typeof ImageData&&e instanceof ImageData?{width:e.width,height:e.height}:"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?{width:e.width,height:e.height}:"undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:r}:{width:t>=0?t:1,height:r>=0?r:1},p.assert(n,"Could not deduced texture size"),p.assert(void 0===t||n.width===t,"Deduced texture width does not match supplied width"),p.assert(void 0===r||n.height===r,"Deduced texture height does not match supplied height"),n}_createHandle(){return this.gl.createTexture()}_deleteHandle(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}_getParameter(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);const t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}}_setParameter(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,t);break;case 4096:case 4097:p.assert(!1);break;default:this.gl.texParameteri(this.target,e,t)}return this.gl.bindTexture(this.target,null),this}_isNPOT(){return!s.isWebGL2(this.gl)&&(!(!this.width||!this.height)&&(!d.isPowerOfTwo(this.width)||!d.isPowerOfTwo(this.height)))}_updateForNPOT(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}_getNPOTParam(e,t){if(this._isNPOT())switch(e){case 10241:-1===h.indexOf(t)&&(t=9729);break;case 10242:case 10243:33071!==t&&(t=33071)}return t}}r.default=m},{"@luma.gl/gltools":"lC8CG","probe.gl/env":"3CmCn","./resource":"iTNiT","./buffer":"5XyLA","./texture-formats":"gVHgl","../utils/assert":"2lJLq","../utils/utils":"9AxY8","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],iTNiT:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("@luma.gl/gltools"),s=e("../init"),o=e("../webgl-utils/constants-to-keys"),i=e("../utils/assert"),a=e("../utils/utils"),l=e("../utils/stub-methods");const c="Resource subclass must define virtual methods";r.default=class{constructor(e,t={}){n.assertWebGLContext(e);const{id:r,userData:s={}}=t;this.gl=e,this.gl2=e,this.id=r||a.uid(this.constructor.name),this.userData=s,this._bound=!1,this._handle=t.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}toString(){return`${this.constructor.name}(${this.id})`}get handle(){return this._handle}delete({deleteChildren:e=!1}={}){const t=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,t&&e&&t.filter(Boolean).forEach((e=>e.delete())),this}bind(e=this.handle){if("function"!=typeof e)return this._bindHandle(e),this;let t;return this._bound?t=e():(this._bindHandle(this.handle),this._bound=!0,t=e(),this._bound=!1,this._bindHandle(null)),t}unbind(){this.bind(null)}getParameter(e,t={}){e=o.getKeyValue(this.gl,e),i.assert(e);const r=(this.constructor.PARAMETERS||{})[e];if(r){const e=n.isWebGL2(this.gl);if(!((!("webgl2"in r)||e)&&(!("extension"in r)||this.gl.getExtension(r.extension)))){const t=r.webgl1,n="webgl2"in r?r.webgl2:r.webgl1;return e?n:t}}return this._getParameter(e,t)}getParameters(e={}){const{parameters:t,keys:r}=e,s=this.constructor.PARAMETERS||{},i=n.isWebGL2(this.gl),a={},l=t||Object.keys(s);for(const t of l){const n=s[t];if(n&&(!("webgl2"in n)||i)&&(!("extension"in n)||this.gl.getExtension(n.extension))){const s=r?o.getKey(this.gl,t):t;a[s]=this.getParameter(t,e),r&&"GLenum"===n.type&&(a[s]=o.getKey(this.gl,a[s]))}}return a}setParameter(e,t){e=o.getKeyValue(this.gl,e),i.assert(e);const r=(this.constructor.PARAMETERS||{})[e];if(r){const e=n.isWebGL2(this.gl);if(!((!("webgl2"in r)||e)&&(!("extension"in r)||this.gl.getExtension(r.extension))))throw new Error("Parameter not available on this platform");"GLenum"===r.type&&(t=o.getKeyValue(t))}return this._setParameter(e,t),this}setParameters(e){for(const t in e)this.setParameter(t,e[t]);return this}stubRemovedMethods(e,t,r){return l.stubRemovedMethods(this,e,t,r)}initialize(e){}_createHandle(){throw new Error(c)}_deleteHandle(){throw new Error(c)}_bindHandle(e){throw new Error(c)}_getOptsFromHandle(){throw new Error(c)}_getParameter(e,t){throw new Error(c)}_setParameter(e,t){throw new Error(c)}_context(){return this.gl.luma=this.gl.luma||{},this.gl.luma}_addStats(){const e=this.constructor.name,t=s.lumaStats.get("Resource Counts");t.get("Resources Created").incrementCount(),t.get(`${e}s Created`).incrementCount(),t.get(`${e}s Active`).incrementCount()}_removeStats(){const e=this.constructor.name;s.lumaStats.get("Resource Counts").get(`${e}s Active`).decrementCount()}_trackAllocatedMemory(e,t=this.constructor.name){const r=s.lumaStats.get("Memory Usage");r.get("GPU Memory").addCount(e),r.get(`${t} Memory`).addCount(e),this.byteLength=e}_trackDeallocatedMemory(e=this.constructor.name){const t=s.lumaStats.get("Memory Usage");t.get("GPU Memory").subtractCount(this.byteLength),t.get(`${e} Memory`).subtractCount(this.byteLength),this.byteLength=0}}},{"@luma.gl/gltools":"lC8CG","../init":"fuzoL","../webgl-utils/constants-to-keys":"azBSH","../utils/assert":"2lJLq","../utils/utils":"9AxY8","../utils/stub-methods":"8Ygqd","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],azBSH:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getKeyValue",(()=>o)),n.export(r,"getKey",(()=>i)),n.export(r,"getKeyType",(()=>a));var s=e("../utils/assert");function o(e,t){if("string"!=typeof t)return t;const r=Number(t);if(!isNaN(r))return r;const n=e[t=t.replace(/^.*\./,"")];return s.assert(void 0!==n,`Accessing undefined constant GL.${t}`),n}function i(e,t){t=Number(t);for(const r in e)if(e[r]===t)return`GL.${r}`;return String(t)}function a(e,t){s.assert(void 0!==t,"undefined key"),t=Number(t);for(const r in e)if(e[r]===t)return`GL.${r}`;return String(t)}},{"../utils/assert":"2lJLq","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"2lJLq":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}n.defineInteropFlag(r),n.export(r,"assert",(()=>s))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"9AxY8":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"uid",(()=>i)),n.export(r,"isPowerOfTwo",(()=>a)),n.export(r,"isObjectEmpty",(()=>l));var s=e("./assert");const o={};function i(e="id"){o[e]=o[e]||1;return`${e}-${o[e]++}`}function a(e){return s.assert("number"==typeof e,"Input must be a number"),e&&0==(e&e-1)}function l(e){let t=!0;for(const r in e){t=!1;break}return t}},{"./assert":"2lJLq","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"8Ygqd":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"stubRemovedMethods",(()=>o));var s=e("@luma.gl/gltools");function o(e,t,r,n){const o=`See luma.gl ${r} Upgrade Guide at https://luma.gl/docs/upgrade-guide`,i=Object.getPrototypeOf(e);n.forEach((e=>{i.methodName||(i[e]=()=>{throw s.log.removed(`Calling removed method ${t}.${e}: `,o)(),new Error(e)})}))}},{"@luma.gl/gltools":"lC8CG","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"5XyLA":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./resource"),o=n.interopDefault(s),i=e("./accessor"),a=n.interopDefault(i),l=e("../webgl-utils/typed-array-utils"),c=e("@luma.gl/gltools"),u=e("../utils/assert"),p=e("../utils/check-props");const d={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},h={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:d},f={removedProps:d};class m extends o.default{constructor(e,t={}){super(e,t),this.stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),this.target=t.target||(this.gl.webgl2?36662:34962),this.initialize(t),Object.seal(this)}getElementCount(e=this.accessor){return Math.round(this.byteLength/a.default.getBytesPerElement(e))}getVertexCount(e=this.accessor){return Math.round(this.byteLength/a.default.getBytesPerVertex(e))}initialize(e={}){return ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=p.checkProps("Buffer",e,h),this.usage=e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data,e.offset,e.byteLength):this._setByteLength(e.byteLength||0),this}setProps(e){return"accessor"in(e=p.checkProps("Buffer",e,f))&&this.setAccessor(e.accessor),this}setAccessor(e){return delete(e=Object.assign({},e)).buffer,this.accessor=new a.default(e),this}reallocate(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}setData(e){return this.initialize(e)}subData(e){ArrayBuffer.isView(e)&&(e={data:e});const{data:t,offset:r=0,srcOffset:n=0}=e,s=e.byteLength||e.length;u.assert(t);const o=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(o,this.handle),0!==n||void 0!==s?(c.assertWebGL2Context(this.gl),this.gl.bufferSubData(this.target,r,t,n,s)):this.gl.bufferSubData(o,r,t),this.gl.bindBuffer(o,null),this.debugData=null,this._inferType(t),this}copyData({sourceBuffer:e,readOffset:t=0,writeOffset:r=0,size:n}){const{gl:s}=this;return c.assertWebGL2Context(s),s.bindBuffer(36662,e.handle),s.bindBuffer(36663,this.handle),s.copyBufferSubData(36662,36663,t,r,n),s.bindBuffer(36662,null),s.bindBuffer(36663,null),this.debugData=null,this}getData({dstData:e=null,srcByteOffset:t=0,dstOffset:r=0,length:n=0}={}){c.assertWebGL2Context(this.gl);const s=l.getTypedArrayFromGLType(this.accessor.type||5126,{clamped:!1}),o=this._getAvailableElementCount(t),i=r;let a,p;e?(p=e.length,a=p-i):(a=Math.min(o,n||o),p=i+a);const d=Math.min(o,a);return n=n||d,u.assert(n<=d),e=e||new s(p),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,t,e,r,n),this.gl.bindBuffer(36662,null),e}bind({target:e=this.target,index:t=this.accessor&&this.accessor.index,offset:r=0,size:n}={}){return 35345===e||35982===e?void 0!==n?this.gl.bindBufferRange(e,t,this.handle,r,n):(u.assert(0===r),this.gl.bindBufferBase(e,t,this.handle)):this.gl.bindBuffer(e,this.handle),this}unbind({target:e=this.target,index:t=this.accessor&&this.accessor.index}={}){return 35345===e||35982===e?this.gl.bindBufferBase(e,t,null):this.gl.bindBuffer(e,null),this}getDebugData(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}invalidateDebugData(){this.debugData=null}_setData(e,t=0,r=e.byteLength+t){u.assert(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();const n=this._getTarget();this.gl.bindBuffer(n,this.handle),this.gl.bufferData(n,r,this.usage),this.gl.bufferSubData(n,t,e),this.gl.bindBuffer(n,null),this.debugData=e.slice(0,10),this.bytesUsed=r,this._trackAllocatedMemory(r);const s=l.getGLTypeFromTypedArray(e);return u.assert(s),this.setAccessor(new a.default(this.accessor,{type:s})),this}_setByteLength(e,t=this.usage){u.assert(e>=0),this._trackDeallocatedMemory();let r=e;0===e&&(r=new Float32Array(0));const n=this._getTarget();return this.gl.bindBuffer(n,this.handle),this.gl.bufferData(n,r,t),this.gl.bindBuffer(n,null),this.usage=t,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this}_getTarget(){return this.gl.webgl2?36663:this.target}_getAvailableElementCount(e){const t=e/l.getTypedArrayFromGLType(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-t}_inferType(e){this.accessor.type||this.setAccessor(new a.default(this.accessor,{type:l.getGLTypeFromTypedArray(e)}))}_createHandle(){return this.gl.createBuffer()}_deleteHandle(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}_getParameter(e){this.gl.bindBuffer(this.target,this.handle);const t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t}get type(){return c.log.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}get bytes(){return c.log.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}setByteLength(e){return c.log.deprecated("setByteLength","reallocate")(),this.reallocate(e)}updateAccessor(e){return c.log.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new a.default(this.accessor,e),this}}r.default=m},{"./resource":"iTNiT","./accessor":"dExDJ","../webgl-utils/typed-array-utils":"fTXRd","@luma.gl/gltools":"lC8CG","../utils/assert":"2lJLq","../utils/check-props":"4n3cd","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],dExDJ:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"DEFAULT_ACCESSOR_VALUES",(()=>a));var s=e("../webgl-utils/typed-array-utils"),o=e("../utils/assert"),i=e("../utils/check-props");const a={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},l={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class c{static getBytesPerElement(e){return s.getTypedArrayFromGLType(e.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(e){o.assert(e.size);return s.getTypedArrayFromGLType(e.type||5126).BYTES_PER_ELEMENT*e.size}static resolve(...e){return new c(...[a,...e])}constructor(...e){e.forEach((e=>this._assign(e))),Object.freeze(this)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return c.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return c.getBytesPerVertex(this)}_assign(e={}){return void 0!==(e=i.checkProps("Accessor",e,l)).type&&(this.type=e.type,5124!==e.type&&5125!==e.type||(this.integer=!0)),void 0!==e.size&&(this.size=e.size),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.buffer&&(this.buffer=e.buffer),void 0!==e.index&&("boolean"==typeof e.index?this.index=e.index?1:0:this.index=e.index),void 0!==e.instanced&&(this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(this.divisor=e.isInstanced?1:0),this}}r.default=c},{"../webgl-utils/typed-array-utils":"fTXRd","../utils/assert":"2lJLq","../utils/check-props":"4n3cd","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],fTXRd:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getGLTypeFromTypedArray",(()=>s)),n.export(r,"getTypedArrayFromGLType",(()=>o)),n.export(r,"flipRows",(()=>i)),n.export(r,"scalePixels",(()=>a));function s(e){switch(ArrayBuffer.isView(e)?e.constructor:e){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error("Failed to deduce GL constant from typed array")}}function o(e,{clamped:t=!0}={}){switch(e){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return t?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function i({data:e,width:t,height:r,bytesPerPixel:n=4,temp:s}){const o=t*n;s=s||new Uint8Array(o);for(let t=0;t<r/2;++t){const n=t*o,i=(r-t-1)*o;s.set(e.subarray(n,n+o)),e.copyWithin(n,i,i+o),e.set(s,i)}}function a({data:e,width:t,height:r}){const n=Math.round(t/2),s=Math.round(r/2),o=new Uint8Array(n*s*4);for(let r=0;r<s;r++)for(let s=0;s<n;s++)for(let i=0;i<4;i++)o[4*(r*n+s)+i]=e[4*(2*r*t+2*s)+i];return{data:o,width:n,height:s}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"4n3cd":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"checkProps",(()=>o));var s=e("@luma.gl/gltools");function o(e,t,r){const{removedProps:n={},deprecatedProps:o={},replacedProps:i={}}=r;for(const r in n)if(r in t){const t=n[r]?`${e}.${n[r]}`:"N/A";s.log.removed(`${e}.${r}`,t)()}for(const r in o)if(r in t){const t=o[r];s.log.deprecated(`${e}.${r}`,`${e}.${t}`)()}let a=null;for(const r in i)if(r in t){const n=i[r];s.log.deprecated(`${e}.${r}`,`${e}.${n}`)(),a=a||Object.assign({},t),a[n]=t[r],delete a[r]}return a||t}},{"@luma.gl/gltools":"lC8CG","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],gVHgl:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"TEXTURE_FORMATS",(()=>o)),n.export(r,"DATA_FORMAT_CHANNELS",(()=>i)),n.export(r,"TYPE_SIZES",(()=>a)),n.export(r,"isFormatSupported",(()=>l)),n.export(r,"isLinearFilteringSupported",(()=>c));var s=e("@luma.gl/gltools");const o={6407:{dataFormat:6407,types:[5121,33635]},6408:{dataFormat:6408,types:[5121,32819,32820]},6406:{dataFormat:6406,types:[5121]},6409:{dataFormat:6409,types:[5121]},6410:{dataFormat:6410,types:[5121]},33326:{dataFormat:6403,types:[5126],gl2:!0},33328:{dataFormat:33319,types:[5126],gl2:!0},34837:{dataFormat:6407,types:[5126],gl2:!0},34836:{dataFormat:6408,types:[5126],gl2:!0}},i={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},a={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1};function l(e,t){const r=o[t];if(!r)return!1;if(void 0===r.gl1&&void 0===r.gl2)return!0;const n=s.isWebGL2(e)&&r.gl2||r.gl1;return"string"==typeof n?e.getExtension(n):n}function c(e,t){const r=o[t];switch(r&&r.types[0]){case 5126:return e.getExtension("OES_texture_float_linear");case 5131:return e.getExtension("OES_texture_half_float_linear");default:return!0}}},{"@luma.gl/gltools":"lC8CG","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"4WXhn":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"setPathPrefix",(()=>i)),n.export(r,"loadFile",(()=>a)),n.export(r,"loadImage",(()=>l));var s=e("../utils/assert");let o="";function i(e){o=e}function a(e,t={}){s.assert("string"==typeof e),e=o+e;const r=t.dataType||"text";return fetch(e,t).then((e=>e[r]()))}function l(e,t){return s.assert("string"==typeof e),e=o+e,new Promise(((r,n)=>{try{const s=new Image;s.onload=()=>r(s),s.onerror=()=>n(new Error(`Could not load image ${e}.`)),s.crossOrigin=t&&t.crossOrigin||"anonymous",s.src=e}catch(e){n(e)}}))}},{"../utils/assert":"2lJLq","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],eVtkL:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@luma.gl/gltools"),o=e("./texture"),i=n.interopDefault(o);const a=[34069,34070,34071,34072,34073,34074];class l extends i.default{constructor(e,t={}){s.assertWebGLContext(e),super(e,Object.assign({},t,{target:34067})),this.initialize(t),Object.seal(this)}initialize(e={}){const{mipmaps:t=!0,parameters:r={}}=e;return this.opts=e,this.setCubeMapImageData(e).then((()=>{this.loaded=!0,t&&this.generateMipmap(e),this.setParameters(r)})),this}subImage({face:e,data:t,x:r=0,y:n=0,mipmapLevel:s=0}){return this._subImage({target:e,data:t,x:r,y:n,mipmapLevel:s})}async setCubeMapImageData({width:e,height:t,pixels:r,data:n,border:o=0,format:i=6408,type:l=5121}){const{gl:c}=this,u=r||n,p=await Promise.all(a.map((e=>{const t=u[e];return Promise.all(Array.isArray(t)?t:[t])})));this.bind(),a.forEach(((r,n)=>{p[n].length>1&&!1!==this.opts.mipmaps&&s.log.warn(`${this.id} has mipmap and multiple LODs.`)(),p[n].forEach(((n,s)=>{e&&t?c.texImage2D(r,s,i,e,t,o,i,l,n):c.texImage2D(r,s,i,i,l,n)}))})),this.unbind()}setImageDataForFace(e){const{face:t,width:r,height:n,pixels:s,data:o,border:i=0,format:a=6408,type:l=5121}=e,{gl:c}=this,u=s||o;return this.bind(),u instanceof Promise?u.then((r=>this.setImageDataForFace(Object.assign({},e,{face:t,data:r,pixels:r})))):this.width||this.height?c.texImage2D(t,0,a,r,n,i,a,l,u):c.texImage2D(t,0,a,a,l,u),this}}r.default=l,l.FACES=a},{"@luma.gl/gltools":"lC8CG","./texture":"8vwaW","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"5ebI8":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@luma.gl/gltools"),o=e("./texture"),i=n.interopDefault(o),a=e("./texture-formats"),l=e("./buffer"),c=n.interopDefault(l);class u extends i.default{static isSupported(e){return s.isWebGL2(e)}constructor(e,t={}){s.assertWebGL2Context(e),super(e,t=Object.assign({depth:1},t,{target:32879,unpackFlipY:!1})),this.initialize(t),Object.seal(this)}setImageData({level:e=0,dataFormat:t=6408,width:r,height:n,depth:o=1,border:i=0,format:l,type:u=5121,offset:p=0,data:d,parameters:h={}}){if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),s.withParameters(this.gl,h,(()=>{ArrayBuffer.isView(d)&&this.gl.texImage3D(this.target,e,t,r,n,o,i,l,u,d),d instanceof c.default&&(this.gl.bindBuffer(35052,d.handle),this.gl.texImage3D(this.target,e,t,r,n,o,i,l,u,p))})),d&&d.byteLength)this._trackAllocatedMemory(d.byteLength,"Texture");else{const e=a.DATA_FORMAT_CHANNELS[this.dataFormat]||4,t=a.TYPE_SIZES[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*e*t,"Texture")}return this.loaded=!0,this}}r.default=u},{"@luma.gl/gltools":"lC8CG","./texture":"8vwaW","./texture-formats":"gVHgl","./buffer":"5XyLA","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lk4zn:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"FRAMEBUFFER_ATTACHMENT_PARAMETERS",(()=>b));var s=e("@luma.gl/gltools"),o=e("./resource"),i=n.interopDefault(o),a=e("./texture-2d"),l=n.interopDefault(a),c=e("./renderbuffer"),u=n.interopDefault(c),p=e("./clear"),d=e("./copy-and-blit.js"),h=e("../features"),f=e("../webgl-utils/constants-to-keys"),m=e("../utils/assert");const g="Multiple render targets not supported";class y extends i.default{static isSupported(e,t={}){const{colorBufferFloat:r,colorBufferHalfFloat:n}=t;let s=!0;return r&&(s=Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("WEBGL_color_buffer_float")||e.getExtension("OES_texture_float"))),n&&(s=s&&Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("EXT_color_buffer_half_float"))),s}static getDefaultFramebuffer(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new y(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}get MAX_COLOR_ATTACHMENTS(){const e=s.assertWebGL2Context(this.gl);return e.getParameter(e.MAX_COLOR_ATTACHMENTS)}get MAX_DRAW_BUFFERS(){const e=s.assertWebGL2Context(this.gl);return e.getParameter(e.MAX_DRAW_BUFFERS)}constructor(e,t={}){super(e,t),this.width=null,this.height=null,this.attachments={},this.readBuffer=36064,this.drawBuffers=[36064],this.ownResources=[],this.initialize(t),Object.seal(this)}get color(){return this.attachments[36064]||null}get texture(){return this.attachments[36064]||null}get depth(){return this.attachments[36096]||this.attachments[33306]||null}get stencil(){return this.attachments[36128]||this.attachments[33306]||null}initialize({width:e=1,height:t=1,attachments:r=null,color:n=!0,depth:s=!0,stencil:o=!1,check:i=!0,readBuffer:a,drawBuffers:l}){if(m.assert(e>=0&&t>=0,"Width and height need to be integers"),this.width=e,this.height=t,r)for(const n in r){const s=r[n];(Array.isArray(s)?s[0]:s).resize({width:e,height:t})}else r=this._createDefaultAttachments(n,s,o,e,t);this.update({clearAttachments:!0,attachments:r,readBuffer:a,drawBuffers:l}),r&&i&&this.checkStatus()}delete(){for(const e of this.ownResources)e.delete();return super.delete(),this}update({attachments:e={},readBuffer:t,drawBuffers:r,clearAttachments:n=!1,resizeAttachments:s=!0}){this.attach(e,{clearAttachments:n,resizeAttachments:s});const{gl:o}=this,i=o.bindFramebuffer(36160,this.handle);return t&&this._setReadBuffer(t),r&&this._setDrawBuffers(r),o.bindFramebuffer(36160,i||null),this}resize(e={}){let{width:t,height:r}=e;if(null===this.handle)return m.assert(void 0===t&&void 0===r),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;void 0===t&&(t=this.gl.drawingBufferWidth),void 0===r&&(r=this.gl.drawingBufferHeight),t!==this.width&&r!==this.height&&s.log.log(2,`Resizing framebuffer ${this.id} to ${t}x${r}`)();for(const e in this.attachments)this.attachments[e].resize({width:t,height:r});return this.width=t,this.height=r,this}attach(e,{clearAttachments:t=!1,resizeAttachments:r=!0}={}){const n={};t&&Object.keys(this.attachments).forEach((e=>{n[e]=null})),Object.assign(n,e);const s=this.gl.bindFramebuffer(36160,this.handle);for(const e in n){m.assert(void 0!==e,"Misspelled framebuffer binding point?");const t=Number(e),s=n[t];let o=s;if(o)if(o instanceof u.default)this._attachRenderbuffer({attachment:t,renderbuffer:o});else if(Array.isArray(s)){const[e,r=0,n=0]=s;o=e,this._attachTexture({attachment:t,texture:e,layer:r,level:n})}else this._attachTexture({attachment:t,texture:o,layer:0,level:0});else this._unattach(t);r&&o&&o.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,s||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter((e=>!this.attachments[e])).forEach((e=>{delete this.attachments[e]}))}checkStatus(){const{gl:e}=this,t=this.getStatus();if(36053!==t)throw new Error(function(e){return(y.STATUS||{})[e]||`Framebuffer error ${e}`}(t));return this}getStatus(){const{gl:e}=this,t=e.bindFramebuffer(36160,this.handle),r=e.checkFramebufferStatus(36160);return e.bindFramebuffer(36160,t||null),r}clear(e={}){const{color:t,depth:r,stencil:n,drawBuffers:s=[]}=e,o=this.gl.bindFramebuffer(36160,this.handle);return(t||r||n)&&p.clear(this.gl,{color:t,depth:r,stencil:n}),s.forEach(((e,t)=>{p.clearBuffer(this.gl,{drawBuffer:t,value:e})})),this.gl.bindFramebuffer(36160,o||null),this}readPixels(e={}){return s.log.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}readPixelsToBuffer(e={}){return s.log.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}copyToDataUrl(e={}){return s.log.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}copyToImage(e={}){return s.log.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}copyToTexture(e={}){return s.log.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}blit(e={}){return s.log.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}invalidate({attachments:e=[],x:t=0,y:r=0,width:n,height:o}){const i=s.assertWebGL2Context(this.gl),a=i.bindFramebuffer(36008,this.handle);return 0===t&&0===r&&void 0===n&&void 0===o?i.invalidateFramebuffer(36008,e):i.invalidateFramebuffer(36008,e,t,r,n,o),i.bindFramebuffer(36008,a),this}getAttachmentParameter(e,t,r){let n=this._getAttachmentParameterFallback(t);return null===n&&(this.gl.bindFramebuffer(36160,this.handle),n=this.gl.getFramebufferAttachmentParameter(36160,e,t),this.gl.bindFramebuffer(36160,null)),r&&n>1e3&&(n=f.getKey(this.gl,n)),n}getAttachmentParameters(e=36064,t,r=this.constructor.ATTACHMENT_PARAMETERS||[]){const n={};for(const s of r){n[t?f.getKey(this.gl,s):s]=this.getAttachmentParameter(e,s,t)}return n}getParameters(e=!0){const t=Object.keys(this.attachments),r={};for(const n of t){const t=Number(n);r[e?f.getKey(this.gl,t):t]=this.getAttachmentParameters(t,e)}return r}show(){return"undefined"!=typeof window&&window.open(d.copyToDataUrl(this),"luma-debug-texture"),this}log(e=0,t=""){if(e>s.log.level||"undefined"==typeof window)return this;t=t||`Framebuffer ${this.id}`;const r=d.copyToDataUrl(this,{targetMaxHeight:100});return s.log.image({logLevel:e,message:t,image:r},t)(),this}bind({target:e=36160}={}){return this.gl.bindFramebuffer(e,this.handle),this}unbind({target:e=36160}={}){return this.gl.bindFramebuffer(e,null),this}_createDefaultAttachments(e,t,r,n,s){let o=null;return e&&(o=o||{},o[36064]=new l.default(this.gl,{id:`${this.id}-color0`,pixels:null,format:6408,type:5121,width:n,height:s,mipmaps:!1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.ownResources.push(o[36064])),t&&r?(o=o||{},o[33306]=new u.default(this.gl,{id:`${this.id}-depth-stencil`,format:35056,width:n,height:111}),this.ownResources.push(o[33306])):t?(o=o||{},o[36096]=new u.default(this.gl,{id:`${this.id}-depth`,format:33189,width:n,height:s}),this.ownResources.push(o[36096])):r&&m.assert(!1),o}_unattach(e){const t=this.attachments[e];t&&(t instanceof u.default?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}_attachRenderbuffer({attachment:e=36064,renderbuffer:t}){const{gl:r}=this;r.framebufferRenderbuffer(36160,e,36161,t.handle),this.attachments[e]=t}_attachTexture({attachment:e=36064,texture:t,layer:r,level:n}){const{gl:o}=this;switch(o.bindTexture(t.target,t.handle),t.target){case 35866:case 32879:s.assertWebGL2Context(o).framebufferTextureLayer(36160,e,t.target,n,r);break;case 34067:const i=function(e){return e<34069?e+34069:e}(r);o.framebufferTexture2D(36160,e,i,t.handle,n);break;case 3553:o.framebufferTexture2D(36160,e,3553,t.handle,n);break;default:m.assert(!1,"Illegal texture type")}o.bindTexture(t.target,null),this.attachments[e]=t}_setReadBuffer(e){const t=s.getWebGL2Context(this.gl);t?t.readBuffer(e):m.assert(36064===e||1029===e,g),this.readBuffer=e}_setDrawBuffers(e){const{gl:t}=this,r=s.assertWebGL2Context(t);if(r)r.drawBuffers(e);else{const r=t.getExtension("WEBGL_draw_buffers");r?r.drawBuffersWEBGL(e):m.assert(1===e.length&&(36064===e[0]||1029===e[0]),g)}this.drawBuffers=e}_getAttachmentParameterFallback(e){const t=h.getFeatures(this.gl);switch(e){case 36052:return t.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return t.WEBGL2?null:8;case 33297:return t.WEBGL2?null:5125;case 33296:return t.WEBGL2||t.EXT_sRGB?null:9729;default:return null}}_createHandle(){return this.gl.createFramebuffer()}_deleteHandle(){this.gl.deleteFramebuffer(this.handle)}_bindHandle(e){return this.gl.bindFramebuffer(36160,e)}}r.default=y;const b=[36049,36048,33296,33298,33299,33300,33301,33302,33303];y.ATTACHMENT_PARAMETERS=b},{"@luma.gl/gltools":"lC8CG","./resource":"iTNiT","./texture-2d":"hQnRq","./renderbuffer":"4ZYZI","./clear":"6kPdy","./copy-and-blit.js":"abR78","../features":"kCeS7","../webgl-utils/constants-to-keys":"azBSH","../utils/assert":"2lJLq","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"4ZYZI":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./resource"),o=n.interopDefault(s),i=e("./renderbuffer-formats"),a=n.interopDefault(i),l=e("@luma.gl/gltools"),c=e("../utils/assert");class u extends o.default{static isSupported(e,{format:t}={format:null}){return!t||function(e,t,r){const n=r[t];if(!n)return!1;const s=l.isWebGL2(e)&&n.gl2||n.gl1;return"string"==typeof s?e.getExtension(s):s}(e,t,a.default)}static getSamplesForFormat(e,{format:t}){return e.getInternalformatParameter(36161,t,32937)}constructor(e,t={}){super(e,t),this.initialize(t),Object.seal(this)}initialize({format:e,width:t=1,height:r=1,samples:n=0}){return c.assert(e,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==n&&l.isWebGL2(this.gl)?this.gl.renderbufferStorageMultisample(36161,n,e,t,r):this.gl.renderbufferStorage(36161,e,t,r),this.format=e,this.width=t,this.height=r,this.samples=n,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*a.default[this.format].bpp),this}resize({width:e,height:t}){return e!==this.width||t!==this.height?this.initialize({width:e,height:t,format:this.format,samples:this.samples}):this}_createHandle(){return this.gl.createRenderbuffer()}_deleteHandle(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}_bindHandle(e){this.gl.bindRenderbuffer(36161,e)}_syncHandle(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}_getParameter(e){this.gl.bindRenderbuffer(36161,this.handle);return this.gl.getRenderbufferParameter(36161,e)}}r.default=u},{"./resource":"iTNiT","./renderbuffer-formats":"5cqYb","@luma.gl/gltools":"lC8CG","../utils/assert":"2lJLq","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"5cqYb":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);const n="EXT_color_buffer_float";r.default={33189:{bpp:2},33190:{gl2:!0,bpp:3},36012:{gl2:!0,bpp:4},36168:{bpp:1},34041:{bpp:4},35056:{gl2:!0,bpp:4},36013:{gl2:!0,bpp:5},32854:{bpp:2},36194:{bpp:2},32855:{bpp:2},33321:{gl2:!0,bpp:1},33330:{gl2:!0,bpp:1},33329:{gl2:!0,bpp:1},33332:{gl2:!0,bpp:2},33331:{gl2:!0,bpp:2},33334:{gl2:!0,bpp:4},33333:{gl2:!0,bpp:4},33323:{gl2:!0,bpp:2},33336:{gl2:!0,bpp:2},33335:{gl2:!0,bpp:2},33338:{gl2:!0,bpp:4},33337:{gl2:!0,bpp:4},33340:{gl2:!0,bpp:8},33339:{gl2:!0,bpp:8},32849:{gl2:!0,bpp:3},32856:{gl2:!0,bpp:4},32857:{gl2:!0,bpp:4},36220:{gl2:!0,bpp:4},36238:{gl2:!0,bpp:4},36975:{gl2:!0,bpp:4},36214:{gl2:!0,bpp:8},36232:{gl2:!0,bpp:8},36226:{gl2:!0,bpp:16},36208:{gl2:!0,bpp:16},33325:{gl2:n,bpp:2},33327:{gl2:n,bpp:4},34842:{gl2:n,bpp:8},33326:{gl2:n,bpp:4},33328:{gl2:n,bpp:8},34836:{gl2:n,bpp:16},35898:{gl2:n,bpp:4}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"6kPdy":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"clear",(()=>a)),n.export(r,"clearBuffer",(()=>l));var s=e("@luma.gl/gltools"),o=e("../utils/assert");const i="clear: bad arguments";function a(e,{framebuffer:t=null,color:r=null,depth:n=null,stencil:a=null}={}){const l={};t&&(l.framebuffer=t);let c=0;r&&(c|=16384,!0!==r&&(l.clearColor=r)),n&&(c|=256,!0!==n&&(l.clearDepth=n)),a&&(c|=1024,!0!==n&&(l.clearStencil=n)),o.assert(0!==c,i),s.withParameters(e,l,(()=>{e.clear(c)}))}function l(e,{framebuffer:t=null,buffer:r=6144,drawBuffer:n=0,value:a=[0,0,0,0]}={}){s.assertWebGL2Context(e),s.withParameters(e,{framebuffer:t},(()=>{switch(r){case 6144:switch(a.constructor){case Int32Array:e.clearBufferiv(r,n,a);break;case Uint32Array:e.clearBufferuiv(r,n,a);break;case Float32Array:default:e.clearBufferfv(r,n,a)}break;case 6145:e.clearBufferfv(6145,0,[a]);break;case 6146:e.clearBufferiv(6146,0,[a]);break;case 34041:const[t,s]=a;e.clearBufferfi(34041,0,t,s);break;default:o.assert(!1,i)}}))}},{"@luma.gl/gltools":"lC8CG","../utils/assert":"2lJLq","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],abR78:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"readPixelsToArray",(()=>m)),n.export(r,"readPixelsToBuffer",(()=>g)),n.export(r,"copyToDataUrl",(()=>y)),n.export(r,"copyToImage",(()=>b)),n.export(r,"copyToTexture",(()=>v)),n.export(r,"blit",(()=>x));var s=e("./buffer"),o=n.interopDefault(s),i=e("./framebuffer"),a=n.interopDefault(i),l=e("./texture"),c=n.interopDefault(l),u=e("@luma.gl/gltools"),p=e("../webgl-utils/typed-array-utils"),d=e("../webgl-utils/format-utils"),h=e("../webgl-utils/texture-utils"),f=e("../utils/assert");function m(e,t={}){const{sourceX:r=0,sourceY:n=0,sourceFormat:s=6408}=t;let{sourceAttachment:o=36064,target:i=null,sourceWidth:a,sourceHeight:l,sourceType:c}=t;const{framebuffer:u,deleteFramebuffer:h}=_(e);f.assert(u);const{gl:m,handle:g,attachments:y}=u;a=a||u.width,l=l||u.height,36064===o&&null===g&&(o=1028),f.assert(y[o]),c=c||y[o].type,i=function(e,t,r,n,s){if(e)return e;t=t||5121;const o=p.getTypedArrayFromGLType(t,{clamped:!1}),i=d.glFormatToComponents(r);return new o(n*s*i)}(i,c,s,a,l),c=c||p.getGLTypeFromTypedArray(i);const b=m.bindFramebuffer(36160,g);return m.readPixels(r,n,a,l,s,c,i),m.bindFramebuffer(36160,b||null),h&&u.delete(),i}function g(e,{sourceX:t=0,sourceY:r=0,sourceFormat:n=6408,target:s=null,targetByteOffset:i=0,sourceWidth:a,sourceHeight:l,sourceType:c}){const{framebuffer:p,deleteFramebuffer:h}=_(e);f.assert(p),a=a||p.width,l=l||p.height;const m=u.assertWebGL2Context(p.gl);if(c=c||(s?s.type:5121),!s){const e=d.glFormatToComponents(n),t=d.glTypeToBytes(c),r=i+a*l*e*t;s=new o.default(m,{byteLength:r,accessor:{type:c,size:e}})}return s.bind({target:35051}),u.withParameters(m,{framebuffer:p},(()=>{m.readPixels(t,r,a,l,n,c,i)})),s.unbind({target:35051}),h&&p.delete(),s}function y(e,{sourceAttachment:t=36064,targetMaxHeight:r=Number.MAX_SAFE_INTEGER}={}){let n=m(e,{sourceAttachment:t}),{width:s,height:o}=e;for(;o>r;)({data:n,width:s,height:o}=p.scalePixels({data:n,width:s,height:o}));p.flipRows({data:n,width:s,height:o});const i=document.createElement("canvas");i.width=s,i.height=o;const a=i.getContext("2d"),l=a.createImageData(s,o);return l.data.set(n),a.putImageData(l,0,0),i.toDataURL()}function b(e,{sourceAttachment:t=36064,targetImage:r=null}={}){const n=y(e,{sourceAttachment:t});return(r=r||new Image).src=n,r}function v(e,t,r={}){const{sourceX:n=0,sourceY:s=0,targetMipmaplevel:o=0,targetInternalFormat:i=6408}=r;let{targetX:a,targetY:l,targetZ:p,width:d,height:h}=r;const{framebuffer:m,deleteFramebuffer:g}=_(e);f.assert(m);const{gl:y,handle:b}=m,v=void 0!==a||void 0!==l||void 0!==p;a=a||0,l=l||0,p=p||0;const x=y.bindFramebuffer(36160,b);f.assert(t);let w=null;if(t instanceof c.default&&(w=t,d=Number.isFinite(d)?d:w.width,h=Number.isFinite(h)?h:w.height,w.bind(0),t=w.target),v)switch(t){case 3553:case 34067:y.copyTexSubImage2D(t,o,a,l,n,s,d,h);break;case 35866:case 32879:u.assertWebGL2Context(y).copyTexSubImage3D(t,o,a,l,p,n,s,d,h)}else y.copyTexImage2D(t,o,i,n,s,d,h,0);return w&&w.unbind(),y.bindFramebuffer(36160,x||null),g&&m.delete(),w}function x(e,t,r={}){const{sourceX0:n=0,sourceY0:s=0,targetX0:o=0,targetY0:i=0,color:a=!0,depth:l=!1,stencil:c=!1,filter:p=9728}=r;let{sourceX1:d,sourceY1:h,targetX1:m,targetY1:g,sourceAttachment:y=36064,mask:b=0}=r;const{framebuffer:v,deleteFramebuffer:x}=_(e),{framebuffer:w,deleteFramebuffer:P}=_(t);f.assert(v),f.assert(w);const{gl:E,handle:A,width:T,height:S,readBuffer:j}=w,C=u.assertWebGL2Context(E);v.handle||36064!==y||(y=1028),a&&(b|=16384),l&&(b|=256),c&&(b|=1024),(x||P)&&1280&b&&(b=16384,u.log.warn("Blitting from or into a Texture object, forcing mask to GL.COLOR_BUFFER_BIT")()),f.assert(b),d=void 0===d?v.width:d,h=void 0===h?v.height:h,m=void 0===m?T:m,g=void 0===g?S:g;const I=E.bindFramebuffer(36009,A),M=E.bindFramebuffer(36008,v.handle);return C.readBuffer(y),C.blitFramebuffer(n,s,d,h,o,i,m,g,b,p),C.readBuffer(j),C.bindFramebuffer(36008,M||null),C.bindFramebuffer(36009,I||null),x&&v.delete(),P&&w.delete(),w}function _(e){return e instanceof a.default?{framebuffer:e,deleteFramebuffer:!1}:{framebuffer:h.toFramebuffer(e),deleteFramebuffer:!0}}},{"./buffer":"5XyLA","./framebuffer":"lk4zn","./texture":"8vwaW","@luma.gl/gltools":"lC8CG","../webgl-utils/typed-array-utils":"fTXRd","../webgl-utils/format-utils":"3URa9","../webgl-utils/texture-utils":"caiyD","../utils/assert":"2lJLq","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3URa9":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"glFormatToComponents",(()=>o)),n.export(r,"glTypeToBytes",(()=>i));var s=e("../utils/assert");function o(e){switch(e){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return s.assert(!1),0}}function i(e){switch(e){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return s.assert(!1),0}}},{"../utils/assert":"2lJLq","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],kCeS7:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getContextInfo",(()=>s.getContextInfo)),n.export(r,"getGLContextInfo",(()=>s.getGLContextInfo)),n.export(r,"getContextLimits",(()=>s.getContextLimits)),n.export(r,"FEATURES",(()=>o.FEATURES)),n.export(r,"hasFeature",(()=>i.hasFeature)),n.export(r,"hasFeatures",(()=>i.hasFeatures)),n.export(r,"getFeatures",(()=>i.getFeatures)),n.export(r,"canCompileGLGSExtension",(()=>l.default));var s=e("./limits"),o=e("./webgl-features-table"),i=e("./features"),a=e("./check-glsl-extension"),l=n.interopDefault(a)},{"./limits":"gUNlw","./webgl-features-table":"aipz4","./features":"bPqZC","./check-glsl-extension":"gtEgO","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],gUNlw:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getContextLimits",(()=>a)),n.export(r,"getGLContextInfo",(()=>l)),n.export(r,"getContextInfo",(()=>c));var s=e("./webgl-limits-table"),o=n.interopDefault(s),i=e("@luma.gl/gltools");function a(e){if(e.luma=e.luma||{},!e.luma.limits){e.luma.limits={},e.luma.webgl1MinLimits={},e.luma.webgl2MinLimits={};const t=i.isWebGL2(e);for(const r in o.default){const n=o.default[r],s=n.gl1,i="gl2"in n?n.gl2:n.gl1,a=t?i:s,l="gl2"in n&&!t||"extension"in n&&!e.getExtension(n.extension)?a:e.getParameter(r);e.luma.limits[r]=l,e.luma.webgl1MinLimits[r]=s,e.luma.webgl2MinLimits[r]=i}}return e.luma.limits}function l(e){e.luma=e.luma||{};const t=i.getContextDebugInfo(e);return e.luma.info||(e.luma.info={37445:t.vendor,37446:t.renderer,7936:t.vendorMasked,7937:t.rendererMasked,7938:t.version,35724:t.shadingLanguageVersion}),e.luma.info}function c(e){return Object.assign(i.getContextDebugInfo(e),{limits:a(e),info:l(e),webgl1MinLimits:e.luma.webgl1MinLimits,webgl2MinLimits:e.luma.webgl2MinLimits})}},{"./webgl-limits-table":"jxPI3","@luma.gl/gltools":"lC8CG","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jxPI3:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default={33902:{gl1:new Float32Array([1,1])},33901:{gl1:new Float32Array([1,1])},3379:{gl1:64,gl2:2048},34076:{gl1:16},34930:{gl1:8},35661:{gl1:8},35660:{gl1:0},34024:{gl1:1},36348:{gl1:8},34921:{gl1:8},36347:{gl1:128},36349:{gl1:16},3386:{gl1:new Int32Array([0,0])},32883:{gl1:0,gl2:256},35071:{gl1:0,gl2:256},37447:{gl1:0,gl2:0},36063:{gl1:0,gl2:4},35379:{gl1:0,gl2:0},35374:{gl1:0,gl2:0},35377:{gl1:0,gl2:0},34852:{gl1:0,gl2:4},36203:{gl1:0,gl2:0},33001:{gl1:0,gl2:0},33e3:{gl1:0,gl2:0},37157:{gl1:0,gl2:0},35373:{gl1:0,gl2:0},35657:{gl1:0,gl2:0},36183:{gl1:0,gl2:0},37137:{gl1:0,gl2:0},34045:{gl1:0,gl2:0},35978:{gl1:0,gl2:0},35979:{gl1:0,gl2:0},35968:{gl1:0,gl2:0},35376:{gl1:0,gl2:0},35375:{gl1:0,gl2:0},35659:{gl1:0,gl2:0},37154:{gl1:0,gl2:0},35371:{gl1:0,gl2:0},35658:{gl1:0,gl2:0},35076:{gl1:0,gl2:-8,negative:!0},35077:{gl1:0,gl2:7},35380:{gl1:0,gl2:0}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],aipz4:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"FEATURES",(()=>l));var s=e("../classes/framebuffer"),o=n.interopDefault(s),i=e("../classes/texture-2d"),a=n.interopDefault(i);const l={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};r.default={[l.WEBGL2]:[!1,!0],[l.VERTEX_ARRAY_OBJECT]:["OES_vertex_array_object",!0],[l.TIMER_QUERY]:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],[l.INSTANCED_RENDERING]:["ANGLE_instanced_arrays",!0],[l.MULTIPLE_RENDER_TARGETS]:["WEBGL_draw_buffers",!0],[l.ELEMENT_INDEX_UINT32]:["OES_element_index_uint",!0],[l.BLEND_EQUATION_MINMAX]:["EXT_blend_minmax",!0],[l.FLOAT_BLEND]:["EXT_float_blend"],[l.COLOR_ENCODING_SRGB]:["EXT_sRGB",!0],[l.TEXTURE_DEPTH]:["WEBGL_depth_texture",!0],[l.TEXTURE_FLOAT]:["OES_texture_float",!0],[l.TEXTURE_HALF_FLOAT]:["OES_texture_half_float",!0],[l.TEXTURE_FILTER_LINEAR_FLOAT]:["OES_texture_float_linear"],[l.TEXTURE_FILTER_LINEAR_HALF_FLOAT]:["OES_texture_half_float_linear"],[l.TEXTURE_FILTER_ANISOTROPIC]:["EXT_texture_filter_anisotropic"],[l.COLOR_ATTACHMENT_RGBA32F]:[function(e){const t=new a.default(e,{format:6408,type:5126,dataFormat:6408}),r=new o.default(e,{id:"test-framebuffer",check:!1,attachments:{36064:t}}),n=r.getStatus();return t.delete(),r.delete(),36053===n},"EXT_color_buffer_float"],[l.COLOR_ATTACHMENT_FLOAT]:[!1,"EXT_color_buffer_float"],[l.COLOR_ATTACHMENT_HALF_FLOAT]:["EXT_color_buffer_half_float"],[l.GLSL_FRAG_DATA]:["WEBGL_draw_buffers",!0],[l.GLSL_FRAG_DEPTH]:["EXT_frag_depth",!0],[l.GLSL_DERIVATIVES]:["OES_standard_derivatives",!0],[l.GLSL_TEXTURE_LOD]:["EXT_shader_texture_lod",!0]}},{"../classes/framebuffer":"lk4zn","../classes/texture-2d":"hQnRq","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],bPqZC:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"hasFeature",(()=>l)),n.export(r,"hasFeatures",(()=>c)),n.export(r,"getFeatures",(()=>u));var s=e("./webgl-features-table"),o=n.interopDefault(s),i=e("@luma.gl/gltools"),a=e("../utils/assert");function l(e,t){return c(e,t)}function c(e,t){return(t=Array.isArray(t)?t:[t]).every((t=>p(e,t)))}function u(e){e.luma=e.luma||{},e.luma.caps=e.luma.caps||{};for(const t in o.default)void 0===e.luma.caps[t]&&(e.luma.caps[t]=p(e,t));return e.luma.caps}function p(e,t){return e.luma=e.luma||{},e.luma.caps=e.luma.caps||{},void 0===e.luma.caps[t]&&(e.luma.caps[t]=function(e,t){const r=o.default[t];let n;a.assert(r,t);const s=i.isWebGL2(e)&&r[1]||r[0];if("function"==typeof s)n=s(e);else if(Array.isArray(s)){n=!0;for(const t of s)n=n&&Boolean(e.getExtension(t))}else"string"==typeof s?n=Boolean(e.getExtension(s)):"boolean"==typeof s?n=s:a.assert(!1);return n}(e,t)),e.luma.caps[t]||i.log.log(2,`Feature: ${t} not supported`)(),e.luma.caps[t]}},{"./webgl-features-table":"aipz4","@luma.gl/gltools":"lC8CG","../utils/assert":"2lJLq","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],gtEgO:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./check-old-ie"),o=n.interopDefault(s),i=e("./webgl-features-table"),a=n.interopDefault(i),l=e("../utils/assert");const c={};r.default=function(e,t,r={}){const n=a.default[t];if(l.assert(n,t),!o.default(r))return!0;if(t in c)return c[t];const s=`#extension GL_${n[0]} : enable\nvoid main(void) {}`,i=e.createShader(35633);e.shaderSource(i,s),e.compileShader(i);const u=e.getShaderParameter(i,35713);return e.deleteShader(i),c[t]=u,u}},{"./check-old-ie":"1PFpq","./webgl-features-table":"aipz4","../utils/assert":"2lJLq","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"1PFpq":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e={}){const t="undefined"!=typeof window&&window.navigator||{},r=e.userAgent||t.userAgent||"",n=-1!==r.indexOf("MSIE "),s=-1!==r.indexOf("Trident/");return n||s}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3p6EQ":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"Shader",(()=>u)),n.export(r,"VertexShader",(()=>p)),n.export(r,"FragmentShader",(()=>d));var s=e("@luma.gl/gltools"),o=e("../glsl-utils"),i=e("../utils/assert"),a=e("../utils/utils"),l=e("./resource"),c=n.interopDefault(l);class u extends c.default{static getTypeName(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return i.assert(!1),"unknown"}}constructor(e,t){s.assertWebGLContext(e),i.assert("string"==typeof t.source,"Shader: GLSL source code must be a JavaScript string");super(e,{id:o.getShaderName(t.source,null)||t.id||a.uid(`unnamed ${u.getTypeName(t.shaderType)}`)}),this.shaderType=t.shaderType,this.source=t.source,this.initialize(t)}initialize({source:e}){const t=o.getShaderName(e,null);t&&(this.id=a.uid(t)),this._compile(e)}getParameter(e){return this.gl.getShaderParameter(this.handle,e)}toString(){return`${u.getTypeName(this.shaderType)}:${this.id}`}getName(){return o.getShaderName(this.source)||"unnamed-shader"}getSource(){return this.gl.getShaderSource(this.handle)}getTranslatedSource(){const e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}_compile(e=this.source){e.startsWith("#version ")||(e=`#version 100\n${e}`),this.source=e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle);if(!this.getParameter(35713)){const e=this.gl.getShaderInfoLog(this.handle),{shaderName:t,errors:r,warnings:n}=o.parseGLSLCompilerError(e,this.source,this.shaderType,this.id);throw s.log.error(`GLSL compilation errors in ${t}\n${r}`)(),s.log.warn(`GLSL compilation warnings in ${t}\n${n}`)(),new Error(`GLSL compilation errors in ${t}`)}}_deleteHandle(){this.gl.deleteShader(this.handle)}_getOptsFromHandle(){return{type:this.getParameter(35663),source:this.getSource()}}}class p extends u{constructor(e,t){"string"==typeof t&&(t={source:t}),super(e,Object.assign({},t,{shaderType:35633}))}_createHandle(){return this.gl.createShader(35633)}}class d extends u{constructor(e,t){"string"==typeof t&&(t={source:t}),super(e,Object.assign({},t,{shaderType:35632}))}_createHandle(){return this.gl.createShader(35632)}}},{"@luma.gl/gltools":"lC8CG","../glsl-utils":"4jEXi","../utils/assert":"2lJLq","../utils/utils":"9AxY8","./resource":"iTNiT","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"4jEXi":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"formatGLSLCompilerError",(()=>o.default)),n.export(r,"parseGLSLCompilerError",(()=>s.parseGLSLCompilerError)),n.export(r,"getShaderName",(()=>a.default)),n.export(r,"getShaderVersion",(()=>c.default)),n.export(r,"getShaderTypeName",(()=>p.default));var s=e("./format-glsl-error"),o=n.interopDefault(s),i=e("./get-shader-name"),a=n.interopDefault(i),l=e("./get-shader-version"),c=n.interopDefault(l),u=e("./get-shader-type-name"),p=n.interopDefault(u)},{"./format-glsl-error":"dpwc4","./get-shader-name":"esYMq","./get-shader-version":"356jE","./get-shader-type-name":"nCASk","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],dpwc4:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"parseGLSLCompilerError",(()=>l));var s=e("./get-shader-name"),o=n.interopDefault(s),i=e("./get-shader-type-name"),a=n.interopDefault(i);function l(e,t,r,n){const s=e.split(/\r?\n/),i={},l={},p=n||o.default(t)||"(unnamed)",d=`${a.default(r)} shader ${p}`;for(let t=0;t<s.length;t++){const r=s[t];if(r.length<=1)continue;const n=r.split(":"),o=n[0],a=parseInt(n[2],10);if(isNaN(a))throw new Error(`GLSL compilation error in ${d}: ${e}`);"WARNING"!==o?i[a]=r:l[a]=r}const h=function(e,t=1,r=": "){const n=e.split(/\r?\n/),s=String(n.length+t-1).length;return n.map(((e,n)=>{const o=String(n+t),i=o.length;return u(o,s-i)+r+e}))}(t);return{shaderName:d,errors:c(i,h),warnings:c(l,h)}}function c(e,t){let r="";for(let n=0;n<t.length;n++){const s=t[n];if((e[n+3]||e[n+2]||e[n+1])&&(r+=`${s}\n`,e[n+1])){const t=e[n+1],s=t.split(":",3),o=s[0],i=parseInt(s[1],10)||0;r+=u(`^^^ ${o}: ${t.substring(s.join(":").length+1).trim()}\n\n`,i)}}return r}function u(e,t){let r="";for(let e=0;e<t;++e)r+=" ";return`${r}${e}`}r.default=function(e,t,r){const{shaderName:n,errors:s,warnings:o}=l(e,t,r);return`GLSL compilation error in ${n}\n\n${s}\n${o}`}},{"./get-shader-name":"esYMq","./get-shader-type-name":"nCASk","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],esYMq:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e,t="unnamed"){const r=e.match(/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/);return r?r[1]:t}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],nCASk:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);r.default=function(e){switch(e){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"356jE":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e){let t=100;const r=e.match(/[^\s]+/g);if(r.length>=2&&"#version"===r[0]){const e=parseInt(r[1],10);Number.isFinite(e)&&(t=e)}return t}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"368oX":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./resource"),o=n.interopDefault(s),i=e("./texture"),a=n.interopDefault(i),l=e("./framebuffer"),c=n.interopDefault(l),u=e("./uniforms"),p=e("./shader"),d=e("./program-configuration"),h=n.interopDefault(d),f=e("@luma.gl/gltools"),m=e("../webgl-utils/constants-to-keys"),g=e("../webgl-utils/attribute-utils"),y=e("../utils/assert"),b=e("../utils/utils");const v=35981,x=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"];class _ extends o.default{constructor(e,t={}){super(e,t),this.stubRemovedMethods("Program","v6.0",x),this._isCached=!1,this.initialize(t),Object.seal(this),this._setId(t.id)}initialize(e={}){const{hash:t,vs:r,fs:n,varyings:s,bufferMode:o=v}=e;return this.hash=t||"",this.vs="string"==typeof r?new p.VertexShader(this.gl,{id:`${e.id}-vs`,source:r}):r,this.fs="string"==typeof n?new p.FragmentShader(this.gl,{id:`${e.id}-fs`,source:n}):n,y.assert(this.vs instanceof p.VertexShader),y.assert(this.fs instanceof p.FragmentShader),this.uniforms={},this._textureUniforms={},s&&s.length>0&&(f.assertWebGL2Context(this.gl),this.varyings=s,this.gl2.transformFeedbackVaryings(this.handle,s,o)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new h.default(this),this.setProps(e)}delete(e={}){return this._isCached?this:super.delete(e)}setProps(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this}draw({logPriority:e,drawMode:t=4,vertexCount:r,offset:n=0,start:s,end:o,isIndexed:i=!1,indexType:a=5123,instanceCount:l=0,isInstanced:c=l>0,vertexArray:u=null,transformFeedback:p,framebuffer:d,parameters:h={},uniforms:b,samplers:v}){if((b||v)&&(f.log.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(b||{})),f.log.priority>=e){const n=d?d.id:"default",s=`mode=${m.getKey(this.gl,t)} verts=${r} instances=${l} indexType=${m.getKey(this.gl,a)} isInstanced=${c} isIndexed=${i} Framebuffer=${n}`;f.log.log(e,s)()}return y.assert(u),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===r||c&&0===l)&&(u.bindForDraw(r,l,(()=>{if(void 0!==d&&(h=Object.assign({},h,{framebuffer:d})),p){const e=g.getPrimitiveDrawMode(t);p.begin(e)}this._bindTextures(),f.withParameters(this.gl,h,(()=>{i&&c?this.gl2.drawElementsInstanced(t,r,a,n,l):i&&f.isWebGL2(this.gl)&&!isNaN(s)&&!isNaN(o)?this.gl2.drawRangeElements(t,s,o,r,a,n):i?this.gl.drawElements(t,r,a,n):c?this.gl2.drawArraysInstanced(t,n,r,l):this.gl.drawArrays(t,n,r)})),p&&p.end()})),!0)}setUniforms(e={}){f.log.priority>=2&&u.checkUniformValues(e,this.id,this._uniformSetters),this.gl.useProgram(this.handle);for(const t in e){const r=e[t],n=this._uniformSetters[t];if(n){let e=r,s=!1;if(e instanceof c.default&&(e=e.texture),e instanceof a.default)if(s=this.uniforms[t]!==r,s){void 0===n.textureIndex&&(n.textureIndex=this._textureIndexCounter++);const r=e,{textureIndex:s}=n;r.bind(s),e=s,this._textureUniforms[t]=r}else e=n.textureIndex;else this._textureUniforms[t]&&delete this._textureUniforms[t];(n(e)||s)&&u.copyUniform(this.uniforms,t,r)}}return this}_areTexturesRenderable(){let e=!0;for(const t in this._textureUniforms){const r=this._textureUniforms[t];r.update(),e=e&&r.loaded}return e}_bindTextures(){for(const e in this._textureUniforms){const t=this._uniformSetters[e].textureIndex;this._textureUniforms[e].bind(t)}}_createHandle(){return this.gl.createProgram()}_deleteHandle(){this.gl.deleteProgram(this.handle)}_getOptionsFromHandle(e){const t=this.gl.getAttachedShaders(e),r={};for(const e of t){switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:r.vs=new p.VertexShader({handle:e});break;case 35632:r.fs=new p.FragmentShader({handle:e})}}return r}_getParameter(e){return this.gl.getProgramParameter(this.handle,e)}_setId(e){if(!e){const e=this._getName();this.id=b.uid(e)}}_getName(){let e=this.vs.getName()||this.fs.getName();return e=e.replace(/shader/i,""),e=e?`${e}-program`:"program",e}_compileAndLink(){const{gl:e}=this;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),f.log.time(4,`linkProgram for ${this._getName()}`)(),e.linkProgram(this.handle),f.log.timeEnd(4,`linkProgram for ${this._getName()}`)(),e.debug||f.log.level>0){if(!e.getProgramParameter(this.handle,35714))throw new Error(`Error linking: ${e.getProgramInfoLog(this.handle)}`);e.validateProgram(this.handle);if(!e.getProgramParameter(this.handle,35715))throw new Error(`Error validating: ${e.getProgramInfoLog(this.handle)}`)}}_readUniformLocationsFromLinkedProgram(){const{gl:e}=this;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(let t=0;t<this._uniformCount;t++){const r=this.gl.getActiveUniform(this.handle,t),{name:n}=u.parseUniformName(r.name);let s=e.getUniformLocation(this.handle,n);if(this._uniformSetters[n]=u.getUniformSetter(e,s,r),r.size>1)for(let t=0;t<r.size;t++)s=e.getUniformLocation(this.handle,`${n}[${t}]`),this._uniformSetters[`${n}[${t}]`]=u.getUniformSetter(e,s,r)}this._textureIndexCounter=0}getActiveUniforms(e,t){return this.gl2.getActiveUniforms(this.handle,e,t)}getUniformBlockIndex(e){return this.gl2.getUniformBlockIndex(this.handle,e)}getActiveUniformBlockParameter(e,t){return this.gl2.getActiveUniformBlockParameter(this.handle,e,t)}uniformBlockBinding(e,t){this.gl2.uniformBlockBinding(this.handle,e,t)}}r.default=_},{"./resource":"iTNiT","./texture":"8vwaW","./framebuffer":"lk4zn","./uniforms":"cRckR","./shader":"3p6EQ","./program-configuration":"edxnj","@luma.gl/gltools":"lC8CG","../webgl-utils/constants-to-keys":"azBSH","../webgl-utils/attribute-utils":"enuJK","../utils/assert":"2lJLq","../utils/utils":"9AxY8","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],cRckR:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getUniformSetter",(()=>_)),n.export(r,"parseUniformName",(()=>w)),n.export(r,"checkUniformValues",(()=>P)),n.export(r,"copyUniform",(()=>A));var s=e("@luma.gl/gltools"),o=e("./framebuffer"),i=n.interopDefault(o),a=e("./renderbuffer"),l=n.interopDefault(a),c=e("./texture"),u=n.interopDefault(c),p=e("../utils/assert");const d={5126:S.bind(null,"uniform1fv",b,1,j),35664:S.bind(null,"uniform2fv",b,2,j),35665:S.bind(null,"uniform3fv",b,3,j),35666:S.bind(null,"uniform4fv",b,4,j),5124:S.bind(null,"uniform1iv",v,1,j),35667:S.bind(null,"uniform2iv",v,2,j),35668:S.bind(null,"uniform3iv",v,3,j),35669:S.bind(null,"uniform4iv",v,4,j),35670:S.bind(null,"uniform1iv",v,1,j),35671:S.bind(null,"uniform2iv",v,2,j),35672:S.bind(null,"uniform3iv",v,3,j),35673:S.bind(null,"uniform4iv",v,4,j),35674:S.bind(null,"uniformMatrix2fv",b,4,C),35675:S.bind(null,"uniformMatrix3fv",b,9,C),35676:S.bind(null,"uniformMatrix4fv",b,16,C),35678:T,35680:T,5125:S.bind(null,"uniform1uiv",x,1,j),36294:S.bind(null,"uniform2uiv",x,2,j),36295:S.bind(null,"uniform3uiv",x,3,j),36296:S.bind(null,"uniform4uiv",x,4,j),35685:S.bind(null,"uniformMatrix2x3fv",b,6,C),35686:S.bind(null,"uniformMatrix2x4fv",b,8,C),35687:S.bind(null,"uniformMatrix3x2fv",b,6,C),35688:S.bind(null,"uniformMatrix3x4fv",b,12,C),35689:S.bind(null,"uniformMatrix4x2fv",b,8,C),35690:S.bind(null,"uniformMatrix4x3fv",b,12,C),35678:T,35680:T,35679:T,35682:T,36289:T,36292:T,36293:T,36298:T,36299:T,36300:T,36303:T,36306:T,36307:T,36308:T,36311:T},h={},f={},m={},g=[0];function y(e,t,r,n){1===t&&"boolean"==typeof e&&(e=e?1:0),Number.isFinite(e)&&(g[0]=e,e=g);const o=e.length;if(o%t&&s.log.warn(`Uniform size should be multiples of ${t}`,e)(),e instanceof r)return e;let i=n[o];i||(i=new r(o),n[o]=i);for(let t=0;t<o;t++)i[t]=e[t];return i}function b(e,t){return y(e,t,Float32Array,h)}function v(e,t){return y(e,t,Int32Array,f)}function x(e,t){return y(e,t,Uint32Array,m)}function _(e,t,r){const n=d[r.type];if(!n)throw new Error(`Unknown GLSL uniform type ${r.type}`);return n().bind(null,e,t)}function w(e){if("]"!==e[e.length-1])return{name:e,length:1,isArray:!1};const t=e.match(/([^[]*)(\[[0-9]+\])?/);if(!t||t.length<2)throw new Error(`Failed to parse GLSL uniform name ${e}`);return{name:t[1],length:t[2]||1,isArray:Boolean(t[2])}}function P(e,t,r){for(const n in e){const s=e[n];if((!r||Boolean(r[n]))&&!E(s))throw t=t?`${t} `:"",console.error(`${t} Bad uniform ${n}`,s),new Error(`${t} Bad uniform ${n}`)}return!0}function E(e){return Array.isArray(e)||ArrayBuffer.isView(e)?function(e){if(0===e.length)return!1;const t=Math.min(e.length,16);for(let r=0;r<t;++r)if(!Number.isFinite(e[r]))return!1;return!0}(e):!!isFinite(e)||(!0===e||!1===e||(e instanceof u.default||(e instanceof l.default||e instanceof i.default&&Boolean(e.texture))))}function A(e,t,r){if(Array.isArray(r)||ArrayBuffer.isView(r))if(e[t]){const n=e[t];for(let e=0,t=r.length;e<t;++e)n[e]=r[e]}else e[t]=r.slice();else e[t]=r}function T(){let e=null;return(t,r,n)=>{const s=e!==n;return s&&(t.uniform1i(r,n),e=n),s}}function S(e,t,r,n){let s=null,o=null;return(i,a,l)=>{const c=t(l,r),u=c.length;let d=!1;if(null===s)s=new Float32Array(u),o=u,d=!0;else{p.assert(o===u,"Uniform length cannot change.");for(let e=0;e<u;++e)if(c[e]!==s[e]){d=!0;break}}return d&&(n(i,e,a,c),s.set(c)),d}}function j(e,t,r,n){e[t](r,n)}function C(e,t,r,n){e[t](r,!1,n)}},{"@luma.gl/gltools":"lC8CG","./framebuffer":"lk4zn","./renderbuffer":"4ZYZI","./texture":"8vwaW","../utils/assert":"2lJLq","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],edxnj:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./accessor"),o=n.interopDefault(s),i=e("@luma.gl/gltools"),a=e("../webgl-utils/attribute-utils");r.default=class{constructor(e){this.id=e.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(e),this._readVaryingsFromProgram(e)}getAttributeInfo(e){const t=Number(e);return Number.isFinite(t)?this.attributeInfosByLocation[t]:this.attributeInfosByName[e]||null}getAttributeLocation(e){const t=this.getAttributeInfo(e);return t?t.location:-1}getAttributeAccessor(e){const t=this.getAttributeInfo(e);return t?t.accessor:null}getVaryingInfo(e){const t=Number(e);return Number.isFinite(t)?this.varyingInfos[t]:this.varyingInfosByName[e]||null}getVaryingIndex(e){const t=this.getVaryingInfo();return t?t.location:-1}getVaryingAccessor(e){const t=this.getVaryingInfo();return t?t.accessor:null}_readAttributesFromProgram(e){const{gl:t}=e,r=t.getProgramParameter(e.handle,35721);for(let n=0;n<r;n++){const{name:r,type:s,size:o}=t.getActiveAttrib(e.handle,n),i=t.getAttribLocation(e.handle,r);i>=0&&this._addAttribute(i,r,s,o)}this.attributeInfos.sort(((e,t)=>e.location-t.location))}_readVaryingsFromProgram(e){const{gl:t}=e;if(!i.isWebGL2(t))return;const r=t.getProgramParameter(e.handle,35971);for(let n=0;n<r;n++){const{name:r,type:s,size:o}=t.getTransformFeedbackVarying(e.handle,n);this._addVarying(n,r,s,o)}this.varyingInfos.sort(((e,t)=>e.location-t.location))}_addAttribute(e,t,r,n){const{type:s,components:i}=a.decomposeCompositeGLType(r),l={type:s,size:n*i};this._inferProperties(e,t,l);const c={location:e,name:t,accessor:new o.default(l)};this.attributeInfos.push(c),this.attributeInfosByLocation[e]=c,this.attributeInfosByName[c.name]=c}_inferProperties(e,t,r){/instance/i.test(t)&&(r.divisor=1)}_addVarying(e,t,r,n){const{type:s,components:i}=a.decomposeCompositeGLType(r),l={location:e,name:t,accessor:new o.default({type:s,size:n*i})};this.varyingInfos.push(l),this.varyingInfosByName[l.name]=l}}},{"./accessor":"dExDJ","@luma.gl/gltools":"lC8CG","../webgl-utils/attribute-utils":"enuJK","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],enuJK:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getPrimitiveDrawMode",(()=>c)),n.export(r,"getPrimitiveCount",(()=>u)),n.export(r,"getVertexCount",(()=>p)),n.export(r,"decomposeCompositeGLType",(()=>d)),n.export(r,"getCompositeGLType",(()=>h));var s=e("../utils/assert");const o=5126,i=5124,a=5125,l={[o]:[o,1,"float"],35664:[o,2,"vec2"],35665:[o,3,"vec3"],35666:[o,4,"vec4"],[i]:[i,1,"int"],35667:[i,2,"ivec2"],35668:[i,3,"ivec3"],35669:[i,4,"ivec4"],[a]:[a,1,"uint"],36294:[a,2,"uvec2"],36295:[a,3,"uvec3"],36296:[a,4,"uvec4"],35670:[o,1,"bool"],35671:[o,2,"bvec2"],35672:[o,3,"bvec3"],35673:[o,4,"bvec4"],35674:[o,8,"mat2"],35685:[o,8,"mat2x3"],35686:[o,8,"mat2x4"],35675:[o,12,"mat3"],35687:[o,12,"mat3x2"],35688:[o,12,"mat3x4"],35676:[o,16,"mat4"],35689:[o,16,"mat4x2"],35690:[o,16,"mat4x3"]};function c(e){switch(e){case 0:return 0;case 1:case 3:case 2:return 1;case 4:case 5:case 6:return 4;default:return s.assert(!1),0}}function u({drawMode:e,vertexCount:t}){switch(e){case 0:case 2:return t;case 1:return t/2;case 3:return t-1;case 4:return t/3;case 5:case 6:return t-2;default:return s.assert(!1),0}}function p({drawMode:e,vertexCount:t}){const r=u({drawMode:e,vertexCount:t});switch(c(e)){case 0:return r;case 1:return 2*r;case 4:return 3*r;default:return s.assert(!1),0}}function d(e){const t=l[e];if(!t)return null;const[r,n]=t;return{type:r,components:n}}function h(e,t){switch(e){case 5120:case 5121:case 5122:case 5123:e=o}for(const r in l){const[n,s,o]=l[r];if(n===e&&s===t)return{glType:r,name:o}}return null}},{"../utils/assert":"2lJLq","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"6NKYV":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./resource"),o=n.interopDefault(s),i=e("../features"),a=e("@luma.gl/gltools"),l=e("../utils/assert");class c extends o.default{static isSupported(e,t=[]){const r=a.isWebGL2(e),n=i.hasFeatures(e,i.FEATURES.TIMER_QUERY);let s=r||n;for(const e of t)switch(e){case"queries":s=s&&r;break;case"timers":s=s&&n;break;default:l.assert(!1)}return s}constructor(e,t={}){super(e,t),this.target=null,this._queryPending=!1,this._pollingPromise=null,Object.seal(this)}beginTimeElapsedQuery(){return this.begin(35007)}beginOcclusionQuery({conservative:e=!1}={}){return this.begin(e?36202:35887)}beginTransformFeedbackQuery(){return this.begin(35976)}begin(e){return this._queryPending||(this.target=e,this.gl2.beginQuery(this.target,this.handle)),this}end(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}isResultAvailable(){if(!this._queryPending)return!1;const e=this.gl2.getQueryParameter(this.handle,34919);return e&&(this._queryPending=!1),e}isTimerDisjoint(){return this.gl2.getParameter(36795)}getResult(){return this.gl2.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}createPoll(e=Number.POSITIVE_INFINITY){if(this._pollingPromise)return this._pollingPromise;let t=0;return this._pollingPromise=new Promise(((r,n)=>{const s=()=>{this.isResultAvailable()?(r(this.getResult()),this._pollingPromise=null):t++>e?(n("Timed out"),this._pollingPromise=null):requestAnimationFrame(s)};requestAnimationFrame(s)})),this._pollingPromise}_createHandle(){return c.isSupported(this.gl)?this.gl2.createQuery():null}_deleteHandle(){this.gl2.deleteQuery(this.handle)}}r.default=c},{"./resource":"iTNiT","../features":"kCeS7","@luma.gl/gltools":"lC8CG","../utils/assert":"2lJLq","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],eeDeA:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@luma.gl/gltools"),o=e("./resource"),i=n.interopDefault(o),a=e("./buffer"),l=n.interopDefault(a),c=e("../utils/utils");class u extends i.default{static isSupported(e){return s.isWebGL2(e)}constructor(e,t={}){s.assertWebGL2Context(e),super(e,t),this.initialize(t),this.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(this)}initialize(e={}){return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,c.isObjectEmpty(this.buffers)||this.bind((()=>this._unbindBuffers())),this.setProps(e),this}setProps(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)}setBuffers(e={}){return this.bind((()=>{for(const t in e)this.setBuffer(t,e[t])})),this}setBuffer(e,t){const r=this._getVaryingIndex(e),{buffer:n,byteSize:o,byteOffset:i}=this._getBufferParams(t);return r<0?(this.unused[e]=n,s.log.warn((()=>`${this.id} unused varying buffer ${e}`))(),this):(this.buffers[r]=t,this.bindOnUse||this._bindBuffer(r,n,i,o),this)}begin(e=0){return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this}end(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}_getBufferParams(e){let t,r,n;return e instanceof l.default==!1?(n=e.buffer,r=e.byteSize,t=e.byteOffset):n=e,void 0===t&&void 0===r||(t=t||0,r=r||n.byteLength-t),{buffer:n,byteOffset:t,byteSize:r}}_getVaryingInfo(e){return this.configuration&&this.configuration.getVaryingInfo(e)}_getVaryingIndex(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;const t=Number(e);return Number.isFinite(t)?t:-1}_bindBuffers(){if(this.bindOnUse)for(const e in this.buffers){const{buffer:t,byteSize:r,byteOffset:n}=this._getBufferParams(this.buffers[e]);this._bindBuffer(e,t,n,r)}}_unbindBuffers(){if(this.bindOnUse)for(const e in this.buffers)this._bindBuffer(e,null)}_bindBuffer(e,t,r=0,n){const s=t&&t.handle;return s&&void 0!==n?this.gl.bindBufferRange(35982,e,s,r,n):this.gl.bindBufferBase(35982,e,s),this}_createHandle(){return this.gl.createTransformFeedback()}_deleteHandle(){this.gl.deleteTransformFeedback(this.handle)}_bindHandle(e){this.gl.bindTransformFeedback(36386,this.handle)}}r.default=u},{"@luma.gl/gltools":"lC8CG","./resource":"iTNiT","./buffer":"5XyLA","../utils/utils":"9AxY8","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],cmXzr:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./resource"),o=n.interopDefault(s),i=e("./buffer"),a=n.interopDefault(i),l=e("@luma.gl/gltools"),c=e("../utils/array-utils-flat"),u=e("../utils/assert"),p=e("probe.gl");class d extends o.default{static isSupported(e,t={}){return!t.constantAttributeZero||(l.isWebGL2(e)||"Chrome"===p.getBrowser())}static getDefaultArray(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new d(e,{handle:null,isDefaultArray:!0})),e.luma.defaultVertexArray}static getMaxAttributes(e){return d.MAX_ATTRIBUTES=d.MAX_ATTRIBUTES||e.getParameter(34921),d.MAX_ATTRIBUTES}static setConstant(e,t,r){switch(r.constructor){case Float32Array:d._setConstantFloatArray(e,t,r);break;case Int32Array:d._setConstantIntArray(e,t,r);break;case Uint32Array:d._setConstantUintArray(e,t,r);break;default:u.assert(!1)}}constructor(e,t={}){const r=t.id||t.program&&t.program.id;super(e,Object.assign({},t,{id:r})),this.buffer=null,this.bufferValue=null,this.isDefaultArray=t.isDefaultArray||!1,this.gl2=e,this.initialize(t),Object.seal(this)}delete(){return super.delete(),this.buffer&&this.buffer.delete(),this}get MAX_ATTRIBUTES(){return d.getMaxAttributes(this.gl)}initialize(e={}){return this.setProps(e)}setProps(e){return this}setElementBuffer(e=null,t={}){return u.assert(!e||34963===e.target,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.bind((()=>{this.gl.bindBuffer(34963,e?e.handle:null)})),this}setBuffer(e,t,r){if(34963===t.target)return this.setElementBuffer(t,r);const{size:n,type:s,stride:o,offset:i,normalized:a,integer:c,divisor:p}=r,{gl:d,gl2:h}=this;return e=Number(e),this.bind((()=>{d.bindBuffer(34962,t.handle),c?(u.assert(l.isWebGL2(d)),h.vertexAttribIPointer(e,n,s,o,i)):d.vertexAttribPointer(e,n,s,a,o,i),d.enableVertexAttribArray(e),h.vertexAttribDivisor(e,p||0)})),this}enable(e,t=!0){return!t&&0===e&&!d.isSupported(this.gl,{constantAttributeZero:!0})||(e=Number(e),this.bind((()=>t?this.gl.enableVertexAttribArray(e):this.gl.disableVertexAttribArray(e)))),this}getConstantBuffer(e,t){const r=this._normalizeConstantArrayValue(t),n=r.byteLength*e,s=r.length*e;let o=!this.buffer;if(this.buffer=this.buffer||new a.default(this.gl,n),o=o||this.buffer.reallocate(n),o=o||!this._compareConstantArrayValues(r,this.bufferValue),o){const e=c.getScratchArray(t.constructor,s);c.fillArray({target:e,source:r,start:0,count:s}),this.buffer.subData(e),this.bufferValue=t}return this.buffer}_normalizeConstantArrayValue(e){return Array.isArray(e)?new Float32Array(e):e}_compareConstantArrayValues(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}static _setConstantFloatArray(e,t,r){switch(r.length){case 1:e.vertexAttrib1fv(t,r);break;case 2:e.vertexAttrib2fv(t,r);break;case 3:e.vertexAttrib3fv(t,r);break;case 4:e.vertexAttrib4fv(t,r);break;default:u.assert(!1)}}static _setConstantIntArray(e,t,r){switch(u.assert(l.isWebGL2(e)),r.length){case 1:e.vertexAttribI1iv(t,r);break;case 2:e.vertexAttribI2iv(t,r);break;case 3:e.vertexAttribI3iv(t,r);break;case 4:e.vertexAttribI4iv(t,r);break;default:u.assert(!1)}}static _setConstantUintArray(e,t,r){switch(u.assert(l.isWebGL2(e)),r.length){case 1:e.vertexAttribI1uiv(t,r);break;case 2:e.vertexAttribI2uiv(t,r);break;case 3:e.vertexAttribI3uiv(t,r);break;case 4:e.vertexAttribI4uiv(t,r);break;default:u.assert(!1)}}_createHandle(){return this.gl.createVertexArray()}_deleteHandle(e){return this.gl2.deleteVertexArray(e),[this.elements]}_bindHandle(e){this.gl2.bindVertexArray(e)}_getParameter(e,{location:t}){return u.assert(Number.isFinite(t)),this.bind((()=>34373===e?this.gl.getVertexAttribOffset(t,e):this.gl.getVertexAttrib(t,e)))}}r.default=d},{"./resource":"iTNiT","./buffer":"5XyLA","@luma.gl/gltools":"lC8CG","../utils/array-utils-flat":"62cGI","../utils/assert":"2lJLq","probe.gl":"7CitO","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"62cGI":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getScratchArrayBuffer",(()=>o)),n.export(r,"getScratchArray",(()=>i)),n.export(r,"fillArray",(()=>a));let s=null;function o(e){return(!s||s.byteLength<e)&&(s=new ArrayBuffer(e)),s}function i(e,t){return new e(o(e.BYTES_PER_ELEMENT*t),0,t)}function a({target:e,source:t,start:r=0,count:n=1}){const s=t.length,o=n*s;let i=0;for(let n=r;i<s;i++)e[n++]=t[i];for(;i<o;)i<o-i?(e.copyWithin(r+i,r,r+i),i*=2):(e.copyWithin(r+i,r,r+o-i),i=o);return e}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],kKAV5:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@luma.gl/gltools"),o=e("./accessor"),i=n.interopDefault(o),a=e("./buffer"),l=n.interopDefault(a),c=e("./vertex-array-object"),u=n.interopDefault(c),p=e("../utils/assert"),d=e("../utils/stub-methods");const h=/^(.+)__LOCATION_([0-9]+)$/,f=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"];r.default=class{constructor(e,t={}){const r=t.id||t.program&&t.program.id;this.id=r,this.gl=e,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new u.default(e),d.stubRemovedMethods(this,"VertexArray","v6.0",f),this.initialize(t),Object.seal(this)}delete(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}initialize(e={}){return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)}reset(){this.elements=null,this.elementsAccessor=null;const{MAX_ATTRIBUTES:e}=this.vertexArrayObject;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this}setProps(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this}clearDrawParams(){this.drawParams=null}getDrawParams(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}setAttributes(e){return Object.assign(this.attributes,e),this.vertexArrayObject.bind((()=>{for(const t in e){const r=e[t];this._setAttribute(t,r)}this.gl.bindBuffer(34962,null)})),this}setElementBuffer(e=null,t={}){return this.elements=e,this.elementsAccessor=t,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(e,t),this}setBuffer(e,t,r={}){if(34963===t.target)return this.setElementBuffer(t,r);const{location:n,accessor:s}=this._resolveLocationAndAccessor(e,t,t.accessor,r);return n>=0&&(this.values[n]=t,this.accessors[n]=s,this.clearDrawParams(),this.vertexArrayObject.setBuffer(n,t,s)),this}setConstant(e,t,r={}){const{location:n,accessor:s}=this._resolveLocationAndAccessor(e,t,Object.assign({size:t.length},r));return n>=0&&(t=this.vertexArrayObject._normalizeConstantArrayValue(t),this.values[n]=t,this.accessors[n]=s,this.clearDrawParams(),this.vertexArrayObject.enable(n,!1)),this}unbindBuffers(){return this.vertexArrayObject.bind((()=>{this.elements&&this.vertexArrayObject.setElementBuffer(null),this.buffer=this.buffer||new l.default(this.gl,{accessor:{size:4}});for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this.values[e]instanceof l.default&&(this.gl.disableVertexAttribArray(e),this.gl.bindBuffer(34962,this.buffer.handle),this.gl.vertexAttribPointer(e,1,5126,!1,0,0))})),this}bindBuffers(){return this.vertexArrayObject.bind((()=>{this.elements&&this.setElementBuffer(this.elements);for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++){const t=this.values[e];t instanceof l.default&&this.setBuffer(e,t)}})),this}bindForDraw(e,t,r){let n;return this.vertexArrayObject.bind((()=>{this._setConstantAttributes(e,t),n=r()})),n}_resolveLocationAndAccessor(e,t,r,n){const o={location:-1,accessor:null},{location:a,name:l}=this._getAttributeIndex(e);if(!Number.isFinite(a)||a<0)return this.unused[e]=t,s.log.once(3,(()=>`unused value ${e} in ${this.id}`))(),o;const c=this._getAttributeInfo(l||a);if(!c)return o;const u=this.accessors[a]||{},d=i.default.resolve(c.accessor,u,r,n),{size:h,type:f}=d;return p.assert(Number.isFinite(h)&&Number.isFinite(f)),{location:a,accessor:d}}_getAttributeInfo(e){return this.configuration&&this.configuration.getAttributeInfo(e)}_getAttributeIndex(e){const t=Number(e);if(Number.isFinite(t))return{location:t};const r=h.exec(e),n=r?r[1]:e,s=r?Number(r[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(n)+s,name:n}:{location:-1}}_setAttribute(e,t){if(t instanceof l.default)this.setBuffer(e,t);else if(Array.isArray(t)&&t.length&&t[0]instanceof l.default){const r=t[0],n=t[1];this.setBuffer(e,r,n)}else if(ArrayBuffer.isView(t)||Array.isArray(t)){const r=t;this.setConstant(e,r)}else{if(!(t.buffer instanceof l.default))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");{const r=t;this.setBuffer(e,r.buffer,r)}}}_setConstantAttributes(e,t){const r=Math.max(0|e,0|t);let n=this.values[0];ArrayBuffer.isView(n)&&this._setConstantAttributeZero(n,r);for(let e=1;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)n=this.values[e],ArrayBuffer.isView(n)&&this._setConstantAttribute(e,n)}_setConstantAttributeZero(e,t){if(u.default.isSupported(this.gl,{constantAttributeZero:!0}))return void this._setConstantAttribute(0,e);const r=this.vertexArrayObject.getConstantBuffer(t,e);this.vertexArrayObject.setBuffer(0,r,this.accessors[0])}_setConstantAttribute(e,t){u.default.setConstant(this.gl,e,t)}_updateDrawParams(){const e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0};for(let t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this._updateDrawParamsForLocation(e,t);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elementsAccessor.type||this.elements.accessor.type,e.indexOffset=this.elementsAccessor.offset||0),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e}_updateDrawParamsForLocation(e,t){const r=this.values[t],n=this.accessors[t];if(!r)return;const{divisor:s}=n,o=s>0;if(e.isInstanced=e.isInstanced||o,r instanceof l.default){const t=r;if(o){const r=t.getVertexCount(n);e.instanceCount=Math.min(e.instanceCount,r)}else{const r=t.getVertexCount(n);e.vertexCount=Math.min(e.vertexCount,r)}}}setElements(e=null,t={}){return s.log.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(e,t)}}},{"@luma.gl/gltools":"lC8CG","./accessor":"dExDJ","./buffer":"5XyLA","./vertex-array-object":"cmXzr","../utils/assert":"2lJLq","../utils/stub-methods":"8Ygqd","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],flfYe:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("../webgl-utils/attribute-utils"),s=e("../utils/assert");r.default=class{constructor(e){this.layout={},this.size=0;for(const t in e)this._addUniform(t,e[t]);this.size+=(4-this.size%4)%4;const t=new Float32Array(this.size);this.typedArray={5126:t,5124:new Int32Array(t.buffer),5125:new Uint32Array(t.buffer)}}getBytes(){return 4*this.size}getData(){return this.typedArray[5126]}getSubData(e){let t,r;if(void 0===e)t=this.data,r=0;else{const n=this.offsets[e],s=n+this.sizes[e];t=this.data.subarray(n,s),r=4*n}return{data:t,offset:r}}setUniforms(e){for(const t in e)this._setValue(t,e[t]);return this}_setValue(e,t){const r=this.layout[e];s.assert(r,"UniformLayoutStd140 illegal argument");const n=this.typedArray[r.type];1===r.size?n[r.offset]=t:n.set(t,r.offset)}_addUniform(e,t){const r=n.decomposeCompositeGLType(t);s.assert(r,"UniformBufferLayout illegal argument");const{type:o,components:i}=r;this.size=this._alignTo(this.size,i);const a=this.size;this.size+=i,this.layout[e]={type:o,size:i,offset:a}}_alignTo(e,t){switch(t){case 1:return e;case 2:return e+e%2;default:return e+(4-e%4)%4}}}},{"../webgl-utils/attribute-utils":"enuJK","../utils/assert":"2lJLq","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"6C3DS":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getDebugTableForUniforms",(()=>i));var s=e("../utils/assert"),o=e("../utils/format-value");function i({header:e="Uniforms",program:t,uniforms:r,undefinedOnly:n=!1}){s.assert(t);const i=".*Matrix",l=t._uniformSetters,c={},u=Object.keys(l).sort();let p=0;for(const t of u)t.match(".*_.*")||t.match(i)||a({table:c,header:e,uniforms:r,uniformName:t,undefinedOnly:n})&&p++;for(const t of u)t.match(i)&&a({table:c,header:e,uniforms:r,uniformName:t,undefinedOnly:n})&&p++;for(const t of u)c[t]||a({table:c,header:e,uniforms:r,uniformName:t,undefinedOnly:n})&&p++;let d=0;const h={};if(!n)for(const t in r){const n=r[t];c[t]||(d++,h[t]={Type:`NOT USED: ${n}`,[e]:o.formatValue(n)})}return{table:c,count:p,unusedTable:h,unusedCount:d}}function a({table:e,header:t,uniforms:r,uniformName:n,undefinedOnly:s}){const i=r[n],a=function(e){return null!=e}(i);return(!s||!a)&&(e[n]={[t]:a?o.formatValue(i):"N/A","Uniform Type":a?i:"NOT PROVIDED"},!0)}},{"../utils/assert":"2lJLq","../utils/format-value":"dCCok","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],dCCok:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t={}){const{isInteger:r=!1}=t;if(Array.isArray(e)||ArrayBuffer.isView(e))return function(e,t){const{maxElts:r=16,size:n=1}=t;let o="[";for(let i=0;i<e.length&&i<r;++i)i>0&&(o+=","+(i%n==0?" ":"")),o+=s(e[i],t);return`${o}${e.length>r?"...":"]"}`}(e,t);if(!Number.isFinite(e))return String(e);if(Math.abs(e)<1e-16)return r?"0":"0.";if(r)return e.toFixed(0);if(Math.abs(e)>100&&Math.abs(e)<1e4)return e.toFixed(0);const n=e.toPrecision(2);return n.indexOf(".0")===n.length-2?n.slice(0,-1):n}n.defineInteropFlag(r),n.export(r,"formatValue",(()=>s))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hBaAh:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getDebugTableForVertexArray",(()=>c));var s=e("../classes/buffer"),o=n.interopDefault(s),i=e("../webgl-utils/constants-to-keys"),a=e("../webgl-utils/attribute-utils"),l=e("../utils/format-value");function c({vertexArray:e,header:t="Attributes"}){if(!e.configuration)return{};const r={};e.elements&&(r.ELEMENT_ARRAY_BUFFER=u(e,e.elements,null,t));const n=e.values;for(const s in n){const o=e._getAttributeInfo(s);if(o){let i=`${s}: ${o.name}`;const a=e.accessors[o.location];a&&(i=`${s}: ${p(o.name,a)}`),r[i]=u(e,n[s],a,t)}}return r}function u(e,t,r,n){const{gl:s}=e;if(!t)return{[n]:"null","Format ":"N/A"};let a,c,u,p="NOT PROVIDED",d=1,h=0,f=0;if(r&&(p=r.type,d=r.size,p=String(p).replace("Array",""),a=-1!==p.indexOf("nt")),t instanceof o.default){const e=t,{data:o,changed:m}=e.getDebugData();let g;if(c=m?"*":"",u=o,f=e.byteLength,h=f/o.BYTES_PER_ELEMENT/d,r){g=`${r.divisor>0?"I ":"P "} ${h} (x${d}=${f} bytes ${i.getKey(s,p)})`}else a=!0,g=`${f} bytes`;return{[n]:`${c}${l.formatValue(u,{size:d,isInteger:a})}`,"Format ":g}}return u=t,d=t.length,p=String(t.constructor.name).replace("Array",""),a=-1!==p.indexOf("nt"),{[n]:`${l.formatValue(u,{size:d,isInteger:a})} (constant)`,"Format ":`${d}x${p} (constant)`}}function p(e,t){const{type:r,size:n}=t,s=a.getCompositeGLType(r,n);return s?`${e} (${s.name})`:e}},{"../classes/buffer":"5XyLA","../webgl-utils/constants-to-keys":"azBSH","../webgl-utils/attribute-utils":"enuJK","../utils/format-value":"dCCok","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"1URMH":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getDebugTableForProgramConfiguration",(()=>o));var s=e("../webgl-utils/attribute-utils");function o(e){const t={},r=`Accessors for ${e.id}`;for(const n of e.attributeInfos)if(n){t[`in ${i(n)}`]={[r]:JSON.stringify(n.accessor)}}for(const n of e.varyingInfos)if(n){t[`out ${i(n)}`]={[r]:JSON.stringify(n.accessor)}}return t}function i(e){const{type:t,size:r}=e.accessor,n=s.getCompositeGLType(t,r);return n?`${n.name} ${e.name}`:e.name}},{"../webgl-utils/attribute-utils":"enuJK","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],dsV7v:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"AnimationLoop",(()=>o.default)),n.export(r,"Model",(()=>a.default)),n.export(r,"ProgramManager",(()=>c.default)),n.export(r,"Transform",(()=>p.default)),n.export(r,"Geometry",(()=>h.default)),n.export(r,"ConeGeometry",(()=>m.default)),n.export(r,"CubeGeometry",(()=>y.default)),n.export(r,"CylinderGeometry",(()=>v.default)),n.export(r,"IcoSphereGeometry",(()=>_.default)),n.export(r,"PlaneGeometry",(()=>P.default)),n.export(r,"SphereGeometry",(()=>A.default)),n.export(r,"TruncatedConeGeometry",(()=>S.default)),n.export(r,"Timeline",(()=>j.Timeline)),n.export(r,"KeyFrames",(()=>C.KeyFrames)),n.export(r,"ClipSpace",(()=>M.default));var s=e("./lib/animation-loop"),o=n.interopDefault(s),i=e("./lib/model"),a=n.interopDefault(i),l=e("./lib/program-manager"),c=n.interopDefault(l),u=e("./transform/transform"),p=n.interopDefault(u),d=e("./geometry/geometry"),h=n.interopDefault(d),f=e("./geometries/cone-geometry"),m=n.interopDefault(f),g=e("./geometries/cube-geometry"),y=n.interopDefault(g),b=e("./geometries/cylinder-geometry"),v=n.interopDefault(b),x=e("./geometries/ico-sphere-geometry"),_=n.interopDefault(x),w=e("./geometries/plane-geometry"),P=n.interopDefault(w),E=e("./geometries/sphere-geometry"),A=n.interopDefault(E),T=e("./geometries/truncated-cone-geometry"),S=n.interopDefault(T),j=e("./animation/timeline"),C=e("./animation/key-frames"),I=e("./utils/clip-space"),M=n.interopDefault(I)},{"./lib/animation-loop":"jnZP4","./lib/model":"1RgR5","./lib/program-manager":"liRNe","./transform/transform":"hcR2s","./geometry/geometry":"7GIbS","./geometries/cone-geometry":"gpN1y","./geometries/cube-geometry":"jwgVv","./geometries/cylinder-geometry":"ipgRH","./geometries/ico-sphere-geometry":"81RTV","./geometries/plane-geometry":"lQM23","./geometries/sphere-geometry":"7sTXk","./geometries/truncated-cone-geometry":"fIZC9","./animation/timeline":"deRpX","./animation/key-frames":"jwczw","./utils/clip-space":"fYWA7","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jnZP4:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("@luma.gl/gltools"),s=e("@luma.gl/webgl");const o=e("probe.gl/env").isBrowser()&&"undefined"!=typeof document;let i=0;r.default=class{constructor(e={}){const{onCreateContext:t=(e=>n.createGLContext(e)),onAddHTML:r=null,onInitialize:o=(()=>{}),onRender:a=(()=>{}),onFinalize:l=(()=>{}),onError:c,gl:u=null,glOptions:p={},debug:d=!1,createFramebuffer:h=!1,autoResizeViewport:f=!0,autoResizeDrawingBuffer:m=!0,stats:g=s.lumaStats.get("animation-loop-"+i++)}=e;let{useDevicePixels:y=!0}=e;"useDevicePixelRatio"in e&&(s.log.deprecated("useDevicePixelRatio","useDevicePixels")(),y=e.useDevicePixelRatio),this.props={onCreateContext:t,onAddHTML:r,onInitialize:o,onRender:a,onFinalize:l,onError:c,gl:u,glOptions:p,debug:d,createFramebuffer:h},this.gl=u,this.needsRedraw=null,this.timeline=null,this.stats=g,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:f,autoResizeDrawingBuffer:m,useDevicePixels:y}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}delete(){this.stop(),this._setDisplay(null)}setNeedsRedraw(e){return s.assert("string"==typeof e),this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}start(e={}){if(this._running)return this;this._running=!0;const t=this._getPageLoadPromise().then((()=>!this._running||this._initialized?null:(this._createWebGLContext(e),this._createFramebuffer(),this._startEventHandling(),this._initializeCallbackData(),this._updateCallbackData(),this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._gpuTimeQuery=s.Query.isSupported(this.gl,["timers"])?new s.Query(this.gl):null,this._initialized=!0,this.onInitialize(this.animationProps)))).then((e=>{this._running&&(this._addCallbackData(e||{}),!1!==e&&this._startLoop())}));return this.props.onError&&t.catch(this.props.onError),this}redraw(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}stop(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((e=>{this._resolveNextFrame=e}))),this._nextFramePromise}async toDataURL(){return this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.gl.canvas.toDataURL()}isContextLost(){return this.gl.isContextLost()}onCreateContext(...e){return this.props.onCreateContext(...e)}onInitialize(...e){return this.props.onInitialize(...e)}onRender(...e){return this.props.onRender(...e)}onFinalize(...e){return this.props.onFinalize(...e)}getHTMLControlValue(e,t=1){const r=document.getElementById(e);return r?Number(r.value):t}setViewParameters(){return s.log.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}_startLoop(){const e=()=>{this._running&&(this.redraw(),this._animationFrameId=this._requestAnimationFrame(e))};this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(e)}_getPageLoadPromise(){return this._pageLoadPromise||(this._pageLoadPromise=o?new Promise(((e,t)=>{o&&"complete"===document.readyState?e(document):window.addEventListener("load",(()=>{e(document)}))})):Promise.resolve({})),this._pageLoadPromise}_setDisplay(e){this.display&&(this.display.delete(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_cancelAnimationFrame(e){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(e):s.cancelAnimationFrame(e)}_requestAnimationFrame(e){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(e):s.requestAnimationFrame(e)}_renderFrame(...e){this.display?this.display._renderFrame(...e):this.onRender(...e)}_clearNeedsRedraw(){this.needsRedraw=null}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}_initializeCallbackData(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}_updateCallbackData(){const{width:e,height:t,aspect:r}=this._getSizeAndAspect();e===this.animationProps.width&&t===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),r!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=t,this.animationProps.aspect=r,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}_finalizeCallbackData(){this.onFinalize(this.animationProps)}_addCallbackData(e){"object"==typeof e&&null!==e&&(this.animationProps=Object.assign({},this.animationProps,e))}_createWebGLContext(e){if(this.offScreen=e.canvas&&"undefined"!=typeof OffscreenCanvas&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,this.props.glOptions),this.gl=this.props.gl?n.instrumentGLContext(this.props.gl,e):this.onCreateContext(e),!n.isWebGL(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");n.resetParameters(this.gl),this._createInfoDiv()}_createInfoDiv(){if(this.gl.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(t);const r=this.props.onAddHTML(t);r&&(t.innerHTML=r)}}_getSizeAndAspect(){const e=this.gl.drawingBufferWidth,t=this.gl.drawingBufferHeight;let r=1;const{canvas:n}=this.gl;return n&&n.clientHeight?r=n.clientWidth/n.clientHeight:e>0&&t>0&&(r=e/t),{width:e,height:t,aspect:r}}_resizeViewport(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){this.autoResizeDrawingBuffer&&n.resizeGLContext(this.gl,{useDevicePixels:this.useDevicePixels})}_createFramebuffer(){this.props.createFramebuffer&&(this.framebuffer=new s.Framebuffer(this.gl))}_resizeFramebuffer(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}_beginTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}_endTimers(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}_startEventHandling(){const{canvas:e}=this.gl;e&&(e.addEventListener("mousemove",this._onMousemove),e.addEventListener("mouseleave",this._onMouseleave))}_onMousemove(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]}_onMouseleave(e){this.animationProps._mousePosition=null}}},{"@luma.gl/gltools":"lC8CG","@luma.gl/webgl":"ktJRJ","probe.gl/env":"3CmCn","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"1RgR5":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@luma.gl/gltools"),o=e("./program-manager"),i=n.interopDefault(o),a=e("@luma.gl/webgl"),l=e("./model-utils");const c=()=>{},u={};r.default=class{constructor(e,t={}){const{id:r=a.uid("model")}=t;a.assert(s.isWebGL(e)),this.id=r,this.gl=e,this.id=t.id||a.uid("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(t)}initialize(e){this.props={},this.programManager=e.programManager||i.default.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;const{program:t=null,vs:r,fs:n,modules:s,defines:o,inject:l,varyings:c,bufferMode:u,transpileToGLSL100:p}=e;this.programProps={program:t,vs:r,fs:n,modules:s,defines:o,inject:l,varyings:c,bufferMode:u,transpileToGLSL100:p},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(e.moduleSettings))),this.drawMode=void 0!==e.drawMode?e.drawMode:4,this.vertexCount=e.vertexCount||0,this.geometryBuffers={},this.isInstanced=e.isInstanced||e.instanced||e.instanceCount>0,this._setModelProps(e),this.geometry={},a.assert(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}setProps(e){this._setModelProps(e)}delete(){for(const e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}getDrawMode(){return this.drawMode}getVertexCount(){return this.vertexCount}getInstanceCount(){return this.instanceCount}getAttributes(){return this.attributes}getProgram(){return this.program}setProgram(e){const{program:t,vs:r,fs:n,modules:s,defines:o,inject:i,varyings:a,bufferMode:l,transpileToGLSL100:c}=e;this.programProps={program:t,vs:r,fs:n,modules:s,defines:o,inject:i,varyings:a,bufferMode:l,transpileToGLSL100:c},this._programDirty=!0}getUniforms(){return this.uniforms}setDrawMode(e){return this.drawMode=e,this}setVertexCount(e){return a.assert(Number.isFinite(e)),this.vertexCount=e,this}setInstanceCount(e){return a.assert(Number.isFinite(e)),this.instanceCount=e,this}setGeometry(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=l.getBuffersFromGeometry(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this}setAttributes(e={}){if(a.isObjectEmpty(e))return this;const t={};for(const r in e){const n=e[r];t[r]=n.getValue?n.getValue():n}return this.vertexArray.setAttributes(t),this}setUniforms(e={}){return Object.assign(this.uniforms,e),this}getModuleUniforms(e){this._checkProgram();const t=this.programManager.getUniforms(this.program);return t?t(e):{}}updateModuleSettings(e){const t=this.getModuleUniforms(e||{});return this.setUniforms(t)}clear(e){return a.clear(this.program.gl,e),this}draw(e={}){this._checkProgram();const{moduleSettings:t=null,framebuffer:r,uniforms:n={},attributes:s={},transformFeedback:o=this.transformFeedback,parameters:i={},vertexArray:l=this.vertexArray}=e;let p;this.setAttributes(s),this.updateModuleSettings(t),this.setUniforms(n),a.log.priority>=2&&(p=this._logDrawCallStart(2));const d=this.vertexArray.getDrawParams(),{isIndexed:h=d.isIndexed,indexType:f=d.indexType,indexOffset:m=d.indexOffset,vertexArrayInstanced:g=d.isInstanced}=this.props;g&&!this.isInstanced&&a.log.warn("Found instanced attributes on non-instanced model",this.id)();const{isInstanced:y,instanceCount:b}=this,{onBeforeRender:v=c,onAfterRender:x=c}=this.props;v(),this.program.setUniforms(this.uniforms);const _=this.program.draw(Object.assign(u,e,{logPriority:p,uniforms:null,framebuffer:r,parameters:i,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:l,transformFeedback:o,isIndexed:h,indexType:f,isInstanced:y,instanceCount:b,offset:h?m:0}));return x(),a.log.priority>=2&&this._logDrawCallEnd(p,l,r),_}transform(e={}){const{discard:t=!0,feedbackBuffers:r,unbindModels:n=[]}=e;let{parameters:s}=e;r&&this._setFeedbackBuffers(r),t&&(s=Object.assign({},s,{35977:t})),n.forEach((e=>e.vertexArray.unbindBuffers()));try{this.draw(Object.assign({},e,{parameters:s}))}finally{n.forEach((e=>e.vertexArray.bindBuffers()))}return this}render(e={}){return a.log.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()}_setModelProps(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)}_checkProgram(){if(!(this._programDirty||this.programManager.stateHash!==this._programManagerState))return;let{program:e}=this.programProps;if(e)this._managedProgram=!1;else{const{vs:t,fs:r,modules:n,inject:s,defines:o,varyings:i,bufferMode:a,transpileToGLSL100:l}=this.programProps;e=this.programManager.get({vs:t,fs:r,modules:n,inject:s,defines:o,varyings:i,bufferMode:a,transpileToGLSL100:l}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}a.assert(e instanceof a.Program,"Model needs a program"),this._programDirty=!1,e!==this.program&&(this.program=e,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new a.VertexArray(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}_deleteGeometryBuffers(){for(const e in this.geometryBuffers){const t=this.geometryBuffers[e][0]||this.geometryBuffers[e];t instanceof a.Buffer&&t.delete()}}_setAnimationProps(e){this.animated&&a.assert(e,"Model.draw(): animated uniforms but no animationProps")}_setFeedbackBuffers(e={}){if(a.isObjectEmpty(e))return this;const{gl:t}=this.program;return this.transformFeedback=this.transformFeedback||new a.TransformFeedback(t,{program:this.program}),this.transformFeedback.setBuffers(e),this}_logDrawCallStart(e){const t=e>3?0:1e4;if(!(Date.now()-this.lastLogTime<t))return this.lastLogTime=Date.now(),a.log.group(2,`>>> DRAWING MODEL ${this.id}`,{collapsed:a.log.level<=2})(),e}_logDrawCallEnd(e,t,r,n){if(void 0===e)return;const s=a.getDebugTableForVertexArray({vertexArray:t,header:`${this.id} attributes`,attributes:this._attributes}),{table:o,unusedTable:i,unusedCount:l}=a.getDebugTableForUniforms({header:`${this.id} uniforms`,program:this.program,uniforms:Object.assign({},this.program.uniforms,r)}),{table:c,count:u}=a.getDebugTableForUniforms({header:`${this.id} uniforms`,program:this.program,uniforms:Object.assign({},this.program.uniforms,r),undefinedOnly:!0});u>0&&a.log.log("MISSING UNIFORMS",Object.keys(c))(),l>0&&a.log.log("UNUSED UNIFORMS",Object.keys(i))();const p=a.getDebugTableForProgramConfiguration(this.vertexArray.configuration);a.log.table(e,s)(),a.log.table(e,o)(),a.log.table(e+1,p)(),n&&n.log({logLevel:2,message:`Rendered to ${n.id}`}),a.log.groupEnd(2,`>>> DRAWING MODEL ${this.id}`)()}}},{"@luma.gl/gltools":"lC8CG","./program-manager":"liRNe","@luma.gl/webgl":"ktJRJ","./model-utils":"1TKrY","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],liRNe:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("@luma.gl/shadertools"),s=e("@luma.gl/webgl");class o{static getDefaultProgramManager(e){return e.luma=e.luma||{},e.luma.defaultProgramManager=e.luma.defaultProgramManager||new o(e),e.luma.defaultProgramManager}constructor(e){this.gl=e,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}addDefaultModule(e){this._defaultModules.find((t=>t.name===e.name))||this._defaultModules.push(e),this.stateHash++}removeDefaultModule(e){const t="string"==typeof e?e:e.name;this._defaultModules=this._defaultModules.filter((e=>e.name!==t)),this.stateHash++}addShaderHook(e,t){t&&(e=Object.assign(t,{hook:e})),this._hookFunctions.push(e),this.stateHash++}get(e={}){const{vs:t="",fs:r="",defines:o={},inject:i={},varyings:a=[],bufferMode:l=35981,transpileToGLSL100:c=!1}=e,u=this._getModuleList(e.modules),p=this._getHash(t),d=this._getHash(r),h=u.map((e=>this._getHash(e.name))).sort(),f=a.map((e=>this._getHash(e))),m=Object.keys(o).sort(),g=Object.keys(i).sort(),y=[],b=[];for(const e of m)y.push(this._getHash(e)),y.push(this._getHash(o[e]));for(const e of g)b.push(this._getHash(e)),b.push(this._getHash(i[e]));const v=`${p}/${d}D${y.join("/")}M${h.join("/")}I${b.join("/")}V${f.join("/")}H${this.stateHash}B${l}${c?"T":""}`;if(!this._programCache[v]){const e=n.assembleShaders(this.gl,{vs:t,fs:r,modules:u,inject:i,defines:o,hookFunctions:this._hookFunctions,transpileToGLSL100:c});this._programCache[v]=new s.Program(this.gl,{hash:v,vs:e.vs,fs:e.fs,varyings:a,bufferMode:l}),this._getUniforms[v]=e.getUniforms||(e=>{}),this._useCounts[v]=0}return this._useCounts[v]++,this._programCache[v]}getUniforms(e){return this._getUniforms[e.hash]||null}release(e){const t=e.hash;this._useCounts[t]--,0===this._useCounts[t]&&(this._programCache[t].delete(),delete this._programCache[t],delete this._getUniforms[t],delete this._useCounts[t])}_getHash(e){return void 0===this._hashes[e]&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}_getModuleList(e=[]){const t=new Array(this._defaultModules.length+e.length),r={};let n=0;for(let e=0,s=this._defaultModules.length;e<s;++e){const s=this._defaultModules[e],o=s.name;t[n++]=s,r[o]=!0}for(let s=0,o=e.length;s<o;++s){const o=e[s],i=o.name;r[i]||(t[n++]=o,r[i]=!0)}return t.length=n,t}}r.default=o},{"@luma.gl/shadertools":"h97yR","@luma.gl/webgl":"ktJRJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],h97yR:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"assembleShaders",(()=>s.assembleShaders)),n.export(r,"combineInjects",(()=>o.combineInjects)),n.export(r,"normalizeShaderModule",(()=>i.normalizeShaderModule)),n.export(r,"getQualifierDetails",(()=>a.getQualifierDetails)),n.export(r,"getPassthroughFS",(()=>a.getPassthroughFS)),n.export(r,"typeToChannelSuffix",(()=>a.typeToChannelSuffix)),n.export(r,"typeToChannelCount",(()=>a.typeToChannelCount)),n.export(r,"convertToVec4",(()=>a.convertToVec4));var s=e("./lib/assemble-shaders"),o=e("./lib/inject-shader"),i=e("./lib/shader-module"),a=e("./utils/shader-utils"),l=e("./modules");n.exportAll(l,r)},{"./lib/assemble-shaders":"a3exJ","./lib/inject-shader":"cNkCP","./lib/shader-module":"4HWUN","./utils/shader-utils":"15E3L","./modules":"4LeaL","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],a3exJ:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"assembleShaders",(()=>f));var s=e("./constants"),o=e("./resolve-modules"),i=e("./platform-defines"),a=e("./inject-shader"),l=n.interopDefault(a),c=e("./transpile-shader"),u=n.interopDefault(c),p=e("../utils");const d=`\n\n${a.DECLARATION_INJECT_MARKER}\n\n`,h={[s.VERTEX_SHADER]:"vertex",[s.FRAGMENT_SHADER]:"fragment"};function f(e,t){const{vs:r,fs:n}=t,i=o.resolveModules(t.modules||[]);return{gl:e,vs:m(e,Object.assign({},t,{source:r,type:s.VERTEX_SHADER,modules:i})),fs:m(e,Object.assign({},t,{source:n,type:s.FRAGMENT_SHADER,modules:i})),getUniforms:g(i)}}function m(e,{id:t,source:r,type:n,modules:o,defines:a={},hookFunctions:c=[],inject:f={},transpileToGLSL100:m=!1,prologue:g=!0,log:y}){p.assert("string"==typeof r,"shader source must be a string");const b=n===s.VERTEX_SHADER,v=r.split("\n");let x=100,_="",w=r;0===v[0].indexOf("#version ")?(x=300,_=v[0],w=v.slice(1).join("\n")):_=`#version ${x}`;const P={};o.forEach((e=>{Object.assign(P,e.getDefines())})),Object.assign(P,a);let E=g?`${_}\n${function({id:e,source:t,type:r}){return e&&"string"==typeof e&&-1===t.indexOf("SHADER_NAME")?`\n#define SHADER_NAME ${e}_${h[r]}\n\n`:""}({id:t,source:r,type:n})}\n${function({type:e}){return`\n#define SHADER_TYPE_${h[e].toUpperCase()}\n`}({type:n})}\n${i.getPlatformShaderDefines(e)}\n${i.getVersionDefines(e,x,!b)}\n${function(e={}){let t=0,r="";for(const n in e){0===t&&(r+="\n// APPLICATION DEFINES\n"),t++;const s=e[n];(s||Number.isFinite(s))&&(r+=`#define ${n.toUpperCase()} ${e[n]}\n`)}0===t&&(r+="\n");return r}(P)}\n${b?"":"precision highp float;\n\n"}\n`:`${_}\n`;const A=function(e){const t={vs:{},fs:{}};return e.forEach((e=>{let r;"string"!=typeof e?(r=e,e=r.hook):r={},e=e.trim();const[n,s]=e.split(":"),o=e.replace(/\(.+/,"");t[n][o]=Object.assign(r,{signature:s})})),t}(c),T={},S={},j={};for(const e in f){const t="string"==typeof f[e]?{injection:f[e],order:0}:f[e],r=e.match(/^(v|f)s:(#)?([\w-]+)$/);if(r){const n=r[2],s=r[3];n?"decl"===s?S[e]=[t]:j[e]=[t]:T[e]=[t]}else j[e]=[t]}for(const e of o){y&&e.checkDeprecations(w,y);E+=e.getModuleSource(n,x);const t=e.injections[n];for(const e in t){const r=e.match(/^(v|f)s:#([\w-]+)$/);if(r){const n="decl"===r[2]?S:j;n[e]=n[e]||[],n[e].push(t[e])}else T[e]=T[e]||[],T[e].push(t[e])}}return E+=d,E=l.default(E,n,S),E+=function(e,t){let r="";for(const n in e){const s=e[n];if(r+=`void ${s.signature} {\n`,s.header&&(r+=`  ${s.header}`),t[n]){const e=t[n];e.sort(((e,t)=>e.order-t.order));for(const t of e)r+=`  ${t.injection}\n`}s.footer&&(r+=`  ${s.footer}`),r+="}\n"}return r}(A[n],T),E+=w,E=l.default(E,n,j),E=u.default(E,m?100:x,b),E}function g(e){return function(t){const r={};for(const n of e){const e=n.getUniforms(t,r);Object.assign(r,e)}return r}}},{"./constants":"j1Kir","./resolve-modules":"a82a7","./platform-defines":"3hlug","./inject-shader":"cNkCP","./transpile-shader":"dKsnD","../utils":"bxwii","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],j1Kir:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"VERTEX_SHADER",(()=>s)),n.export(r,"FRAGMENT_SHADER",(()=>o));const s="vs",o="fs"},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],a82a7:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"resolveModules",(()=>a)),n.export(r,"TEST_EXPORTS",(()=>p));var s=e("./shader-module"),o=n.interopDefault(s),i=e("../utils");function a(e){return l(u(e))}function l(e){const t={},r={};return c({modules:e,level:0,moduleMap:t,moduleDepth:r}),Object.keys(r).sort(((e,t)=>r[t]-r[e])).map((e=>t[e]))}function c({modules:e,level:t,moduleMap:r,moduleDepth:n}){if(t>=5)throw new Error("Possible loop in shader dependency graph");for(const s of e)r[s.name]=s,(void 0===n[s.name]||n[s.name]<t)&&(n[s.name]=t);for(const s of e)s.dependencies&&c({modules:s.dependencies,level:t+1,moduleMap:r,moduleDepth:n})}function u(e,t){return e.map((e=>(e instanceof o.default||(i.assert("string"!=typeof e,`Shader module use by name is deprecated. Import shader module '${e}' and use it directly.`),i.assert(e.name,"shader module has no name"),(e=new o.default(e)).dependencies=u(e.dependencies)),e)))}const p={getShaderDependencies:l,getDependencyGraph:c}},{"./shader-module":"4HWUN","../utils":"bxwii","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"4HWUN":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"normalizeShaderModule",(()=>a));var s=e("../utils"),o=e("./filters/prop-types");class i{constructor({name:e,vs:t,fs:r,dependencies:n=[],uniforms:i,getUniforms:a,deprecations:l=[],defines:c={},inject:u={},vertexShader:p,fragmentShader:d}){s.assert("string"==typeof e),this.name=e,this.vs=t||p,this.fs=r||d,this.getModuleUniforms=a,this.dependencies=n,this.deprecations=this._parseDeprecationDefinitions(l),this.defines=c,this.injections=function(e){const t={vs:{},fs:{}};for(const r in e){let n=e[r];const s=r.slice(0,2);"string"==typeof n&&(n={order:0,injection:n}),t[s][r]=n}return t}(u),i&&(this.uniforms=o.parsePropTypes(i))}getModuleSource(e){let t;switch(e){case"vs":t=this.vs||"";break;case"fs":t=this.fs||"";break;default:s.assert(!1)}return`#define MODULE_${this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_")}\n${t}// END MODULE_${this.name}\n\n`}getUniforms(e,t){return this.getModuleUniforms?this.getModuleUniforms(e,t):this.uniforms?this._defaultGetUniforms(e):{}}getDefines(){return this.defines}checkDeprecations(e,t){this.deprecations.forEach((r=>{r.regex.test(e)&&(r.deprecated?t.deprecated(r.old,r.new)():t.removed(r.old,r.new)())}))}_parseDeprecationDefinitions(e){return e.forEach((e=>{if("function"===e.type)e.regex=new RegExp(`\\b${e.old}\\(`);else e.regex=new RegExp(`${e.type} ${e.old};`)})),e}_defaultGetUniforms(e={}){const t={},r=this.uniforms;for(const n in r){const o=r[n];n in e&&!o.private?(o.validate&&s.assert(o.validate(e[n],o),`${this.name}: invalid ${n}`),t[n]=e[n]):t[n]=o.value}return t}}function a(e){if(!e.normalized&&(e.normalized=!0,e.uniforms&&!e.getUniforms)){const t=new i(e);e.getUniforms=t.getUniforms.bind(t)}return e}r.default=i},{"../utils":"bxwii","./filters/prop-types":"eQEdW","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],bxwii:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"assert",(()=>o.default));var s=e("./assert"),o=n.interopDefault(s)},{"./assert":"eytiy","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],eytiy:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e,t){if(!e)throw new Error(t||"shadertools: assertion failed.")}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],eQEdW:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"parsePropTypes",(()=>o));const s={number:{validate:(e,t)=>Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)},array:{validate:(e,t)=>Array.isArray(e)||ArrayBuffer.isView(e)}};function o(e){const t={};for(const r in e){const n=i(e[r]);t[r]=n}return t}function i(e){let t=a(e);return"object"===t?e?"type"in e?Object.assign({},e,s[e.type]):"value"in e?(t=a(e.value),Object.assign({type:t},e,s[t])):{type:"object",value:e}:{type:"object",value:null}:Object.assign({type:t,value:e},s[t])}function a(e){return Array.isArray(e)||ArrayBuffer.isView(e)?"array":typeof e}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3hlug":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getPlatformShaderDefines",(()=>o)),n.export(r,"getVersionDefines",(()=>i));var s=e("../utils/webgl-info");function o(e){switch(s.getContextInfo(e).gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}function i(e,t,r){let n="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return s.hasFeatures(e,s.FEATURES.GLSL_FRAG_DEPTH)&&(n+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),s.hasFeatures(e,s.FEATURES.GLSL_DERIVATIVES)&&s.canCompileGLGSExtension(e,s.FEATURES.GLSL_DERIVATIVES)&&(n+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),s.hasFeatures(e,s.FEATURES.GLSL_FRAG_DATA)&&s.canCompileGLGSExtension(e,s.FEATURES.GLSL_FRAG_DATA,{behavior:"require"})&&(n+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),s.hasFeatures(e,s.FEATURES.GLSL_TEXTURE_LOD)&&(n+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),n}},{"../utils/webgl-info":"jgo8J","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jgo8J:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"FEATURES",(()=>c)),n.export(r,"getContextInfo",(()=>u)),n.export(r,"canCompileGLGSExtension",(()=>d)),n.export(r,"hasFeatures",(()=>f));var s=e("./is-old-ie"),o=n.interopDefault(s),i=e("./assert"),a=n.interopDefault(i);const l={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},c={};function u(e){const t=e.getExtension("WEBGL_debug_renderer_info"),r=e.getParameter(t&&t.UNMASKED_VENDOR_WEBGL||7936),n=e.getParameter(t&&t.UNMASKED_RENDERER_WEBGL||7937),s=function(e,t){return e.match(/NVIDIA/i)||t.match(/NVIDIA/i)?"NVIDIA":e.match(/INTEL/i)||t.match(/INTEL/i)?"INTEL":e.match(/AMD/i)||t.match(/AMD/i)||e.match(/ATI/i)||t.match(/ATI/i)?"AMD":"UNKNOWN GPU"}(r,n);return{gpuVendor:s,vendor:r,renderer:n,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}Object.keys(l).forEach((e=>{c[e]=e}));const p={};function d(e,t,r={}){const n=l[t];if(a.default(n,t),!o.default(r))return!0;if(t in p)return p[t];const s=`#extension GL_${n[0]} : ${r.behavior||"enable"}\nvoid main(void) {}`,i=e.createShader(35633);e.shaderSource(i,s),e.compileShader(i);const c=e.getShaderParameter(i,35713);return e.deleteShader(i),p[t]=c,c}function h(e,t){const r=l[t];a.default(r,t);const n=function(e){return"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}(e)&&r[1]||r[0],s="string"==typeof n?Boolean(e.getExtension(n)):n;return a.default(!1===s||!0===s),s}function f(e,t){return(t=Array.isArray(t)?t:[t]).every((t=>h(e,t)))}},{"./is-old-ie":"llBMc","./assert":"eytiy","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],llBMc:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e={}){const t="undefined"!=typeof window&&window.navigator||{},r=e.userAgent||t.userAgent||"",n=-1!==r.indexOf("MSIE "),s=-1!==r.indexOf("Trident/");return n||s}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],cNkCP:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"DECLARATION_INJECT_MARKER",(()=>l)),n.export(r,"combineInjects",(()=>d));var s=e("../modules/module-injectors"),o=e("./constants"),i=e("../utils");const a={[o.VERTEX_SHADER]:s.MODULE_INJECTORS_VS,[o.FRAGMENT_SHADER]:s.MODULE_INJECTORS_FS},l="__LUMA_INJECT_DECLARATIONS__",c=/void\s+main\s*\([^)]*\)\s*\{\n?/,u=/}\n?[^{}]*$/,p=[];function d(e){const t={};return i.assert(Array.isArray(e)&&e.length>1),e.forEach((e=>{for(const r in e)t[r]=t[r]?`${t[r]}\n${e[r]}`:e[r]})),t}r.default=function(e,t,r,n=!1){const s=t===o.VERTEX_SHADER;for(const t in r){const n=r[t];n.sort(((e,t)=>e.order-t.order)),p.length=n.length;for(let e=0,t=n.length;e<t;++e)p[e]=n[e].injection;const o=`${p.join("\n")}\n`;switch(t){case"vs:#decl":s&&(e=e.replace(l,o));break;case"vs:#main-start":s&&(e=e.replace(c,(e=>e+o)));break;case"vs:#main-end":s&&(e=e.replace(u,(e=>o+e)));break;case"fs:#decl":s||(e=e.replace(l,o));break;case"fs:#main-start":s||(e=e.replace(c,(e=>e+o)));break;case"fs:#main-end":s||(e=e.replace(u,(e=>o+e)));break;default:e=e.replace(t,(e=>e+o))}}return e=e.replace(l,""),n&&(e=e.replace(/\}\s*$/,(e=>e+a[t]))),e}},{"../modules/module-injectors":"d5JbH","./constants":"j1Kir","../utils":"bxwii","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],d5JbH:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"MODULE_INJECTORS_VS",(()=>s)),n.export(r,"MODULE_INJECTORS_FS",(()=>o));const s="#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n",o="#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],dKsnD:[function(e,t,r){function n(e){return new RegExp(`\\b${e}[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)`,"g")}e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);const s=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],o=[...s,[n("attribute"),"in $1"],[n("varying"),"out $1"]],i=[...s,[n("varying"),"in $1"]],a=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],l=[...a,[n("in"),"attribute $1"],[n("out"),"varying $1"]],c=[...a,[n("in"),"varying $1"]],u="gl_FragColor",p=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,d=/void\s+main\s*\([^)]*\)\s*\{\n?/;function h(e,t){for(const[r,n]of t)e=e.replace(r,n);return e}r.default=function(e,t,r){switch(t){case 300:return r?h(e,o):function(e){const t=(e=h(e,i)).match(p);if(t){const r=t[1];e=e.replace(new RegExp("\\bgl_FragColor\\b","g"),r)}else{const t="fragmentColor";e=e.replace(d,(e=>`out vec4 ${t};\n${e}`)).replace(new RegExp("\\bgl_FragColor\\b","g"),t)}return e}(e);case 100:return r?h(e,l):function(e){const t=(e=h(e,c)).match(p);if(t){const r=t[1];e=e.replace(p,"").replace(new RegExp(`\\b${r}\\b`,"g"),u)}return e}(e);default:throw new Error(`unknown GLSL version ${t}`)}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"15E3L":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getQualifierDetails",(()=>a)),n.export(r,"getPassthroughFS",(()=>l)),n.export(r,"typeToChannelSuffix",(()=>c)),n.export(r,"typeToChannelCount",(()=>u)),n.export(r,"convertToVec4",(()=>p));var s=e("../utils");const o="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",i=`#version 300 es\n${o}`;function a(e,t){t=Array.isArray(t)?t:[t];const r=e.replace(/^\s+/,"").split(/\s+/),[n,s,o]=r;if(!t.includes(n)||!s||!o)return null;return{qualifier:n,type:s,name:o.split(";")[0]}}function l(e={}){const{version:t=100,input:r,inputType:n,output:s}=e;if(!r)return 300===t?i:t>300?`#version ${t}\n${o}`:"void main() {gl_FragColor = vec4(0);}";const a=p(r,n);return t>=300?`#version ${t} ${300===t?"es":""}\nin ${n} ${r};\nout vec4 ${s};\nvoid main() {\n  ${s} = ${a};\n}`:`varying ${n} ${r};\nvoid main() {\n  gl_FragColor = ${a};\n}`}function c(e){switch(e){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return s.assert(!1),null}}function u(e){switch(e){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return s.assert(!1),null}}function p(e,t){switch(t){case"float":return`vec4(${e}, 0.0, 0.0, 1.0)`;case"vec2":return`vec4(${e}, 0.0, 1.0)`;case"vec3":return`vec4(${e}, 1.0)`;case"vec4":return e;default:return s.assert(!1),null}}},{"../utils":"bxwii","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"4LeaL":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"random",(()=>s.random)),n.export(r,"fp32",(()=>o.fp32)),n.export(r,"fp64",(()=>i.fp64)),n.export(r,"fp64arithmetic",(()=>i.fp64arithmetic)),n.export(r,"project",(()=>a.project)),n.export(r,"lights",(()=>l.lights)),n.export(r,"dirlight",(()=>c.dirlight)),n.export(r,"picking",(()=>u.picking)),n.export(r,"gouraudLighting",(()=>p.gouraudLighting)),n.export(r,"phongLighting",(()=>p.phongLighting)),n.export(r,"pbr",(()=>d.pbr)),n.export(r,"tiltShift",(()=>h.tiltShift)),n.export(r,"triangleBlur",(()=>f.triangleBlur)),n.export(r,"zoomBlur",(()=>m.zoomBlur)),n.export(r,"brightnessContrast",(()=>g.brightnessContrast)),n.export(r,"denoise",(()=>y.denoise)),n.export(r,"hueSaturation",(()=>b.hueSaturation)),n.export(r,"noise",(()=>v.noise)),n.export(r,"sepia",(()=>x.sepia)),n.export(r,"vibrance",(()=>_.vibrance)),n.export(r,"vignette",(()=>w.vignette)),n.export(r,"colorHalftone",(()=>P.colorHalftone)),n.export(r,"dotScreen",(()=>E.dotScreen)),n.export(r,"edgeWork",(()=>A.edgeWork)),n.export(r,"hexagonalPixelate",(()=>T.hexagonalPixelate)),n.export(r,"ink",(()=>S.ink)),n.export(r,"magnify",(()=>j.magnify)),n.export(r,"bulgePinch",(()=>C.bulgePinch)),n.export(r,"swirl",(()=>I.swirl)),n.export(r,"_warp",(()=>M.warp)),n.export(r,"fxaa",(()=>k.fxaa)),n.export(r,"_transform",(()=>L.transform));var s=e("./utils/random"),o=e("./fp32/fp32"),i=e("./fp64/fp64"),a=e("./project/project"),l=e("./lights/lights"),c=e("./dirlight/dirlight"),u=e("./picking/picking"),p=e("./phong-lighting/phong-lighting"),d=e("./pbr/pbr"),h=e("./image-blur-filters/tiltshift"),f=e("./image-blur-filters/triangleblur"),m=e("./image-blur-filters/zoomblur"),g=e("./image-adjust-filters/brightnesscontrast"),y=e("./image-adjust-filters/denoise"),b=e("./image-adjust-filters/huesaturation"),v=e("./image-adjust-filters/noise"),x=e("./image-adjust-filters/sepia"),_=e("./image-adjust-filters/vibrance"),w=e("./image-adjust-filters/vignette"),P=e("./image-fun-filters/colorhalftone"),E=e("./image-fun-filters/dotscreen"),A=e("./image-fun-filters/edgework"),T=e("./image-fun-filters/hexagonalpixelate"),S=e("./image-fun-filters/ink"),j=e("./image-fun-filters/magnify"),C=e("./image-warp-filters/bulgepinch"),I=e("./image-warp-filters/swirl"),M=e("./image-warp-filters/warp"),k=e("./fxaa/fxaa"),L=e("./transform/transform")},{"./utils/random":"ft2wh","./fp32/fp32":"5xQ2B","./fp64/fp64":"9bCcj","./project/project":"juZqi","./lights/lights":"1mMDH","./dirlight/dirlight":"jyKKL","./picking/picking":"2Na8d","./phong-lighting/phong-lighting":"4V1eo","./pbr/pbr":"aPd96","./image-blur-filters/tiltshift":"fY7Zz","./image-blur-filters/triangleblur":"hVzPw","./image-blur-filters/zoomblur":"jU8M3","./image-adjust-filters/brightnesscontrast":"7FdCL","./image-adjust-filters/denoise":"25I0l","./image-adjust-filters/huesaturation":"8gnKC","./image-adjust-filters/noise":"ljz58","./image-adjust-filters/sepia":"dJ0yt","./image-adjust-filters/vibrance":"8CXBV","./image-adjust-filters/vignette":"eA9DX","./image-fun-filters/colorhalftone":"6OFhf","./image-fun-filters/dotscreen":"a9nGg","./image-fun-filters/edgework":"1me9m","./image-fun-filters/hexagonalpixelate":"1cvYW","./image-fun-filters/ink":"d3z9F","./image-fun-filters/magnify":"5i5Yr","./image-warp-filters/bulgepinch":"7ZlgX","./image-warp-filters/swirl":"hZQg4","./image-warp-filters/warp":"3WzfY","./fxaa/fxaa":"lpj49","./transform/transform":"7JKQM","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ft2wh:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"random",(()=>s));const s={name:"random",fs:"float random(vec3 scale, float seed) {\n  return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n"}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"5xQ2B":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"fp32",(()=>s));const s={name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 1.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 1.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"9bCcj":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"fp64ify",(()=>s.fp64ify)),n.export(r,"fp64LowPart",(()=>s.fp64LowPart)),n.export(r,"fp64ifyMatrix4",(()=>s.fp64ifyMatrix4)),n.export(r,"fp64arithmetic",(()=>u)),n.export(r,"fp64",(()=>p));var s=e("./fp64-utils"),o=e("./fp64-arithmetic.glsl"),i=n.interopDefault(o),a=e("./fp64-functions.glsl"),l=n.interopDefault(a);const c={ONE:1};const u={name:"fp64-arithmetic",vs:i.default,fs:null,getUniforms:function(){return c},fp64ify:s.fp64ify,fp64LowPart:s.fp64LowPart,fp64ifyMatrix4:s.fp64ifyMatrix4},p={name:"fp64",vs:l.default,fs:null,dependencies:[u],fp64ify:s.fp64ify,fp64LowPart:s.fp64LowPart,fp64ifyMatrix4:s.fp64ifyMatrix4}},{"./fp64-utils":"5M22P","./fp64-arithmetic.glsl":"5kig7","./fp64-functions.glsl":"a4JRR","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"5M22P":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t=[],r=0){const n=Math.fround(e),s=e-n;return t[r]=n,t[r+1]=s,t}function o(e){return e-Math.fround(e)}function i(e){const t=new Float32Array(32);for(let r=0;r<4;++r)for(let n=0;n<4;++n){const o=4*r+n;s(e[4*n+r],t,2*o)}return t}n.defineInteropFlag(r),n.export(r,"fp64ify",(()=>s)),n.export(r,"fp64LowPart",(()=>o)),n.export(r,"fp64ifyMatrix4",(()=>i))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"5kig7":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default="uniform float ONE;\nvec2 split(float a) {\n  const float SPLIT = 4097.0;\n  float t = a * SPLIT;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float a_hi = t * ONE - (t - a);\n  float a_lo = a * ONE - a_hi;\n#else\n  float a_hi = t - (t - a);\n  float a_lo = a - a_hi;\n#endif\n  return vec2(a_hi, a_lo);\n}\nvec2 split2(vec2 a) {\n  vec2 b = split(a.x);\n  b.y += a.y;\n  return b;\n}\nvec2 quickTwoSum(float a, float b) {\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float sum = (a + b) * ONE;\n  float err = b - (sum - a) * ONE;\n#else\n  float sum = a + b;\n  float err = b - (sum - a);\n#endif\n  return vec2(sum, err);\n}\nvec2 twoSum(float a, float b) {\n  float s = (a + b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE + (b - v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) + (b - v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSub(float a, float b) {\n  float s = (a - b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE - (b + v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) - (b + v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSqr(float a) {\n  float prod = a * a;\n  vec2 a_fp64 = split(a);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float err = ((a_fp64.x * a_fp64.x - prod) * ONE + 2.0 * a_fp64.x *\n    a_fp64.y * ONE * ONE) + a_fp64.y * a_fp64.y * ONE * ONE * ONE;\n#else\n  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;\n#endif\n  return vec2(prod, err);\n}\n\nvec2 twoProd(float a, float b) {\n  float prod = a * b;\n  vec2 a_fp64 = split(a);\n  vec2 b_fp64 = split(b);\n  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +\n    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;\n  return vec2(prod, err);\n}\n\nvec2 sum_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSum(a.x, b.x);\n  t = twoSum(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 sub_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSub(a.x, b.x);\n  t = twoSub(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 mul_fp64(vec2 a, vec2 b) {\n  vec2 prod = twoProd(a.x, b.x);\n  prod.y += a.x * b.y;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  prod.y += a.y * b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  return prod;\n}\n\nvec2 div_fp64(vec2 a, vec2 b) {\n  float xn = 1.0 / b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  vec2 yn = mul_fp64(a, vec2(xn, 0));\n#else\n  vec2 yn = a * xn;\n#endif\n  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;\n  vec2 prod = twoProd(xn, diff);\n  return sum_fp64(yn, prod);\n}\n\nvec2 sqrt_fp64(vec2 a) {\n  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n\n  float x = 1.0 / sqrt(a.x);\n  float yn = a.x * x;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  vec2 yn_sqr = twoSqr(yn) * ONE;\n#else\n  vec2 yn_sqr = twoSqr(yn);\n#endif\n  float diff = sub_fp64(a, yn_sqr).x;\n  vec2 prod = twoProd(x * 0.5, diff);\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  return sum_fp64(split(yn), prod);\n#else\n  return sum_fp64(vec2(yn, 0.0), prod);\n#endif\n}\n"},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],a4JRR:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default="const vec2 E_FP64 = vec2(2.7182817459106445e+00, 8.254840366817007e-08);\nconst vec2 LOG2_FP64 = vec2(0.6931471824645996e+00, -1.9046542121259336e-09);\nconst vec2 PI_FP64 = vec2(3.1415927410125732, -8.742278012618954e-8);\nconst vec2 TWO_PI_FP64 = vec2(6.2831854820251465, -1.7484556025237907e-7);\nconst vec2 PI_2_FP64 = vec2(1.5707963705062866, -4.371139006309477e-8);\nconst vec2 PI_4_FP64 = vec2(0.7853981852531433, -2.1855695031547384e-8);\nconst vec2 PI_16_FP64 = vec2(0.19634954631328583, -5.463923757886846e-9);\nconst vec2 PI_16_2_FP64 = vec2(0.39269909262657166, -1.0927847515773692e-8);\nconst vec2 PI_16_3_FP64 = vec2(0.5890486240386963, -1.4906100798128818e-9);\nconst vec2 PI_180_FP64 = vec2(0.01745329238474369, 1.3519960498364902e-10);\n\nconst vec2 SIN_TABLE_0_FP64 = vec2(0.19509032368659973, -1.6704714833615242e-9);\nconst vec2 SIN_TABLE_1_FP64 = vec2(0.3826834261417389, 6.22335089017767e-9);\nconst vec2 SIN_TABLE_2_FP64 = vec2(0.5555702447891235, -1.1769521357507529e-8);\nconst vec2 SIN_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617041793133e-8);\n\nconst vec2 COS_TABLE_0_FP64 = vec2(0.9807852506637573, 2.9739473106360492e-8);\nconst vec2 COS_TABLE_1_FP64 = vec2(0.9238795042037964, 2.8307490351764386e-8);\nconst vec2 COS_TABLE_2_FP64 = vec2(0.8314695954322815, 1.6870263741530778e-8);\nconst vec2 COS_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617152815436e-8);\n\nconst vec2 INVERSE_FACTORIAL_3_FP64 = vec2(1.666666716337204e-01, -4.967053879312289e-09);\nconst vec2 INVERSE_FACTORIAL_4_FP64 = vec2(4.16666679084301e-02, -1.2417634698280722e-09);\nconst vec2 INVERSE_FACTORIAL_5_FP64 = vec2(8.333333767950535e-03, -4.34617203337595e-10);\nconst vec2 INVERSE_FACTORIAL_6_FP64 = vec2(1.3888889225199819e-03, -3.3631094437103215e-11);\nconst vec2 INVERSE_FACTORIAL_7_FP64 = vec2(1.9841270113829523e-04,  -2.725596874933456e-12);\nconst vec2 INVERSE_FACTORIAL_8_FP64 = vec2(2.4801587642286904e-05, -3.406996025904184e-13);\nconst vec2 INVERSE_FACTORIAL_9_FP64 = vec2(2.75573188446287533e-06, 3.7935713937038186e-14);\nconst vec2 INVERSE_FACTORIAL_10_FP64 = vec2(2.755731998149713e-07, -7.575112367869873e-15);\n\nfloat nint(float d) {\n    if (d == floor(d)) return d;\n    return floor(d + 0.5);\n}\n\nvec2 nint_fp64(vec2 a) {\n    float hi = nint(a.x);\n    float lo;\n    vec2 tmp;\n    if (hi == a.x) {\n        lo = nint(a.y);\n        tmp = quickTwoSum(hi, lo);\n    } else {\n        lo = 0.0;\n        if (abs(hi - a.x) == 0.5 && a.y < 0.0) {\n            hi -= 1.0;\n        }\n        tmp = vec2(hi, lo);\n    }\n    return tmp;\n}\n\nvec2 exp_fp64(vec2 a) {\n\n  const int k_power = 4;\n  const float k = 16.0;\n\n  const float inv_k = 1.0 / k;\n\n  if (a.x <= -88.0) return vec2(0.0, 0.0);\n  if (a.x >= 88.0) return vec2(1.0 / 0.0, 1.0 / 0.0);\n  if (a.x == 0.0 && a.y == 0.0) return vec2(1.0, 0.0);\n  if (a.x == 1.0 && a.y == 0.0) return E_FP64;\n\n  float m = floor(a.x / LOG2_FP64.x + 0.5);\n  vec2 r = sub_fp64(a, mul_fp64(LOG2_FP64, vec2(m, 0.0))) * inv_k;\n  vec2 s, t, p;\n\n  p = mul_fp64(r, r);\n  s = sum_fp64(r, p * 0.5);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_3_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_4_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_5_FP64);\n\n\n\n\n\n\n  s = sum_fp64(s, t);\n  for (int i = 0; i < k_power; i++) {\n    s = sum_fp64(s * 2.0, mul_fp64(s, s));\n  }\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = sum_fp64(s, vec2(ONE, 0.0));\n#else\n  s = sum_fp64(s, vec2(1.0, 0.0));\n#endif\n\n  return s * pow(2.0, m);\n}\n\nvec2 log_fp64(vec2 a)\n{\n  if (a.x == 1.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x <= 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n  vec2 x = vec2(log(a.x), 0.0);\n  vec2 s;\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = vec2(ONE, 0.0);\n#else\n  s = vec2(1.0, 0.0);\n#endif\n\n  x = sub_fp64(sum_fp64(x, mul_fp64(a, exp_fp64(-x))), s);\n  return x;\n}\n\nvec2 sin_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(0.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  s = a;\n  r = a;\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_3_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_5_FP64);\n  s = sum_fp64(s, t);\n\n\n\n\n\n\n  return s;\n}\n\nvec2 cos_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(1.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  r = x;\n  s = sum_fp64(vec2(1.0, 0.0), r * 0.5);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_4_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_6_FP64);\n  s = sum_fp64(s, t);\n\n\n\n\n\n\n  return s;\n}\n\nvoid sincos_taylor_fp64(vec2 a, out vec2 sin_t, out vec2 cos_t) {\n  if (a.x == 0.0 && a.y == 0.0) {\n    sin_t = vec2(0.0, 0.0);\n    cos_t = vec2(1.0, 0.0);\n  }\n\n  sin_t = sin_taylor_fp64(a);\n  cos_t = sqrt_fp64(sub_fp64(vec2(1.0, 0.0), mul_fp64(sin_t, sin_t)));\n}\n\nvec2 sin_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return sin_taylor_fp64(t);\n        } else if (j == 1) {\n            return cos_taylor_fp64(t);\n        } else if (j == -1) {\n            return -cos_taylor_fp64(t);\n        } else {\n            return -sin_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 cos_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(1.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return cos_taylor_fp64(t);\n        } else if (j == 1) {\n            return -sin_taylor_fp64(t);\n        } else if (j == -1) {\n            return sin_taylor_fp64(t);\n        } else {\n            return -cos_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 tan_fp64(vec2 a) {\n    vec2 sin_a;\n    vec2 cos_a;\n\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n    vec2 sin_t, cos_t;\n    vec2 s, c;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#else\n        if (abs_k == 1) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs_k == 2) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs_k == 3) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs_k == 4) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#endif\n        if (k > 0) {\n            s = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            s = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return div_fp64(sin_a, cos_a);\n}\n\nvec2 radians_fp64(vec2 degree) {\n  return mul_fp64(degree, PI_180_FP64);\n}\n\nvec2 mix_fp64(vec2 a, vec2 b, float x) {\n  vec2 range = sub_fp64(b, a);\n  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));\n}\n\nvoid vec2_sum_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sum_fp64(a[0], b[0]);\n    out_val[1] = sum_fp64(a[1], b[1]);\n}\n\nvoid vec2_sub_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sub_fp64(a[0], b[0]);\n    out_val[1] = sub_fp64(a[1], b[1]);\n}\n\nvoid vec2_mul_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = mul_fp64(a[0], b[0]);\n    out_val[1] = mul_fp64(a[1], b[1]);\n}\n\nvoid vec2_div_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = div_fp64(a[0], b[0]);\n    out_val[1] = div_fp64(a[1], b[1]);\n}\n\nvoid vec2_mix_fp64(vec2 x[2], vec2 y[2], float a, out vec2 out_val[2]) {\n  vec2 range[2];\n  vec2_sub_fp64(y, x, range);\n  vec2 portion[2];\n  portion[0] = range[0] * a;\n  portion[1] = range[1] * a;\n  vec2_sum_fp64(x, portion, out_val);\n}\n\nvec2 vec2_length_fp64(vec2 x[2]) {\n  return sqrt_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])));\n}\n\nvoid vec2_normalize_fp64(vec2 x[2], out vec2 out_val[2]) {\n  vec2 length = vec2_length_fp64(x);\n  vec2 length_vec2[2];\n  length_vec2[0] = length;\n  length_vec2[1] = length;\n\n  vec2_div_fp64(x, length_vec2, out_val);\n}\n\nvec2 vec2_distance_fp64(vec2 x[2], vec2 y[2]) {\n  vec2 diff[2];\n  vec2_sub_fp64(x, y, diff);\n  return vec2_length_fp64(diff);\n}\n\nvec2 vec2_dot_fp64(vec2 a[2], vec2 b[2]) {\n  vec2 v[2];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n\n  return sum_fp64(v[0], v[1]);\n}\nvoid vec3_sub_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec3_sum_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvec2 vec3_length_fp64(vec2 x[3]) {\n  return sqrt_fp64(sum_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])),\n    mul_fp64(x[2], x[2])));\n}\n\nvec2 vec3_distance_fp64(vec2 x[3], vec2 y[3]) {\n  vec2 diff[3];\n  vec3_sub_fp64(x, y, diff);\n  return vec3_length_fp64(diff);\n}\nvoid vec4_fp64(vec4 a, out vec2 out_val[4]) {\n  out_val[0].x = a[0];\n  out_val[0].y = 0.0;\n\n  out_val[1].x = a[1];\n  out_val[1].y = 0.0;\n\n  out_val[2].x = a[2];\n  out_val[2].y = 0.0;\n\n  out_val[3].x = a[3];\n  out_val[3].y = 0.0;\n}\n\nvoid vec4_scalar_mul_fp64(vec2 a[4], vec2 b, out vec2 out_val[4]) {\n  out_val[0] = mul_fp64(a[0], b);\n  out_val[1] = mul_fp64(a[1], b);\n  out_val[2] = mul_fp64(a[2], b);\n  out_val[3] = mul_fp64(a[3], b);\n}\n\nvoid vec4_sum_fp64(vec2 a[4], vec2 b[4], out vec2 out_val[4]) {\n  for (int i = 0; i < 4; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec4_dot_fp64(vec2 a[4], vec2 b[4], out vec2 out_val) {\n  vec2 v[4];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n  v[2] = mul_fp64(a[2], b[2]);\n  v[3] = mul_fp64(a[3], b[3]);\n\n  out_val = sum_fp64(sum_fp64(v[0], v[1]), sum_fp64(v[2], v[3]));\n}\n\nvoid mat4_vec4_mul_fp64(vec2 b[16], vec2 a[4], out vec2 out_val[4]) {\n  vec2 tmp[4];\n\n  for (int i = 0; i < 4; i++)\n  {\n    for (int j = 0; j < 4; j++)\n    {\n      tmp[j] = b[j + i * 4];\n    }\n    vec4_dot_fp64(a, tmp, out_val[i]);\n  }\n}\n"},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],juZqi:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"project",(()=>l));var s=e("@math.gl/core");const o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i={modelMatrix:o,viewMatrix:o,projectionMatrix:o,cameraPositionWorld:[0,0,0]};const a="varying vec4 project_vPositionWorld;\nvarying vec3 project_vNormalWorld;\n\nvec4 project_getPosition_World() {\n  return project_vPositionWorld;\n}\n\nvec3 project_getNormal_World() {\n  return project_vNormalWorld;\n}\n",l={name:"project",getUniforms:function(e=i,t={}){const r={};return void 0!==e.modelMatrix&&(r.modelMatrix=e.modelMatrix),void 0!==e.viewMatrix&&(r.viewMatrix=e.viewMatrix),void 0!==e.projectionMatrix&&(r.projectionMatrix=e.projectionMatrix),void 0!==e.cameraPositionWorld&&(r.cameraPositionWorld=e.cameraPositionWorld),void 0===e.projectionMatrix&&void 0===e.viewMatrix||(r.viewProjectionMatrix=new s.Matrix4(e.projectionMatrix).multiplyRight(e.viewMatrix)),r},vs:`${a}\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewProjectionMatrix;\nuniform vec3 cameraPositionWorld;\n\nstruct World {\n  vec3 position;\n  vec3 normal;\n};\n\nWorld world;\n\nvoid project_setPosition(vec4 position) {\n  project_vPositionWorld = position;\n}\n\nvoid project_setNormal(vec3 normal) {\n  project_vNormalWorld = normal;\n}\n\nvoid project_setPositionAndNormal_World(vec3 position, vec3 normal) {\n  world.position = position;\n  world.normal = normal;\n}\n\nvoid project_setPositionAndNormal_Model(vec3 position, vec3 normal) {\n  world.position = (modelMatrix * vec4(position, 1.)).xyz;\n  world.normal = mat3(modelMatrix) * normal;\n}\n\nvec4 project_model_to_clipspace(vec4 position) {\n  return viewProjectionMatrix * modelMatrix * position;\n}\n\nvec4 project_model_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * modelMatrix * vec4(position, 1.);\n}\n\nvec4 project_world_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_view_to_clipspace(vec3 position) {\n  return projectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n`,fs:`\n${a}`}},{"@math.gl/core":"aMS0w","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],aMS0w:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"Vector2",(()=>i.default)),n.export(r,"Vector3",(()=>l.default)),n.export(r,"Vector4",(()=>u.default)),n.export(r,"Matrix3",(()=>d.default)),n.export(r,"Matrix4",(()=>f.default)),n.export(r,"Quaternion",(()=>g.default)),n.export(r,"config",(()=>s.config)),n.export(r,"configure",(()=>s.configure)),n.export(r,"formatValue",(()=>s.formatValue)),n.export(r,"isArray",(()=>s.isArray)),n.export(r,"clone",(()=>s.clone)),n.export(r,"equals",(()=>s.equals)),n.export(r,"exactEquals",(()=>s.exactEquals)),n.export(r,"toRadians",(()=>s.toRadians)),n.export(r,"toDegrees",(()=>s.toDegrees)),n.export(r,"radians",(()=>s.radians)),n.export(r,"degrees",(()=>s.degrees)),n.export(r,"sin",(()=>s.sin)),n.export(r,"cos",(()=>s.cos)),n.export(r,"tan",(()=>s.tan)),n.export(r,"asin",(()=>s.asin)),n.export(r,"acos",(()=>s.acos)),n.export(r,"atan",(()=>s.atan)),n.export(r,"clamp",(()=>s.clamp)),n.export(r,"lerp",(()=>s.lerp)),n.export(r,"withEpsilon",(()=>s.withEpsilon)),n.export(r,"checkNumber",(()=>y.checkNumber)),n.export(r,"_MathUtils",(()=>v.default)),n.export(r,"SphericalCoordinates",(()=>_.default)),n.export(r,"Pose",(()=>P.default)),n.export(r,"Euler",(()=>A.default)),n.export(r,"assert",(()=>S.default)),n.export(r,"_SphericalCoordinates",(()=>_.default)),n.export(r,"_Pose",(()=>P.default)),n.export(r,"_Euler",(()=>A.default));var s=e("./lib/common"),o=e("./classes/vector2"),i=n.interopDefault(o),a=e("./classes/vector3"),l=n.interopDefault(a),c=e("./classes/vector4"),u=n.interopDefault(c),p=e("./classes/matrix3"),d=n.interopDefault(p),h=e("./classes/matrix4"),f=n.interopDefault(h),m=e("./classes/quaternion"),g=n.interopDefault(m),y=e("./lib/validators"),b=e("./lib/math-utils"),v=n.interopDefault(b),x=e("./classes/spherical-coordinates"),_=n.interopDefault(x),w=e("./classes/pose"),P=n.interopDefault(w),E=e("./classes/euler"),A=n.interopDefault(E),T=e("./lib/assert"),S=n.interopDefault(T),j=arguments[3];const C={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==j&&j},I=C.global||C.self||C.window;I.mathgl={config:s.config}},{"./lib/common":"9KflX","./classes/vector2":"75kEr","./classes/vector3":"gUdVl","./classes/vector4":"6j2ee","./classes/matrix3":"6Hb9R","./classes/matrix4":"4zEw2","./classes/quaternion":"a4x7R","./lib/validators":"eyPd0","./lib/math-utils":"hSeLX","./classes/spherical-coordinates":"ehubm","./classes/pose":"c6BJW","./classes/euler":"kQxYW","./lib/assert":"oNiPL","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"9KflX":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"config",(()=>l)),n.export(r,"configure",(()=>c)),n.export(r,"formatValue",(()=>u)),n.export(r,"isArray",(()=>p)),n.export(r,"clone",(()=>d)),n.export(r,"toRadians",(()=>f)),n.export(r,"toDegrees",(()=>m)),n.export(r,"radians",(()=>g)),n.export(r,"degrees",(()=>y)),n.export(r,"sin",(()=>b)),n.export(r,"cos",(()=>v)),n.export(r,"tan",(()=>x)),n.export(r,"asin",(()=>_)),n.export(r,"acos",(()=>w)),n.export(r,"atan",(()=>P)),n.export(r,"clamp",(()=>E)),n.export(r,"lerp",(()=>A)),n.export(r,"equals",(()=>T)),n.export(r,"exactEquals",(()=>S)),n.export(r,"withEpsilon",(()=>j));var s=e("./assert"),o=n.interopDefault(s);const i=1/Math.PI*180,a=1/180*Math.PI,l={};function c(e={}){for(const t in e)o.default(t in l),l[t]=e[t];return l}function u(e,{precision:t=l.precision||4}={}){return e=function(e){return Math.round(e/l.EPSILON)*l.EPSILON}(e),`${parseFloat(e.toPrecision(t))}`}function p(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function d(e){return e.clone?e.clone():new Array(...e)}function h(e,t,r){if(p(e)){r=r||((n=e).clone?n.clone():new Array(n.length));for(let n=0;n<r.length&&n<e.length;++n)r[n]=t(e[n],n,r);return r}var n;return t(e)}function f(e){return g(e)}function m(e){return y(e)}function g(e,t){return h(e,(e=>e*a),t)}function y(e,t){return h(e,(e=>e*i),t)}function b(e){return h(e,(e=>Math.sin(e)))}function v(e){return h(e,(e=>Math.cos(e)))}function x(e){return h(e,(e=>Math.tan(e)))}function _(e){return h(e,(e=>Math.asin(e)))}function w(e){return h(e,(e=>Math.acos(e)))}function P(e){return h(e,(e=>Math.atan(e)))}function E(e,t,r){return h(e,(e=>Math.max(t,Math.min(r,e))))}function A(e,t,r){return p(e)?e.map(((e,n)=>A(e,t[n],r))):r*t+(1-r)*e}function T(e,t,r){const n=l.EPSILON;r&&(l.EPSILON=r);try{if(e===t)return!0;if(p(e)&&p(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!T(e[r],t[r]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):!(!Number.isFinite(e)||!Number.isFinite(t))&&Math.abs(e-t)<=l.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{l.EPSILON=n}}function S(e,t){if(e===t)return!0;if(e&&"object"==typeof e&&t&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;if(e.exactEquals)return e.exactEquals(t)}if(p(e)&&p(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!S(e[r],t[r]))return!1;return!0}return!1}function j(e,t){const r=l.EPSILON;let n;l.EPSILON=e;try{n=t()}finally{l.EPSILON=r}return n}l.EPSILON=1e-12,l.debug=!1,l.precision=4,l.printTypes=!1,l.printDegrees=!1,l.printRowMajor=!0},{"./assert":"oNiPL","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],oNiPL:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e,t){if(!e)throw new Error(`math.gl assertion ${t}`)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"75kEr":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./base/vector"),o=n.interopDefault(s),i=e("../lib/common"),a=e("../lib/validators"),l=e("gl-matrix/vec2"),c=e("../lib/gl-matrix-extras");class u extends o.default{constructor(e=0,t=0){super(2),i.isArray(e)&&1===arguments.length?this.copy(e):(i.config.debug&&(a.checkNumber(e),a.checkNumber(t)),this[0]=e,this[1]=t)}set(e,t){return this[0]=e,this[1]=t,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this.check()}fromObject(e){return i.config.debug&&(a.checkNumber(e.x),a.checkNumber(e.y)),this[0]=e.x,this[1]=e.y,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return l.transformMat4(this,this,e),this.check()}transformAsVector(e){return c.vec2_transformMat4AsVector(this,this,e),this.check()}transformByMatrix3(e){return l.transformMat3(this,this,e),this.check()}transformByMatrix2x3(e){return l.transformMat2d(this,this,e),this.check()}transformByMatrix2(e){return l.transformMat2(this,this,e),this.check()}}r.default=u},{"./base/vector":"fRy2H","../lib/common":"9KflX","../lib/validators":"eyPd0","gl-matrix/vec2":"4aqfr","../lib/gl-matrix-extras":"94zBI","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],fRy2H:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./math-array"),o=n.interopDefault(s),i=e("../../lib/validators"),a=e("../../lib/assert"),l=n.interopDefault(a);class c extends o.default{get ELEMENTS(){return l.default(!1),0}copy(e){return l.default(!1),this}get x(){return this[0]}set x(e){this[0]=i.checkNumber(e)}get y(){return this[1]}set y(e){this[1]=i.checkNumber(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let r=0;r<this.ELEMENTS;++r){const n=this[r]-e[r];t+=n*n}return i.checkNumber(t)}dot(e){let t=0;for(let r=0;r<this.ELEMENTS;++r)t+=this[r]*e[r];return i.checkNumber(t)}normalize(){const e=this.magnitude();if(0!==e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]*=t[e];return this.check()}divide(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]/=t[e];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return l.default(e>=0&&e<this.ELEMENTS,"index is out of range"),i.checkNumber(this[e])}setComponent(e,t){return l.default(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}r.default=c},{"./math-array":"03mPM","../../lib/validators":"eyPd0","../../lib/assert":"oNiPL","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"03mPM":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../../lib/common"),o=e("../../lib/assert"),i=n.interopDefault(o);class a extends(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Array)){get ELEMENTS(){return i.default(!1),0}clone(){return(new this.constructor).copy(this)}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}fromArray(e,t=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=e[r+t];return this.check()}to(e){return e===this?this:s.isArray(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toArray(e=[],t=0){for(let r=0;r<this.ELEMENTS;++r)e[t+r]=this[r];return e}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(s.config)}formatString(e){let t="";for(let r=0;r<this.ELEMENTS;++r)t+=(r>0?", ":"")+s.formatValue(this[r],e);return`${e.printTypes?this.constructor.name:""}[${t}]`}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!s.equals(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,r){void 0===r&&(r=t,t=e,e=this);for(let n=0;n<this.ELEMENTS;++n){const s=e[n];this[n]=s+r*(t[n]-s)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),t[r]);return this.check()}add(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]+=t[e];return this.check()}subtract(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]-=t[e];return this.check()}scale(e){if(Array.isArray(e))return this.multiply(e);for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.scale(1/e)}clampScalar(e,t){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),t);return this.check()}multiplyByScalar(e){return this.scale(e)}get elements(){return this}check(){if(s.config.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}}r.default=a},{"../../lib/common":"9KflX","../../lib/assert":"oNiPL","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],eyPd0:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"validateVector",(()=>o)),n.export(r,"checkNumber",(()=>i)),n.export(r,"checkVector",(()=>a)),n.export(r,"deprecated",(()=>c));var s=e("./common");function o(e,t){if(e.length!==t)return!1;for(let t=0;t<e.length;++t)if(!Number.isFinite(e[t]))return!1;return!0}function i(e){if(!Number.isFinite(e))throw new Error(`Invalid number ${e}`);return e}function a(e,t,r=""){if(s.config.debug&&!o(e,t))throw new Error(`math.gl: ${r} some fields set to invalid numbers'`);return e}const l={};function c(e,t){l[e]||(l[e]=!0,console.warn(`${e} has been removed in version ${t}, see upgrade guide for more information`))}},{"./common":"9KflX","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"4aqfr":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"create",(()=>o)),n.export(r,"clone",(()=>i)),n.export(r,"fromValues",(()=>a)),n.export(r,"copy",(()=>l)),n.export(r,"set",(()=>c)),n.export(r,"add",(()=>u)),n.export(r,"subtract",(()=>p)),n.export(r,"multiply",(()=>d)),n.export(r,"divide",(()=>h)),n.export(r,"ceil",(()=>f)),n.export(r,"floor",(()=>m)),n.export(r,"min",(()=>g)),n.export(r,"max",(()=>y)),n.export(r,"round",(()=>b)),n.export(r,"scale",(()=>v)),n.export(r,"scaleAndAdd",(()=>x)),n.export(r,"distance",(()=>_)),n.export(r,"squaredDistance",(()=>w)),n.export(r,"length",(()=>P)),n.export(r,"squaredLength",(()=>E)),n.export(r,"negate",(()=>A)),n.export(r,"inverse",(()=>T)),n.export(r,"normalize",(()=>S)),n.export(r,"dot",(()=>j)),n.export(r,"cross",(()=>C)),n.export(r,"lerp",(()=>I)),n.export(r,"random",(()=>M)),n.export(r,"transformMat2",(()=>k)),n.export(r,"transformMat2d",(()=>L)),n.export(r,"transformMat3",(()=>F)),n.export(r,"transformMat4",(()=>R)),n.export(r,"rotate",(()=>O)),n.export(r,"angle",(()=>N)),n.export(r,"zero",(()=>D)),n.export(r,"str",(()=>B)),n.export(r,"exactEquals",(()=>U)),n.export(r,"equals",(()=>z)),n.export(r,"len",(()=>V)),n.export(r,"sub",(()=>G)),n.export(r,"mul",(()=>W)),n.export(r,"div",(()=>Y)),n.export(r,"dist",(()=>X)),n.export(r,"sqrDist",(()=>q)),n.export(r,"sqrLen",(()=>Z)),n.export(r,"forEach",(()=>Q));var s=e("./common.js");function o(){var e=new s.ARRAY_TYPE(2);return s.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e}function i(e){var t=new s.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t}function a(e,t){var r=new s.ARRAY_TYPE(2);return r[0]=e,r[1]=t,r}function l(e,t){return e[0]=t[0],e[1]=t[1],e}function c(e,t,r){return e[0]=t,e[1]=r,e}function u(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function p(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function d(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function h(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function f(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function m(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function g(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function y(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function b(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function v(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function x(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function _(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.hypot(r,n)}function w(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function P(e){var t=e[0],r=e[1];return Math.hypot(t,r)}function E(e){var t=e[0],r=e[1];return t*t+r*r}function A(e,t){return e[0]=-t[0],e[1]=-t[1],e}function T(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function S(e,t){var r=t[0],n=t[1],s=r*r+n*n;return s>0&&(s=1/Math.sqrt(s)),e[0]=t[0]*s,e[1]=t[1]*s,e}function j(e,t){return e[0]*t[0]+e[1]*t[1]}function C(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function I(e,t,r,n){var s=t[0],o=t[1];return e[0]=s+n*(r[0]-s),e[1]=o+n*(r[1]-o),e}function M(e,t){t=t||1;var r=2*s.RANDOM()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function k(e,t,r){var n=t[0],s=t[1];return e[0]=r[0]*n+r[2]*s,e[1]=r[1]*n+r[3]*s,e}function L(e,t,r){var n=t[0],s=t[1];return e[0]=r[0]*n+r[2]*s+r[4],e[1]=r[1]*n+r[3]*s+r[5],e}function F(e,t,r){var n=t[0],s=t[1];return e[0]=r[0]*n+r[3]*s+r[6],e[1]=r[1]*n+r[4]*s+r[7],e}function R(e,t,r){var n=t[0],s=t[1];return e[0]=r[0]*n+r[4]*s+r[12],e[1]=r[1]*n+r[5]*s+r[13],e}function O(e,t,r,n){var s=t[0]-r[0],o=t[1]-r[1],i=Math.sin(n),a=Math.cos(n);return e[0]=s*a-o*i+r[0],e[1]=s*i+o*a+r[1],e}function N(e,t){var r=e[0],n=e[1],s=t[0],o=t[1],i=Math.sqrt(r*r+n*n)*Math.sqrt(s*s+o*o),a=i&&(r*s+n*o)/i;return Math.acos(Math.min(Math.max(a,-1),1))}function D(e){return e[0]=0,e[1]=0,e}function B(e){return"vec2("+e[0]+", "+e[1]+")"}function U(e,t){return e[0]===t[0]&&e[1]===t[1]}function z(e,t){var r=e[0],n=e[1],o=t[0],i=t[1];return Math.abs(r-o)<=s.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-i)<=s.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))}var H,V=P,G=p,W=d,Y=h,X=_,q=w,Z=E,Q=(H=o(),function(e,t,r,n,s,o){var i,a;for(t||(t=2),r||(r=0),a=n?Math.min(n*t+r,e.length):e.length,i=r;i<a;i+=t)H[0]=e[i],H[1]=e[i+1],s(H,H,o),e[i]=H[0],e[i+1]=H[1];return e})},{"./common.js":"603bZ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"603bZ":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"EPSILON",(()=>s)),n.export(r,"ARRAY_TYPE",(()=>o)),n.export(r,"RANDOM",(()=>i)),n.export(r,"setMatrixArrayType",(()=>a)),n.export(r,"toRadian",(()=>c)),n.export(r,"equals",(()=>u));var s=1e-6,o="undefined"!=typeof Float32Array?Float32Array:Array,i=Math.random;function a(e){o=e}var l=Math.PI/180;function c(e){return e*l}function u(e,t){return Math.abs(e-t)<=s*Math.max(1,Math.abs(e),Math.abs(t))}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"94zBI":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t,r){const n=t[0],s=t[1],o=r[3]*n+r[7]*s||1;return e[0]=(r[0]*n+r[4]*s)/o,e[1]=(r[1]*n+r[5]*s)/o,e}function o(e,t,r){const n=t[0],s=t[1],o=t[2],i=r[3]*n+r[7]*s+r[11]*o||1;return e[0]=(r[0]*n+r[4]*s+r[8]*o)/i,e[1]=(r[1]*n+r[5]*s+r[9]*o)/i,e[2]=(r[2]*n+r[6]*s+r[10]*o)/i,e}function i(e,t,r){const n=t[0],s=t[1];return e[0]=r[0]*n+r[2]*s,e[1]=r[1]*n+r[3]*s,e[2]=t[2],e}function a(e,t,r){const n=t[0],s=t[1];return e[0]=r[0]*n+r[2]*s,e[1]=r[1]*n+r[3]*s,e[2]=t[2],e[3]=t[3],e}function l(e,t,r){const n=t[0],s=t[1],o=t[2];return e[0]=r[0]*n+r[3]*s+r[6]*o,e[1]=r[1]*n+r[4]*s+r[7]*o,e[2]=r[2]*n+r[5]*s+r[8]*o,e[3]=t[3],e}n.defineInteropFlag(r),n.export(r,"vec2_transformMat4AsVector",(()=>s)),n.export(r,"vec3_transformMat4AsVector",(()=>o)),n.export(r,"vec3_transformMat2",(()=>i)),n.export(r,"vec4_transformMat2",(()=>a)),n.export(r,"vec4_transformMat3",(()=>l))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],gUdVl:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./base/vector"),o=n.interopDefault(s),i=e("../lib/common"),a=e("../lib/validators"),l=e("gl-matrix/vec3"),c=e("../lib/gl-matrix-extras");const u=[0,0,0],p={};class d extends o.default{static get ZERO(){return p.ZERO=p.ZERO||Object.freeze(new d(0,0,0,0))}constructor(e=0,t=0,r=0){super(-0,-0,-0),1===arguments.length&&i.isArray(e)?this.copy(e):(i.config.debug&&(a.checkNumber(e),a.checkNumber(t),a.checkNumber(r)),this[0]=e,this[1]=t,this[2]=r)}set(e,t,r){return this[0]=e,this[1]=t,this[2]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return i.config.debug&&(a.checkNumber(e.x),a.checkNumber(e.y),a.checkNumber(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=a.checkNumber(e)}angle(e){return l.angle(this,e)}cross(e){return l.cross(this,this,e),this.check()}rotateX({radians:e,origin:t=u}){return l.rotateX(this,this,t,e),this.check()}rotateY({radians:e,origin:t=u}){return l.rotateY(this,this,t,e),this.check()}rotateZ({radians:e,origin:t=u}){return l.rotateZ(this,this,t,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return l.transformMat4(this,this,e),this.check()}transformAsVector(e){return c.vec3_transformMat4AsVector(this,this,e),this.check()}transformByMatrix3(e){return l.transformMat3(this,this,e),this.check()}transformByMatrix2(e){return c.vec3_transformMat2(this,this,e),this.check()}transformByQuaternion(e){return l.transformQuat(this,this,e),this.check()}}r.default=d},{"./base/vector":"fRy2H","../lib/common":"9KflX","../lib/validators":"eyPd0","gl-matrix/vec3":"iJn4G","../lib/gl-matrix-extras":"94zBI","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],iJn4G:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"create",(()=>o)),n.export(r,"clone",(()=>i)),n.export(r,"length",(()=>a)),n.export(r,"fromValues",(()=>l)),n.export(r,"copy",(()=>c)),n.export(r,"set",(()=>u)),n.export(r,"add",(()=>p)),n.export(r,"subtract",(()=>d)),n.export(r,"multiply",(()=>h)),n.export(r,"divide",(()=>f)),n.export(r,"ceil",(()=>m)),n.export(r,"floor",(()=>g)),n.export(r,"min",(()=>y)),n.export(r,"max",(()=>b)),n.export(r,"round",(()=>v)),n.export(r,"scale",(()=>x)),n.export(r,"scaleAndAdd",(()=>_)),n.export(r,"distance",(()=>w)),n.export(r,"squaredDistance",(()=>P)),n.export(r,"squaredLength",(()=>E)),n.export(r,"negate",(()=>A)),n.export(r,"inverse",(()=>T)),n.export(r,"normalize",(()=>S)),n.export(r,"dot",(()=>j)),n.export(r,"cross",(()=>C)),n.export(r,"lerp",(()=>I)),n.export(r,"hermite",(()=>M)),n.export(r,"bezier",(()=>k)),n.export(r,"random",(()=>L)),n.export(r,"transformMat4",(()=>F)),n.export(r,"transformMat3",(()=>R)),n.export(r,"transformQuat",(()=>O)),n.export(r,"rotateX",(()=>N)),n.export(r,"rotateY",(()=>D)),n.export(r,"rotateZ",(()=>B)),n.export(r,"angle",(()=>U)),n.export(r,"zero",(()=>z)),n.export(r,"str",(()=>H)),n.export(r,"exactEquals",(()=>V)),n.export(r,"equals",(()=>G)),n.export(r,"sub",(()=>Y)),n.export(r,"mul",(()=>X)),n.export(r,"div",(()=>q)),n.export(r,"dist",(()=>Z)),n.export(r,"sqrDist",(()=>Q)),n.export(r,"len",(()=>K)),n.export(r,"sqrLen",(()=>$)),n.export(r,"forEach",(()=>J));var s=e("./common.js");function o(){var e=new s.ARRAY_TYPE(3);return s.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function i(e){var t=new s.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function a(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function l(e,t,r){var n=new s.ARRAY_TYPE(3);return n[0]=e,n[1]=t,n[2]=r,n}function c(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function u(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function p(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function d(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function h(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function f(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function m(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function g(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function y(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function b(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function v(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function x(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function _(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function w(e,t){var r=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2];return Math.hypot(r,n,s)}function P(e,t){var r=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2];return r*r+n*n+s*s}function E(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function A(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function T(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function S(e,t){var r=t[0],n=t[1],s=t[2],o=r*r+n*n+s*s;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function j(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function C(e,t,r){var n=t[0],s=t[1],o=t[2],i=r[0],a=r[1],l=r[2];return e[0]=s*l-o*a,e[1]=o*i-n*l,e[2]=n*a-s*i,e}function I(e,t,r,n){var s=t[0],o=t[1],i=t[2];return e[0]=s+n*(r[0]-s),e[1]=o+n*(r[1]-o),e[2]=i+n*(r[2]-i),e}function M(e,t,r,n,s,o){var i=o*o,a=i*(2*o-3)+1,l=i*(o-2)+o,c=i*(o-1),u=i*(3-2*o);return e[0]=t[0]*a+r[0]*l+n[0]*c+s[0]*u,e[1]=t[1]*a+r[1]*l+n[1]*c+s[1]*u,e[2]=t[2]*a+r[2]*l+n[2]*c+s[2]*u,e}function k(e,t,r,n,s,o){var i=1-o,a=i*i,l=o*o,c=a*i,u=3*o*a,p=3*l*i,d=l*o;return e[0]=t[0]*c+r[0]*u+n[0]*p+s[0]*d,e[1]=t[1]*c+r[1]*u+n[1]*p+s[1]*d,e[2]=t[2]*c+r[2]*u+n[2]*p+s[2]*d,e}function L(e,t){t=t||1;var r=2*s.RANDOM()*Math.PI,n=2*s.RANDOM()-1,o=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*o,e[1]=Math.sin(r)*o,e[2]=n*t,e}function F(e,t,r){var n=t[0],s=t[1],o=t[2],i=r[3]*n+r[7]*s+r[11]*o+r[15];return i=i||1,e[0]=(r[0]*n+r[4]*s+r[8]*o+r[12])/i,e[1]=(r[1]*n+r[5]*s+r[9]*o+r[13])/i,e[2]=(r[2]*n+r[6]*s+r[10]*o+r[14])/i,e}function R(e,t,r){var n=t[0],s=t[1],o=t[2];return e[0]=n*r[0]+s*r[3]+o*r[6],e[1]=n*r[1]+s*r[4]+o*r[7],e[2]=n*r[2]+s*r[5]+o*r[8],e}function O(e,t,r){var n=r[0],s=r[1],o=r[2],i=r[3],a=t[0],l=t[1],c=t[2],u=s*c-o*l,p=o*a-n*c,d=n*l-s*a,h=s*d-o*p,f=o*u-n*d,m=n*p-s*u,g=2*i;return u*=g,p*=g,d*=g,h*=2,f*=2,m*=2,e[0]=a+u+h,e[1]=l+p+f,e[2]=c+d+m,e}function N(e,t,r,n){var s=[],o=[];return s[0]=t[0]-r[0],s[1]=t[1]-r[1],s[2]=t[2]-r[2],o[0]=s[0],o[1]=s[1]*Math.cos(n)-s[2]*Math.sin(n),o[2]=s[1]*Math.sin(n)+s[2]*Math.cos(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function D(e,t,r,n){var s=[],o=[];return s[0]=t[0]-r[0],s[1]=t[1]-r[1],s[2]=t[2]-r[2],o[0]=s[2]*Math.sin(n)+s[0]*Math.cos(n),o[1]=s[1],o[2]=s[2]*Math.cos(n)-s[0]*Math.sin(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function B(e,t,r,n){var s=[],o=[];return s[0]=t[0]-r[0],s[1]=t[1]-r[1],s[2]=t[2]-r[2],o[0]=s[0]*Math.cos(n)-s[1]*Math.sin(n),o[1]=s[0]*Math.sin(n)+s[1]*Math.cos(n),o[2]=s[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function U(e,t){var r=e[0],n=e[1],s=e[2],o=t[0],i=t[1],a=t[2],l=Math.sqrt(r*r+n*n+s*s)*Math.sqrt(o*o+i*i+a*a),c=l&&j(e,t)/l;return Math.acos(Math.min(Math.max(c,-1),1))}function z(e){return e[0]=0,e[1]=0,e[2]=0,e}function H(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function V(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function G(e,t){var r=e[0],n=e[1],o=e[2],i=t[0],a=t[1],l=t[2];return Math.abs(r-i)<=s.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-a)<=s.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-l)<=s.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))}var W,Y=d,X=h,q=f,Z=w,Q=P,K=a,$=E,J=(W=o(),function(e,t,r,n,s,o){var i,a;for(t||(t=3),r||(r=0),a=n?Math.min(n*t+r,e.length):e.length,i=r;i<a;i+=t)W[0]=e[i],W[1]=e[i+1],W[2]=e[i+2],s(W,W,o),e[i]=W[0],e[i+1]=W[1],e[i+2]=W[2];return e})},{"./common.js":"603bZ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"6j2ee":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./base/vector"),o=n.interopDefault(s),i=e("../lib/common"),a=e("../lib/validators"),l=e("gl-matrix/vec3"),c=e("../lib/gl-matrix-extras");const u={};class p extends o.default{static get ZERO(){return u.ZERO=u.ZERO||Object.freeze(new p(0,0,0,0))}constructor(e=0,t=0,r=0,n=0){super(-0,-0,-0,-0),i.isArray(e)&&1===arguments.length?this.copy(e):(i.config.debug&&(a.checkNumber(e),a.checkNumber(t),a.checkNumber(r),a.checkNumber(n)),this[0]=e,this[1]=t,this[2]=r,this[3]=n)}set(e,t,r,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}fromObject(e){return i.config.debug&&(a.checkNumber(e.x),a.checkNumber(e.y),a.checkNumber(e.z),a.checkNumber(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}get ELEMENTS(){return 4}get z(){return this[2]}set z(e){this[2]=a.checkNumber(e)}get w(){return this[3]}set w(e){this[3]=a.checkNumber(e)}transform(e){return l.transformMat4(this,this,e),this.check()}transformByMatrix3(e){return c.vec4_transformMat3(this,this,e),this.check()}transformByMatrix2(e){return c.vec4_transformMat2(this,this,e),this.check()}transformByQuaternion(e){return l.transformQuat(this,this,e),this.check()}applyMatrix4(e){return e.transform(this,this),this}}r.default=p},{"./base/vector":"fRy2H","../lib/common":"9KflX","../lib/validators":"eyPd0","gl-matrix/vec3":"iJn4G","../lib/gl-matrix-extras":"94zBI","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"6Hb9R":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./base/matrix"),o=n.interopDefault(s),i=e("../lib/validators"),a=e("../lib/gl-matrix-extras"),l=e("gl-matrix/mat3"),c=e("gl-matrix/vec2"),u=e("gl-matrix/vec3");const p=Object.freeze([1,0,0,0,1,0,0,0,1]),d=Object.freeze([0,0,0,0,0,0,0,0,0]),h=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),f={};class m extends o.default{static get IDENTITY(){return f.IDENTITY=f.IDENTITY||Object.freeze(new m(p)),f.IDENTITY}static get ZERO(){return f.ZERO=f.ZERO||Object.freeze(new m(d)),f.ZERO}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return h}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}set(e,t,r,n,s,o,i,a,l){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this[4]=s,this[5]=o,this[6]=i,this[7]=a,this[8]=l,this.check()}setRowMajor(e,t,r,n,s,o,i,a,l){return this[0]=e,this[1]=n,this[2]=i,this[3]=t,this[4]=s,this[5]=a,this[6]=r,this[7]=o,this[8]=l,this.check()}determinant(){return l.determinant(this)}identity(){return this.copy(p)}fromQuaternion(e){return l.fromQuat(this,e),this.check()}transpose(){return l.transpose(this,this),this.check()}invert(){return l.invert(this,this),this.check()}multiplyLeft(e){return l.multiply(this,e,this),this.check()}multiplyRight(e){return l.multiply(this,this,e),this.check()}rotate(e){return l.rotate(this,this,e),this.check()}scale(e){return Array.isArray(e)?l.scale(this,this,e):l.scale(this,this,[e,e,e]),this.check()}translate(e){return l.translate(this,this,e),this.check()}transform(e,t){switch(e.length){case 2:t=c.transformMat3(t||[-0,-0],e,this);break;case 3:t=u.transformMat3(t||[-0,-0,-0],e,this);break;case 4:t=a.vec4_transformMat3(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return i.checkVector(t,e.length),t}transformVector(e,t){return i.deprecated("Matrix3.transformVector"),this.transform(e,t)}transformVector2(e,t){return i.deprecated("Matrix3.transformVector"),this.transform(e,t)}transformVector3(e,t){return i.deprecated("Matrix3.transformVector"),this.transform(e,t)}}r.default=m},{"./base/matrix":"k1EJr","../lib/validators":"eyPd0","../lib/gl-matrix-extras":"94zBI","gl-matrix/mat3":"kMAAT","gl-matrix/vec2":"4aqfr","gl-matrix/vec3":"iJn4G","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],k1EJr:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./math-array"),o=n.interopDefault(s),i=e("../../lib/validators"),a=e("../../lib/common"),l=e("../../lib/assert"),c=n.interopDefault(l);class u extends o.default{get ELEMENTS(){return c.default(!1),0}get RANK(){return c.default(!1),0}toString(){let e="[";if(a.config.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let r=0;r<this.RANK;++r)e+=` ${this[r*this.RANK+t]}`}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=` ${this[t]}`}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,r){return this[t*this.RANK+e]=i.checkNumber(r),this}getColumn(e,t=new Array(this.RANK).fill(-0)){const r=e*this.RANK;for(let e=0;e<this.RANK;++e)t[e]=this[r+e];return t}setColumn(e,t){const r=e*this.RANK;for(let e=0;e<this.RANK;++e)this[r+e]=t[e];return this}}r.default=u},{"./math-array":"03mPM","../../lib/validators":"eyPd0","../../lib/common":"9KflX","../../lib/assert":"oNiPL","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],kMAAT:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"create",(()=>o)),n.export(r,"fromMat4",(()=>i)),n.export(r,"clone",(()=>a)),n.export(r,"copy",(()=>l)),n.export(r,"fromValues",(()=>c)),n.export(r,"set",(()=>u)),n.export(r,"identity",(()=>p)),n.export(r,"transpose",(()=>d)),n.export(r,"invert",(()=>h)),n.export(r,"adjoint",(()=>f)),n.export(r,"determinant",(()=>m)),n.export(r,"multiply",(()=>g)),n.export(r,"translate",(()=>y)),n.export(r,"rotate",(()=>b)),n.export(r,"scale",(()=>v)),n.export(r,"fromTranslation",(()=>x)),n.export(r,"fromRotation",(()=>_)),n.export(r,"fromScaling",(()=>w)),n.export(r,"fromMat2d",(()=>P)),n.export(r,"fromQuat",(()=>E)),n.export(r,"normalFromMat4",(()=>A)),n.export(r,"projection",(()=>T)),n.export(r,"str",(()=>S)),n.export(r,"frob",(()=>j)),n.export(r,"add",(()=>C)),n.export(r,"subtract",(()=>I)),n.export(r,"multiplyScalar",(()=>M)),n.export(r,"multiplyScalarAndAdd",(()=>k)),n.export(r,"exactEquals",(()=>L)),n.export(r,"equals",(()=>F)),n.export(r,"mul",(()=>R)),n.export(r,"sub",(()=>O));var s=e("./common.js");function o(){var e=new s.ARRAY_TYPE(9);return s.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function a(e){var t=new s.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function l(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function c(e,t,r,n,o,i,a,l,c){var u=new s.ARRAY_TYPE(9);return u[0]=e,u[1]=t,u[2]=r,u[3]=n,u[4]=o,u[5]=i,u[6]=a,u[7]=l,u[8]=c,u}function u(e,t,r,n,s,o,i,a,l,c){return e[0]=t,e[1]=r,e[2]=n,e[3]=s,e[4]=o,e[5]=i,e[6]=a,e[7]=l,e[8]=c,e}function p(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function d(e,t){if(e===t){var r=t[1],n=t[2],s=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=s}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function h(e,t){var r=t[0],n=t[1],s=t[2],o=t[3],i=t[4],a=t[5],l=t[6],c=t[7],u=t[8],p=u*i-a*c,d=-u*o+a*l,h=c*o-i*l,f=r*p+n*d+s*h;return f?(f=1/f,e[0]=p*f,e[1]=(-u*n+s*c)*f,e[2]=(a*n-s*i)*f,e[3]=d*f,e[4]=(u*r-s*l)*f,e[5]=(-a*r+s*o)*f,e[6]=h*f,e[7]=(-c*r+n*l)*f,e[8]=(i*r-n*o)*f,e):null}function f(e,t){var r=t[0],n=t[1],s=t[2],o=t[3],i=t[4],a=t[5],l=t[6],c=t[7],u=t[8];return e[0]=i*u-a*c,e[1]=s*c-n*u,e[2]=n*a-s*i,e[3]=a*l-o*u,e[4]=r*u-s*l,e[5]=s*o-r*a,e[6]=o*c-i*l,e[7]=n*l-r*c,e[8]=r*i-n*o,e}function m(e){var t=e[0],r=e[1],n=e[2],s=e[3],o=e[4],i=e[5],a=e[6],l=e[7],c=e[8];return t*(c*o-i*l)+r*(-c*s+i*a)+n*(l*s-o*a)}function g(e,t,r){var n=t[0],s=t[1],o=t[2],i=t[3],a=t[4],l=t[5],c=t[6],u=t[7],p=t[8],d=r[0],h=r[1],f=r[2],m=r[3],g=r[4],y=r[5],b=r[6],v=r[7],x=r[8];return e[0]=d*n+h*i+f*c,e[1]=d*s+h*a+f*u,e[2]=d*o+h*l+f*p,e[3]=m*n+g*i+y*c,e[4]=m*s+g*a+y*u,e[5]=m*o+g*l+y*p,e[6]=b*n+v*i+x*c,e[7]=b*s+v*a+x*u,e[8]=b*o+v*l+x*p,e}function y(e,t,r){var n=t[0],s=t[1],o=t[2],i=t[3],a=t[4],l=t[5],c=t[6],u=t[7],p=t[8],d=r[0],h=r[1];return e[0]=n,e[1]=s,e[2]=o,e[3]=i,e[4]=a,e[5]=l,e[6]=d*n+h*i+c,e[7]=d*s+h*a+u,e[8]=d*o+h*l+p,e}function b(e,t,r){var n=t[0],s=t[1],o=t[2],i=t[3],a=t[4],l=t[5],c=t[6],u=t[7],p=t[8],d=Math.sin(r),h=Math.cos(r);return e[0]=h*n+d*i,e[1]=h*s+d*a,e[2]=h*o+d*l,e[3]=h*i-d*n,e[4]=h*a-d*s,e[5]=h*l-d*o,e[6]=c,e[7]=u,e[8]=p,e}function v(e,t,r){var n=r[0],s=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=s*t[3],e[4]=s*t[4],e[5]=s*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function x(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function _(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function w(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function P(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function E(e,t){var r=t[0],n=t[1],s=t[2],o=t[3],i=r+r,a=n+n,l=s+s,c=r*i,u=n*i,p=n*a,d=s*i,h=s*a,f=s*l,m=o*i,g=o*a,y=o*l;return e[0]=1-p-f,e[3]=u-y,e[6]=d+g,e[1]=u+y,e[4]=1-c-f,e[7]=h-m,e[2]=d-g,e[5]=h+m,e[8]=1-c-p,e}function A(e,t){var r=t[0],n=t[1],s=t[2],o=t[3],i=t[4],a=t[5],l=t[6],c=t[7],u=t[8],p=t[9],d=t[10],h=t[11],f=t[12],m=t[13],g=t[14],y=t[15],b=r*a-n*i,v=r*l-s*i,x=r*c-o*i,_=n*l-s*a,w=n*c-o*a,P=s*c-o*l,E=u*m-p*f,A=u*g-d*f,T=u*y-h*f,S=p*g-d*m,j=p*y-h*m,C=d*y-h*g,I=b*C-v*j+x*S+_*T-w*A+P*E;return I?(I=1/I,e[0]=(a*C-l*j+c*S)*I,e[1]=(l*T-i*C-c*A)*I,e[2]=(i*j-a*T+c*E)*I,e[3]=(s*j-n*C-o*S)*I,e[4]=(r*C-s*T+o*A)*I,e[5]=(n*T-r*j-o*E)*I,e[6]=(m*P-g*w+y*_)*I,e[7]=(g*x-f*P-y*v)*I,e[8]=(f*w-m*x+y*b)*I,e):null}function T(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function S(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function j(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function C(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function I(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function M(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function k(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function L(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function F(e,t){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],l=e[5],c=e[6],u=e[7],p=e[8],d=t[0],h=t[1],f=t[2],m=t[3],g=t[4],y=t[5],b=t[6],v=t[7],x=t[8];return Math.abs(r-d)<=s.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(n-h)<=s.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(o-f)<=s.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(i-m)<=s.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(a-g)<=s.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(l-y)<=s.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(c-b)<=s.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(u-v)<=s.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(p-x)<=s.EPSILON*Math.max(1,Math.abs(p),Math.abs(x))}var R=g,O=I},{"./common.js":"603bZ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"4zEw2":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../lib/validators"),o=e("./base/matrix"),i=n.interopDefault(o),a=e("../lib/gl-matrix-extras"),l=e("gl-matrix/mat4"),c=e("gl-matrix/vec2"),u=e("gl-matrix/vec3"),p=e("gl-matrix/vec4");const d=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),f=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),m={};class g extends i.default{static get IDENTITY(){return m.IDENTITY=m.IDENTITY||Object.freeze(new g(d)),m.IDENTITY}static get ZERO(){return m.ZERO=m.ZERO||Object.freeze(new g(h)),m.ZERO}get INDICES(){return f}get ELEMENTS(){return 16}get RANK(){return 4}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,t,r,n,s,o,i,a,l,c,u,p,d,h,f,m){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this[4]=s,this[5]=o,this[6]=i,this[7]=a,this[8]=l,this[9]=c,this[10]=u,this[11]=p,this[12]=d,this[13]=h,this[14]=f,this[15]=m,this.check()}setRowMajor(e,t,r,n,s,o,i,a,l,c,u,p,d,h,f,m){return this[0]=e,this[1]=s,this[2]=l,this[3]=d,this[4]=t,this[5]=o,this[6]=c,this[7]=h,this[8]=r,this[9]=i,this[10]=u,this[11]=f,this[12]=n,this[13]=a,this[14]=p,this[15]=m,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(d)}fromQuaternion(e){return l.fromQuat(this,e),this.check()}frustum({left:e,right:t,bottom:r,top:n,near:s,far:o}){return o===1/0?g._computeInfinitePerspectiveOffCenter(this,e,t,r,n,s):l.frustum(this,e,t,r,n,s,o),this.check()}static _computeInfinitePerspectiveOffCenter(e,t,r,n,s,o){const i=2*o/(r-t),a=2*o/(s-n),l=(r+t)/(r-t),c=(s+n)/(s-n),u=-2*o;return e[0]=i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=l,e[9]=c,e[10]=-1,e[11]=-1,e[12]=0,e[13]=0,e[14]=u,e[15]=0,e}lookAt(e,t,r){return 1===arguments.length&&({eye:e,center:t,up:r}=e),t=t||[0,0,0],r=r||[0,1,0],l.lookAt(this,e,t,r),this.check()}ortho({left:e,right:t,bottom:r,top:n,near:s=.1,far:o=500}){return l.ortho(this,e,t,r,n,s,o),this.check()}orthographic({fovy:e=45*Math.PI/180,aspect:t=1,focalDistance:r=1,near:n=.1,far:s=500}){if(e>2*Math.PI)throw Error("radians");const o=e/2,i=r*Math.tan(o),a=i*t;return(new g).ortho({left:-a,right:a,bottom:-i,top:i,near:n,far:s})}perspective({fovy:e,fov:t=45*Math.PI/180,aspect:r=1,near:n=.1,far:s=500}={}){if((e=e||t)>2*Math.PI)throw Error("radians");return l.perspective(this,e,r,n,s),this.check()}determinant(){return l.determinant(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e=[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=null){const r=this.getScale(t||[-0,-0,-0]),n=1/r[0],s=1/r[1],o=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*s,e[2]=this[2]*o,e[3]=0,e[4]=this[4]*n,e[5]=this[5]*s,e[6]=this[6]*o,e[7]=0,e[8]=this[8]*n,e[9]=this[9]*s,e[10]=this[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e=[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=null){const r=this.getScale(t||[-0,-0,-0]),n=1/r[0],s=1/r[1],o=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*s,e[2]=this[2]*o,e[3]=this[4]*n,e[4]=this[5]*s,e[5]=this[6]*o,e[6]=this[8]*n,e[7]=this[9]*s,e[8]=this[10]*o,e}transpose(){return l.transpose(this,this),this.check()}invert(){return l.invert(this,this),this.check()}multiplyLeft(e){return l.multiply(this,e,this),this.check()}multiplyRight(e){return l.multiply(this,this,e),this.check()}rotateX(e){return l.rotateX(this,this,e),this.check()}rotateY(e){return l.rotateY(this,this,e),this.check()}rotateZ(e){return l.rotateZ(this,this,e),this.check()}rotateXYZ([e,t,r]){return this.rotateX(e).rotateY(t).rotateZ(r)}rotateAxis(e,t){return l.rotate(this,this,e,t),this.check()}scale(e){return Array.isArray(e)?l.scale(this,this,e):l.scale(this,this,[e,e,e]),this.check()}translate(e){return l.translate(this,this,e),this.check()}transform(e,t){return 4===e.length?(t=p.transformMat4(t||[-0,-0,-0,-0],e,this),s.checkVector(t,4),t):this.transformAsPoint(e,t)}transformAsPoint(e,t){const{length:r}=e;switch(r){case 2:t=c.transformMat4(t||[-0,-0],e,this);break;case 3:t=u.transformMat4(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return s.checkVector(t,e.length),t}transformAsVector(e,t){switch(e.length){case 2:t=a.vec2_transformMat4AsVector(t||[-0,-0],e,this);break;case 3:t=a.vec3_transformMat4AsVector(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return s.checkVector(t,e.length),t}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,t,r){return this.identity().translate([e,t,r])}transformPoint(e,t){return s.deprecated("Matrix4.transformPoint","3.0"),this.transformAsPoint(e,t)}transformVector(e,t){return s.deprecated("Matrix4.transformVector","3.0"),this.transformAsPoint(e,t)}transformDirection(e,t){return s.deprecated("Matrix4.transformDirection","3.0"),this.transformAsVector(e,t)}}r.default=g},{"../lib/validators":"eyPd0","./base/matrix":"k1EJr","../lib/gl-matrix-extras":"94zBI","gl-matrix/mat4":"jpkXP","gl-matrix/vec2":"4aqfr","gl-matrix/vec3":"iJn4G","gl-matrix/vec4":"6HPef","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jpkXP:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"create",(()=>o)),n.export(r,"clone",(()=>i)),n.export(r,"copy",(()=>a)),n.export(r,"fromValues",(()=>l)),n.export(r,"set",(()=>c)),n.export(r,"identity",(()=>u)),n.export(r,"transpose",(()=>p)),n.export(r,"invert",(()=>d)),n.export(r,"adjoint",(()=>h)),n.export(r,"determinant",(()=>f)),n.export(r,"multiply",(()=>m)),n.export(r,"translate",(()=>g)),n.export(r,"scale",(()=>y)),n.export(r,"rotate",(()=>b)),n.export(r,"rotateX",(()=>v)),n.export(r,"rotateY",(()=>x)),n.export(r,"rotateZ",(()=>_)),n.export(r,"fromTranslation",(()=>w)),n.export(r,"fromScaling",(()=>P)),n.export(r,"fromRotation",(()=>E)),n.export(r,"fromXRotation",(()=>A)),n.export(r,"fromYRotation",(()=>T)),n.export(r,"fromZRotation",(()=>S)),n.export(r,"fromRotationTranslation",(()=>j)),n.export(r,"fromQuat2",(()=>C)),n.export(r,"getTranslation",(()=>I)),n.export(r,"getScaling",(()=>M)),n.export(r,"getRotation",(()=>k)),n.export(r,"fromRotationTranslationScale",(()=>L)),n.export(r,"fromRotationTranslationScaleOrigin",(()=>F)),n.export(r,"fromQuat",(()=>R)),n.export(r,"frustum",(()=>O)),n.export(r,"perspective",(()=>N)),n.export(r,"perspectiveFromFieldOfView",(()=>D)),n.export(r,"ortho",(()=>B)),n.export(r,"lookAt",(()=>U)),n.export(r,"targetTo",(()=>z)),n.export(r,"str",(()=>H)),n.export(r,"frob",(()=>V)),n.export(r,"add",(()=>G)),n.export(r,"subtract",(()=>W)),n.export(r,"multiplyScalar",(()=>Y)),n.export(r,"multiplyScalarAndAdd",(()=>X)),n.export(r,"exactEquals",(()=>q)),n.export(r,"equals",(()=>Z)),n.export(r,"mul",(()=>Q)),n.export(r,"sub",(()=>K));var s=e("./common.js");function o(){var e=new s.ARRAY_TYPE(16);return s.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function i(e){var t=new s.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function l(e,t,r,n,o,i,a,l,c,u,p,d,h,f,m,g){var y=new s.ARRAY_TYPE(16);return y[0]=e,y[1]=t,y[2]=r,y[3]=n,y[4]=o,y[5]=i,y[6]=a,y[7]=l,y[8]=c,y[9]=u,y[10]=p,y[11]=d,y[12]=h,y[13]=f,y[14]=m,y[15]=g,y}function c(e,t,r,n,s,o,i,a,l,c,u,p,d,h,f,m,g){return e[0]=t,e[1]=r,e[2]=n,e[3]=s,e[4]=o,e[5]=i,e[6]=a,e[7]=l,e[8]=c,e[9]=u,e[10]=p,e[11]=d,e[12]=h,e[13]=f,e[14]=m,e[15]=g,e}function u(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function p(e,t){if(e===t){var r=t[1],n=t[2],s=t[3],o=t[6],i=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=o,e[11]=t[14],e[12]=s,e[13]=i,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function d(e,t){var r=t[0],n=t[1],s=t[2],o=t[3],i=t[4],a=t[5],l=t[6],c=t[7],u=t[8],p=t[9],d=t[10],h=t[11],f=t[12],m=t[13],g=t[14],y=t[15],b=r*a-n*i,v=r*l-s*i,x=r*c-o*i,_=n*l-s*a,w=n*c-o*a,P=s*c-o*l,E=u*m-p*f,A=u*g-d*f,T=u*y-h*f,S=p*g-d*m,j=p*y-h*m,C=d*y-h*g,I=b*C-v*j+x*S+_*T-w*A+P*E;return I?(I=1/I,e[0]=(a*C-l*j+c*S)*I,e[1]=(s*j-n*C-o*S)*I,e[2]=(m*P-g*w+y*_)*I,e[3]=(d*w-p*P-h*_)*I,e[4]=(l*T-i*C-c*A)*I,e[5]=(r*C-s*T+o*A)*I,e[6]=(g*x-f*P-y*v)*I,e[7]=(u*P-d*x+h*v)*I,e[8]=(i*j-a*T+c*E)*I,e[9]=(n*T-r*j-o*E)*I,e[10]=(f*w-m*x+y*b)*I,e[11]=(p*x-u*w-h*b)*I,e[12]=(a*A-i*S-l*E)*I,e[13]=(r*S-n*A+s*E)*I,e[14]=(m*v-f*_-g*b)*I,e[15]=(u*_-p*v+d*b)*I,e):null}function h(e,t){var r=t[0],n=t[1],s=t[2],o=t[3],i=t[4],a=t[5],l=t[6],c=t[7],u=t[8],p=t[9],d=t[10],h=t[11],f=t[12],m=t[13],g=t[14],y=t[15];return e[0]=a*(d*y-h*g)-p*(l*y-c*g)+m*(l*h-c*d),e[1]=-(n*(d*y-h*g)-p*(s*y-o*g)+m*(s*h-o*d)),e[2]=n*(l*y-c*g)-a*(s*y-o*g)+m*(s*c-o*l),e[3]=-(n*(l*h-c*d)-a*(s*h-o*d)+p*(s*c-o*l)),e[4]=-(i*(d*y-h*g)-u*(l*y-c*g)+f*(l*h-c*d)),e[5]=r*(d*y-h*g)-u*(s*y-o*g)+f*(s*h-o*d),e[6]=-(r*(l*y-c*g)-i*(s*y-o*g)+f*(s*c-o*l)),e[7]=r*(l*h-c*d)-i*(s*h-o*d)+u*(s*c-o*l),e[8]=i*(p*y-h*m)-u*(a*y-c*m)+f*(a*h-c*p),e[9]=-(r*(p*y-h*m)-u*(n*y-o*m)+f*(n*h-o*p)),e[10]=r*(a*y-c*m)-i*(n*y-o*m)+f*(n*c-o*a),e[11]=-(r*(a*h-c*p)-i*(n*h-o*p)+u*(n*c-o*a)),e[12]=-(i*(p*g-d*m)-u*(a*g-l*m)+f*(a*d-l*p)),e[13]=r*(p*g-d*m)-u*(n*g-s*m)+f*(n*d-s*p),e[14]=-(r*(a*g-l*m)-i*(n*g-s*m)+f*(n*l-s*a)),e[15]=r*(a*d-l*p)-i*(n*d-s*p)+u*(n*l-s*a),e}function f(e){var t=e[0],r=e[1],n=e[2],s=e[3],o=e[4],i=e[5],a=e[6],l=e[7],c=e[8],u=e[9],p=e[10],d=e[11],h=e[12],f=e[13],m=e[14],g=e[15];return(t*i-r*o)*(p*g-d*m)-(t*a-n*o)*(u*g-d*f)+(t*l-s*o)*(u*m-p*f)+(r*a-n*i)*(c*g-d*h)-(r*l-s*i)*(c*m-p*h)+(n*l-s*a)*(c*f-u*h)}function m(e,t,r){var n=t[0],s=t[1],o=t[2],i=t[3],a=t[4],l=t[5],c=t[6],u=t[7],p=t[8],d=t[9],h=t[10],f=t[11],m=t[12],g=t[13],y=t[14],b=t[15],v=r[0],x=r[1],_=r[2],w=r[3];return e[0]=v*n+x*a+_*p+w*m,e[1]=v*s+x*l+_*d+w*g,e[2]=v*o+x*c+_*h+w*y,e[3]=v*i+x*u+_*f+w*b,v=r[4],x=r[5],_=r[6],w=r[7],e[4]=v*n+x*a+_*p+w*m,e[5]=v*s+x*l+_*d+w*g,e[6]=v*o+x*c+_*h+w*y,e[7]=v*i+x*u+_*f+w*b,v=r[8],x=r[9],_=r[10],w=r[11],e[8]=v*n+x*a+_*p+w*m,e[9]=v*s+x*l+_*d+w*g,e[10]=v*o+x*c+_*h+w*y,e[11]=v*i+x*u+_*f+w*b,v=r[12],x=r[13],_=r[14],w=r[15],e[12]=v*n+x*a+_*p+w*m,e[13]=v*s+x*l+_*d+w*g,e[14]=v*o+x*c+_*h+w*y,e[15]=v*i+x*u+_*f+w*b,e}function g(e,t,r){var n,s,o,i,a,l,c,u,p,d,h,f,m=r[0],g=r[1],y=r[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*y+t[12],e[13]=t[1]*m+t[5]*g+t[9]*y+t[13],e[14]=t[2]*m+t[6]*g+t[10]*y+t[14],e[15]=t[3]*m+t[7]*g+t[11]*y+t[15]):(n=t[0],s=t[1],o=t[2],i=t[3],a=t[4],l=t[5],c=t[6],u=t[7],p=t[8],d=t[9],h=t[10],f=t[11],e[0]=n,e[1]=s,e[2]=o,e[3]=i,e[4]=a,e[5]=l,e[6]=c,e[7]=u,e[8]=p,e[9]=d,e[10]=h,e[11]=f,e[12]=n*m+a*g+p*y+t[12],e[13]=s*m+l*g+d*y+t[13],e[14]=o*m+c*g+h*y+t[14],e[15]=i*m+u*g+f*y+t[15]),e}function y(e,t,r){var n=r[0],s=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function b(e,t,r,n){var o,i,a,l,c,u,p,d,h,f,m,g,y,b,v,x,_,w,P,E,A,T,S,j,C=n[0],I=n[1],M=n[2],k=Math.hypot(C,I,M);return k<s.EPSILON?null:(C*=k=1/k,I*=k,M*=k,o=Math.sin(r),a=1-(i=Math.cos(r)),l=t[0],c=t[1],u=t[2],p=t[3],d=t[4],h=t[5],f=t[6],m=t[7],g=t[8],y=t[9],b=t[10],v=t[11],x=C*C*a+i,_=I*C*a+M*o,w=M*C*a-I*o,P=C*I*a-M*o,E=I*I*a+i,A=M*I*a+C*o,T=C*M*a+I*o,S=I*M*a-C*o,j=M*M*a+i,e[0]=l*x+d*_+g*w,e[1]=c*x+h*_+y*w,e[2]=u*x+f*_+b*w,e[3]=p*x+m*_+v*w,e[4]=l*P+d*E+g*A,e[5]=c*P+h*E+y*A,e[6]=u*P+f*E+b*A,e[7]=p*P+m*E+v*A,e[8]=l*T+d*S+g*j,e[9]=c*T+h*S+y*j,e[10]=u*T+f*S+b*j,e[11]=p*T+m*S+v*j,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function v(e,t,r){var n=Math.sin(r),s=Math.cos(r),o=t[4],i=t[5],a=t[6],l=t[7],c=t[8],u=t[9],p=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*s+c*n,e[5]=i*s+u*n,e[6]=a*s+p*n,e[7]=l*s+d*n,e[8]=c*s-o*n,e[9]=u*s-i*n,e[10]=p*s-a*n,e[11]=d*s-l*n,e}function x(e,t,r){var n=Math.sin(r),s=Math.cos(r),o=t[0],i=t[1],a=t[2],l=t[3],c=t[8],u=t[9],p=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*s-c*n,e[1]=i*s-u*n,e[2]=a*s-p*n,e[3]=l*s-d*n,e[8]=o*n+c*s,e[9]=i*n+u*s,e[10]=a*n+p*s,e[11]=l*n+d*s,e}function _(e,t,r){var n=Math.sin(r),s=Math.cos(r),o=t[0],i=t[1],a=t[2],l=t[3],c=t[4],u=t[5],p=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*s+c*n,e[1]=i*s+u*n,e[2]=a*s+p*n,e[3]=l*s+d*n,e[4]=c*s-o*n,e[5]=u*s-i*n,e[6]=p*s-a*n,e[7]=d*s-l*n,e}function w(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function P(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function E(e,t,r){var n,o,i,a=r[0],l=r[1],c=r[2],u=Math.hypot(a,l,c);return u<s.EPSILON?null:(a*=u=1/u,l*=u,c*=u,n=Math.sin(t),i=1-(o=Math.cos(t)),e[0]=a*a*i+o,e[1]=l*a*i+c*n,e[2]=c*a*i-l*n,e[3]=0,e[4]=a*l*i-c*n,e[5]=l*l*i+o,e[6]=c*l*i+a*n,e[7]=0,e[8]=a*c*i+l*n,e[9]=l*c*i-a*n,e[10]=c*c*i+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function A(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function T(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function S(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function j(e,t,r){var n=t[0],s=t[1],o=t[2],i=t[3],a=n+n,l=s+s,c=o+o,u=n*a,p=n*l,d=n*c,h=s*l,f=s*c,m=o*c,g=i*a,y=i*l,b=i*c;return e[0]=1-(h+m),e[1]=p+b,e[2]=d-y,e[3]=0,e[4]=p-b,e[5]=1-(u+m),e[6]=f+g,e[7]=0,e[8]=d+y,e[9]=f-g,e[10]=1-(u+h),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function C(e,t){var r=new s.ARRAY_TYPE(3),n=-t[0],o=-t[1],i=-t[2],a=t[3],l=t[4],c=t[5],u=t[6],p=t[7],d=n*n+o*o+i*i+a*a;return d>0?(r[0]=2*(l*a+p*n+c*i-u*o)/d,r[1]=2*(c*a+p*o+u*n-l*i)/d,r[2]=2*(u*a+p*i+l*o-c*n)/d):(r[0]=2*(l*a+p*n+c*i-u*o),r[1]=2*(c*a+p*o+u*n-l*i),r[2]=2*(u*a+p*i+l*o-c*n)),j(e,t,r),e}function I(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function M(e,t){var r=t[0],n=t[1],s=t[2],o=t[4],i=t[5],a=t[6],l=t[8],c=t[9],u=t[10];return e[0]=Math.hypot(r,n,s),e[1]=Math.hypot(o,i,a),e[2]=Math.hypot(l,c,u),e}function k(e,t){var r=new s.ARRAY_TYPE(3);M(r,t);var n=1/r[0],o=1/r[1],i=1/r[2],a=t[0]*n,l=t[1]*o,c=t[2]*i,u=t[4]*n,p=t[5]*o,d=t[6]*i,h=t[8]*n,f=t[9]*o,m=t[10]*i,g=a+p+m,y=0;return g>0?(y=2*Math.sqrt(g+1),e[3]=.25*y,e[0]=(d-f)/y,e[1]=(h-c)/y,e[2]=(l-u)/y):a>p&&a>m?(y=2*Math.sqrt(1+a-p-m),e[3]=(d-f)/y,e[0]=.25*y,e[1]=(l+u)/y,e[2]=(h+c)/y):p>m?(y=2*Math.sqrt(1+p-a-m),e[3]=(h-c)/y,e[0]=(l+u)/y,e[1]=.25*y,e[2]=(d+f)/y):(y=2*Math.sqrt(1+m-a-p),e[3]=(l-u)/y,e[0]=(h+c)/y,e[1]=(d+f)/y,e[2]=.25*y),e}function L(e,t,r,n){var s=t[0],o=t[1],i=t[2],a=t[3],l=s+s,c=o+o,u=i+i,p=s*l,d=s*c,h=s*u,f=o*c,m=o*u,g=i*u,y=a*l,b=a*c,v=a*u,x=n[0],_=n[1],w=n[2];return e[0]=(1-(f+g))*x,e[1]=(d+v)*x,e[2]=(h-b)*x,e[3]=0,e[4]=(d-v)*_,e[5]=(1-(p+g))*_,e[6]=(m+y)*_,e[7]=0,e[8]=(h+b)*w,e[9]=(m-y)*w,e[10]=(1-(p+f))*w,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function F(e,t,r,n,s){var o=t[0],i=t[1],a=t[2],l=t[3],c=o+o,u=i+i,p=a+a,d=o*c,h=o*u,f=o*p,m=i*u,g=i*p,y=a*p,b=l*c,v=l*u,x=l*p,_=n[0],w=n[1],P=n[2],E=s[0],A=s[1],T=s[2],S=(1-(m+y))*_,j=(h+x)*_,C=(f-v)*_,I=(h-x)*w,M=(1-(d+y))*w,k=(g+b)*w,L=(f+v)*P,F=(g-b)*P,R=(1-(d+m))*P;return e[0]=S,e[1]=j,e[2]=C,e[3]=0,e[4]=I,e[5]=M,e[6]=k,e[7]=0,e[8]=L,e[9]=F,e[10]=R,e[11]=0,e[12]=r[0]+E-(S*E+I*A+L*T),e[13]=r[1]+A-(j*E+M*A+F*T),e[14]=r[2]+T-(C*E+k*A+R*T),e[15]=1,e}function R(e,t){var r=t[0],n=t[1],s=t[2],o=t[3],i=r+r,a=n+n,l=s+s,c=r*i,u=n*i,p=n*a,d=s*i,h=s*a,f=s*l,m=o*i,g=o*a,y=o*l;return e[0]=1-p-f,e[1]=u+y,e[2]=d-g,e[3]=0,e[4]=u-y,e[5]=1-c-f,e[6]=h+m,e[7]=0,e[8]=d+g,e[9]=h-m,e[10]=1-c-p,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function O(e,t,r,n,s,o,i){var a=1/(r-t),l=1/(s-n),c=1/(o-i);return e[0]=2*o*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*l,e[6]=0,e[7]=0,e[8]=(r+t)*a,e[9]=(s+n)*l,e[10]=(i+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=i*o*2*c,e[15]=0,e}function N(e,t,r,n,s){var o,i=1/Math.tan(t/2);return e[0]=i/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=s&&s!==1/0?(o=1/(n-s),e[10]=(s+n)*o,e[14]=2*s*n*o):(e[10]=-1,e[14]=-2*n),e}function D(e,t,r,n){var s=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),i=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(i+a),c=2/(s+o);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(i-a)*l*.5,e[9]=(s-o)*c*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function B(e,t,r,n,s,o,i){var a=1/(t-r),l=1/(n-s),c=1/(o-i);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*a,e[13]=(s+n)*l,e[14]=(i+o)*c,e[15]=1,e}function U(e,t,r,n){var o,i,a,l,c,p,d,h,f,m,g=t[0],y=t[1],b=t[2],v=n[0],x=n[1],_=n[2],w=r[0],P=r[1],E=r[2];return Math.abs(g-w)<s.EPSILON&&Math.abs(y-P)<s.EPSILON&&Math.abs(b-E)<s.EPSILON?u(e):(d=g-w,h=y-P,f=b-E,o=x*(f*=m=1/Math.hypot(d,h,f))-_*(h*=m),i=_*(d*=m)-v*f,a=v*h-x*d,(m=Math.hypot(o,i,a))?(o*=m=1/m,i*=m,a*=m):(o=0,i=0,a=0),l=h*a-f*i,c=f*o-d*a,p=d*i-h*o,(m=Math.hypot(l,c,p))?(l*=m=1/m,c*=m,p*=m):(l=0,c=0,p=0),e[0]=o,e[1]=l,e[2]=d,e[3]=0,e[4]=i,e[5]=c,e[6]=h,e[7]=0,e[8]=a,e[9]=p,e[10]=f,e[11]=0,e[12]=-(o*g+i*y+a*b),e[13]=-(l*g+c*y+p*b),e[14]=-(d*g+h*y+f*b),e[15]=1,e)}function z(e,t,r,n){var s=t[0],o=t[1],i=t[2],a=n[0],l=n[1],c=n[2],u=s-r[0],p=o-r[1],d=i-r[2],h=u*u+p*p+d*d;h>0&&(u*=h=1/Math.sqrt(h),p*=h,d*=h);var f=l*d-c*p,m=c*u-a*d,g=a*p-l*u;return(h=f*f+m*m+g*g)>0&&(f*=h=1/Math.sqrt(h),m*=h,g*=h),e[0]=f,e[1]=m,e[2]=g,e[3]=0,e[4]=p*g-d*m,e[5]=d*f-u*g,e[6]=u*m-p*f,e[7]=0,e[8]=u,e[9]=p,e[10]=d,e[11]=0,e[12]=s,e[13]=o,e[14]=i,e[15]=1,e}function H(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function V(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function G(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function W(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function Y(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function X(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function q(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Z(e,t){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],l=e[5],c=e[6],u=e[7],p=e[8],d=e[9],h=e[10],f=e[11],m=e[12],g=e[13],y=e[14],b=e[15],v=t[0],x=t[1],_=t[2],w=t[3],P=t[4],E=t[5],A=t[6],T=t[7],S=t[8],j=t[9],C=t[10],I=t[11],M=t[12],k=t[13],L=t[14],F=t[15];return Math.abs(r-v)<=s.EPSILON*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(n-x)<=s.EPSILON*Math.max(1,Math.abs(n),Math.abs(x))&&Math.abs(o-_)<=s.EPSILON*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(i-w)<=s.EPSILON*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(a-P)<=s.EPSILON*Math.max(1,Math.abs(a),Math.abs(P))&&Math.abs(l-E)<=s.EPSILON*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(c-A)<=s.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(u-T)<=s.EPSILON*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(p-S)<=s.EPSILON*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(d-j)<=s.EPSILON*Math.max(1,Math.abs(d),Math.abs(j))&&Math.abs(h-C)<=s.EPSILON*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(f-I)<=s.EPSILON*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(m-M)<=s.EPSILON*Math.max(1,Math.abs(m),Math.abs(M))&&Math.abs(g-k)<=s.EPSILON*Math.max(1,Math.abs(g),Math.abs(k))&&Math.abs(y-L)<=s.EPSILON*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(b-F)<=s.EPSILON*Math.max(1,Math.abs(b),Math.abs(F))}var Q=m,K=W},{"./common.js":"603bZ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"6HPef":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"create",(()=>o)),n.export(r,"clone",(()=>i)),n.export(r,"fromValues",(()=>a)),n.export(r,"copy",(()=>l)),n.export(r,"set",(()=>c)),n.export(r,"add",(()=>u)),n.export(r,"subtract",(()=>p)),n.export(r,"multiply",(()=>d)),n.export(r,"divide",(()=>h)),n.export(r,"ceil",(()=>f)),n.export(r,"floor",(()=>m)),n.export(r,"min",(()=>g)),n.export(r,"max",(()=>y)),n.export(r,"round",(()=>b)),n.export(r,"scale",(()=>v)),n.export(r,"scaleAndAdd",(()=>x)),n.export(r,"distance",(()=>_)),n.export(r,"squaredDistance",(()=>w)),n.export(r,"length",(()=>P)),n.export(r,"squaredLength",(()=>E)),n.export(r,"negate",(()=>A)),n.export(r,"inverse",(()=>T)),n.export(r,"normalize",(()=>S)),n.export(r,"dot",(()=>j)),n.export(r,"cross",(()=>C)),n.export(r,"lerp",(()=>I)),n.export(r,"random",(()=>M)),n.export(r,"transformMat4",(()=>k)),n.export(r,"transformQuat",(()=>L)),n.export(r,"zero",(()=>F)),n.export(r,"str",(()=>R)),n.export(r,"exactEquals",(()=>O)),n.export(r,"equals",(()=>N)),n.export(r,"sub",(()=>B)),n.export(r,"mul",(()=>U)),n.export(r,"div",(()=>z)),n.export(r,"dist",(()=>H)),n.export(r,"sqrDist",(()=>V)),n.export(r,"len",(()=>G)),n.export(r,"sqrLen",(()=>W)),n.export(r,"forEach",(()=>Y));var s=e("./common.js");function o(){var e=new s.ARRAY_TYPE(4);return s.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function i(e){var t=new s.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function a(e,t,r,n){var o=new s.ARRAY_TYPE(4);return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o}function l(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function c(e,t,r,n,s){return e[0]=t,e[1]=r,e[2]=n,e[3]=s,e}function u(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function p(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function d(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function h(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function f(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function m(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function g(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function y(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function b(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function v(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function x(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function _(e,t){var r=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2],o=t[3]-e[3];return Math.hypot(r,n,s,o)}function w(e,t){var r=t[0]-e[0],n=t[1]-e[1],s=t[2]-e[2],o=t[3]-e[3];return r*r+n*n+s*s+o*o}function P(e){var t=e[0],r=e[1],n=e[2],s=e[3];return Math.hypot(t,r,n,s)}function E(e){var t=e[0],r=e[1],n=e[2],s=e[3];return t*t+r*r+n*n+s*s}function A(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function T(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function S(e,t){var r=t[0],n=t[1],s=t[2],o=t[3],i=r*r+n*n+s*s+o*o;return i>0&&(i=1/Math.sqrt(i)),e[0]=r*i,e[1]=n*i,e[2]=s*i,e[3]=o*i,e}function j(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function C(e,t,r,n){var s=r[0]*n[1]-r[1]*n[0],o=r[0]*n[2]-r[2]*n[0],i=r[0]*n[3]-r[3]*n[0],a=r[1]*n[2]-r[2]*n[1],l=r[1]*n[3]-r[3]*n[1],c=r[2]*n[3]-r[3]*n[2],u=t[0],p=t[1],d=t[2],h=t[3];return e[0]=p*c-d*l+h*a,e[1]=-u*c+d*i-h*o,e[2]=u*l-p*i+h*s,e[3]=-u*a+p*o-d*s,e}function I(e,t,r,n){var s=t[0],o=t[1],i=t[2],a=t[3];return e[0]=s+n*(r[0]-s),e[1]=o+n*(r[1]-o),e[2]=i+n*(r[2]-i),e[3]=a+n*(r[3]-a),e}function M(e,t){var r,n,o,i,a,l;t=t||1;do{a=(r=2*s.RANDOM()-1)*r+(n=2*s.RANDOM()-1)*n}while(a>=1);do{l=(o=2*s.RANDOM()-1)*o+(i=2*s.RANDOM()-1)*i}while(l>=1);var c=Math.sqrt((1-a)/l);return e[0]=t*r,e[1]=t*n,e[2]=t*o*c,e[3]=t*i*c,e}function k(e,t,r){var n=t[0],s=t[1],o=t[2],i=t[3];return e[0]=r[0]*n+r[4]*s+r[8]*o+r[12]*i,e[1]=r[1]*n+r[5]*s+r[9]*o+r[13]*i,e[2]=r[2]*n+r[6]*s+r[10]*o+r[14]*i,e[3]=r[3]*n+r[7]*s+r[11]*o+r[15]*i,e}function L(e,t,r){var n=t[0],s=t[1],o=t[2],i=r[0],a=r[1],l=r[2],c=r[3],u=c*n+a*o-l*s,p=c*s+l*n-i*o,d=c*o+i*s-a*n,h=-i*n-a*s-l*o;return e[0]=u*c+h*-i+p*-l-d*-a,e[1]=p*c+h*-a+d*-i-u*-l,e[2]=d*c+h*-l+u*-a-p*-i,e[3]=t[3],e}function F(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function R(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function O(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function N(e,t){var r=e[0],n=e[1],o=e[2],i=e[3],a=t[0],l=t[1],c=t[2],u=t[3];return Math.abs(r-a)<=s.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-l)<=s.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-c)<=s.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-u)<=s.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))}var D,B=p,U=d,z=h,H=_,V=w,G=P,W=E,Y=(D=o(),function(e,t,r,n,s,o){var i,a;for(t||(t=4),r||(r=0),a=n?Math.min(n*t+r,e.length):e.length,i=r;i<a;i+=t)D[0]=e[i],D[1]=e[i+1],D[2]=e[i+2],D[3]=e[i+3],s(D,D,o),e[i]=D[0],e[i+1]=D[1],e[i+2]=D[2],e[i+3]=D[3];return e})},{"./common.js":"603bZ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],a4x7R:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./base/math-array"),o=n.interopDefault(s),i=e("../lib/validators"),a=e("../lib/assert"),l=n.interopDefault(a),c=e("gl-matrix/quat"),u=e("gl-matrix/vec4");const p=[0,0,0,1];class d extends o.default{constructor(e=0,t=0,r=0,n=1){super(-0,-0,-0,-0),Array.isArray(e)&&1===arguments.length?this.copy(e):this.set(e,t,r,n)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}set(e,t,r,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this.check()}fromMatrix3(e){return c.fromMat3(this,e),this.check()}identity(){return c.identity(this),this.check()}fromAxisRotation(e,t){return c.setAxisAngle(this,e,t),this.check()}setAxisAngle(e,t){return this.fromAxisRotation(e,t)}get ELEMENTS(){return 4}get x(){return this[0]}set x(e){this[0]=i.checkNumber(e)}get y(){return this[1]}set y(e){this[1]=i.checkNumber(e)}get z(){return this[2]}set z(e){this[2]=i.checkNumber(e)}get w(){return this[3]}set w(e){this[3]=i.checkNumber(e)}len(){return c.length(this)}lengthSquared(){return c.squaredLength(this)}dot(e,t){if(void 0!==t)throw new Error("Quaternion.dot only takes one argument");return c.dot(this,e)}rotationTo(e,t){return c.rotationTo(this,e,t),this.check()}add(e,t){if(void 0!==t)throw new Error("Quaternion.add only takes one argument");return c.add(this,this,e),this.check()}calculateW(){return c.calculateW(this,this),this.check()}conjugate(){return c.conjugate(this,this),this.check()}invert(){return c.invert(this,this),this.check()}lerp(e,t,r){return c.lerp(this,e,t,r),this.check()}multiplyRight(e,t){return l.default(!t),c.multiply(this,this,e),this.check()}multiplyLeft(e,t){return l.default(!t),c.multiply(this,e,this),this.check()}normalize(){const e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}rotateX(e){return c.rotateX(this,this,e),this.check()}rotateY(e){return c.rotateY(this,this,e),this.check()}rotateZ(e){return c.rotateZ(this,this,e),this.check()}scale(e){return c.scale(this,this,e),this.check()}slerp(e,t,r){switch(arguments.length){case 1:({start:e=p,target:t,ratio:r}=arguments[0]);break;case 2:[t,r]=arguments,e=this}return c.slerp(this,e,t,r),this.check()}transformVector4(e,t=e){return u.transformQuat(t,e,this),i.checkVector(t,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(e,t){return this.setAxisAngle(e,t)}premultiply(e,t){return this.multiplyLeft(e,t)}multiply(e,t){return this.multiplyRight(e,t)}}r.default=d},{"./base/math-array":"03mPM","../lib/validators":"eyPd0","../lib/assert":"oNiPL","gl-matrix/quat":"9qm1U","gl-matrix/vec4":"6HPef","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"9qm1U":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"create",(()=>l)),n.export(r,"identity",(()=>c)),n.export(r,"setAxisAngle",(()=>u)),n.export(r,"getAxisAngle",(()=>p)),n.export(r,"getAngle",(()=>d)),n.export(r,"multiply",(()=>h)),n.export(r,"rotateX",(()=>f)),n.export(r,"rotateY",(()=>m)),n.export(r,"rotateZ",(()=>g)),n.export(r,"calculateW",(()=>y)),n.export(r,"exp",(()=>b)),n.export(r,"ln",(()=>v)),n.export(r,"pow",(()=>x)),n.export(r,"slerp",(()=>_)),n.export(r,"random",(()=>w)),n.export(r,"invert",(()=>P)),n.export(r,"conjugate",(()=>E)),n.export(r,"fromMat3",(()=>A)),n.export(r,"fromEuler",(()=>T)),n.export(r,"str",(()=>S)),n.export(r,"clone",(()=>F)),n.export(r,"fromValues",(()=>R)),n.export(r,"copy",(()=>O)),n.export(r,"set",(()=>N)),n.export(r,"add",(()=>D)),n.export(r,"mul",(()=>B)),n.export(r,"scale",(()=>U)),n.export(r,"dot",(()=>z)),n.export(r,"lerp",(()=>H)),n.export(r,"length",(()=>V)),n.export(r,"len",(()=>G)),n.export(r,"squaredLength",(()=>W)),n.export(r,"sqrLen",(()=>Y)),n.export(r,"normalize",(()=>X)),n.export(r,"exactEquals",(()=>q)),n.export(r,"equals",(()=>Z)),n.export(r,"rotationTo",(()=>Q)),n.export(r,"sqlerp",(()=>K)),n.export(r,"setAxes",(()=>$));var s=e("./common.js"),o=e("./mat3.js"),i=e("./vec3.js"),a=e("./vec4.js");function l(){var e=new s.ARRAY_TYPE(4);return s.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function c(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function u(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function p(e,t){var r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>s.EPSILON?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function d(e,t){var r=z(e,t);return Math.acos(2*r*r-1)}function h(e,t,r){var n=t[0],s=t[1],o=t[2],i=t[3],a=r[0],l=r[1],c=r[2],u=r[3];return e[0]=n*u+i*a+s*c-o*l,e[1]=s*u+i*l+o*a-n*c,e[2]=o*u+i*c+n*l-s*a,e[3]=i*u-n*a-s*l-o*c,e}function f(e,t,r){r*=.5;var n=t[0],s=t[1],o=t[2],i=t[3],a=Math.sin(r),l=Math.cos(r);return e[0]=n*l+i*a,e[1]=s*l+o*a,e[2]=o*l-s*a,e[3]=i*l-n*a,e}function m(e,t,r){r*=.5;var n=t[0],s=t[1],o=t[2],i=t[3],a=Math.sin(r),l=Math.cos(r);return e[0]=n*l-o*a,e[1]=s*l+i*a,e[2]=o*l+n*a,e[3]=i*l-s*a,e}function g(e,t,r){r*=.5;var n=t[0],s=t[1],o=t[2],i=t[3],a=Math.sin(r),l=Math.cos(r);return e[0]=n*l+s*a,e[1]=s*l-n*a,e[2]=o*l+i*a,e[3]=i*l-o*a,e}function y(e,t){var r=t[0],n=t[1],s=t[2];return e[0]=r,e[1]=n,e[2]=s,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-s*s)),e}function b(e,t){var r=t[0],n=t[1],s=t[2],o=t[3],i=Math.sqrt(r*r+n*n+s*s),a=Math.exp(o),l=i>0?a*Math.sin(i)/i:0;return e[0]=r*l,e[1]=n*l,e[2]=s*l,e[3]=a*Math.cos(i),e}function v(e,t){var r=t[0],n=t[1],s=t[2],o=t[3],i=Math.sqrt(r*r+n*n+s*s),a=i>0?Math.atan2(i,o)/i:0;return e[0]=r*a,e[1]=n*a,e[2]=s*a,e[3]=.5*Math.log(r*r+n*n+s*s+o*o),e}function x(e,t,r){return v(e,t),U(e,e,r),b(e,e),e}function _(e,t,r,n){var o,i,a,l,c,u=t[0],p=t[1],d=t[2],h=t[3],f=r[0],m=r[1],g=r[2],y=r[3];return(i=u*f+p*m+d*g+h*y)<0&&(i=-i,f=-f,m=-m,g=-g,y=-y),1-i>s.EPSILON?(o=Math.acos(i),a=Math.sin(o),l=Math.sin((1-n)*o)/a,c=Math.sin(n*o)/a):(l=1-n,c=n),e[0]=l*u+c*f,e[1]=l*p+c*m,e[2]=l*d+c*g,e[3]=l*h+c*y,e}function w(e){var t=s.RANDOM(),r=s.RANDOM(),n=s.RANDOM(),o=Math.sqrt(1-t),i=Math.sqrt(t);return e[0]=o*Math.sin(2*Math.PI*r),e[1]=o*Math.cos(2*Math.PI*r),e[2]=i*Math.sin(2*Math.PI*n),e[3]=i*Math.cos(2*Math.PI*n),e}function P(e,t){var r=t[0],n=t[1],s=t[2],o=t[3],i=r*r+n*n+s*s+o*o,a=i?1/i:0;return e[0]=-r*a,e[1]=-n*a,e[2]=-s*a,e[3]=o*a,e}function E(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function A(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var s=0;t[4]>t[0]&&(s=1),t[8]>t[3*s+s]&&(s=2);var o=(s+1)%3,i=(s+2)%3;r=Math.sqrt(t[3*s+s]-t[3*o+o]-t[3*i+i]+1),e[s]=.5*r,r=.5/r,e[3]=(t[3*o+i]-t[3*i+o])*r,e[o]=(t[3*o+s]+t[3*s+o])*r,e[i]=(t[3*i+s]+t[3*s+i])*r}return e}function T(e,t,r,n){var s=.5*Math.PI/180;t*=s,r*=s,n*=s;var o=Math.sin(t),i=Math.cos(t),a=Math.sin(r),l=Math.cos(r),c=Math.sin(n),u=Math.cos(n);return e[0]=o*l*u-i*a*c,e[1]=i*a*u+o*l*c,e[2]=i*l*c-o*a*u,e[3]=i*l*u+o*a*c,e}function S(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var j,C,I,M,k,L,F=a.clone,R=a.fromValues,O=a.copy,N=a.set,D=a.add,B=h,U=a.scale,z=a.dot,H=a.lerp,V=a.length,G=V,W=a.squaredLength,Y=W,X=a.normalize,q=a.exactEquals,Z=a.equals,Q=(j=i.create(),C=i.fromValues(1,0,0),I=i.fromValues(0,1,0),function(e,t,r){var n=i.dot(t,r);return n<-.999999?(i.cross(j,C,t),i.len(j)<1e-6&&i.cross(j,I,t),i.normalize(j,j),u(e,j,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(i.cross(j,t,r),e[0]=j[0],e[1]=j[1],e[2]=j[2],e[3]=1+n,X(e,e))}),K=(M=l(),k=l(),function(e,t,r,n,s,o){return _(M,t,s,o),_(k,r,n,o),_(e,M,k,2*o*(1-o)),e}),$=(L=o.create(),function(e,t,r,n){return L[0]=r[0],L[3]=r[1],L[6]=r[2],L[1]=n[0],L[4]=n[1],L[7]=n[2],L[2]=-t[0],L[5]=-t[1],L[8]=-t[2],X(e,A(e,L))})},{"./common.js":"603bZ","./mat3.js":"kMAAT","./vec3.js":"iJn4G","./vec4.js":"6HPef","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hSeLX:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ehubm:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../lib/common"),o=e("./vector3"),i=n.interopDefault(o),a=e("gl-matrix/vec3");const l=1e-6;class c{constructor({phi:e=0,theta:t=0,radius:r=1,bearing:n,pitch:s,altitude:o,radiusScale:i=6371e3}={}){this.phi=e,this.theta=t,this.radius=r||o||1,this.radiusScale=i||1,void 0!==n&&(this.bearing=n),void 0!==s&&(this.pitch=s),this.check()}toString(){return this.formatString(s.config)}formatString({printTypes:e=!1}){const t=s.formatValue;return`${e?"Spherical":""}[rho:${t(this.radius)},theta:${t(this.theta)},phi:${t(this.phi)}]`}equals(e){return s.equals(this.radius,e.radius)&&s.equals(this.theta,e.theta)&&s.equals(this.phi,e.phi)}exactEquals(e){return this.radius===e.radius&&this.theta===e.theta&&this.phi===e.phi}get bearing(){return 180-s.degrees(this.phi)}set bearing(e){this.phi=Math.PI-s.radians(e)}get pitch(){return s.degrees(this.theta)}set pitch(e){this.theta=s.radians(e)}get longitude(){return s.degrees(this.phi)}get latitude(){return s.degrees(this.theta)}get lng(){return s.degrees(this.phi)}get lat(){return s.degrees(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this.check()}clone(){return(new c).copy(this)}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this.check()}fromLngLatZ([e,t,r]){this.radius=1+r/this.radiusScale,this.phi=s.radians(t),this.theta=s.radians(e)}fromVector3(e){return this.radius=a.length(e),this.radius>0&&(this.theta=Math.atan2(e[0],e[1]),this.phi=Math.acos(s.clamp(e[2]/this.radius,-1,1))),this.check()}toVector3(){return new i.default(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(l,Math.min(Math.PI-l,this.phi)),this}check(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}}r.default=c},{"../lib/common":"9KflX","./vector3":"gUdVl","gl-matrix/vec3":"iJn4G","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],c6BJW:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./matrix4"),o=n.interopDefault(s),i=e("./vector3"),a=n.interopDefault(i),l=e("./euler"),c=n.interopDefault(l);r.default=class{constructor({x:e=0,y:t=0,z:r=0,roll:n=0,pitch:s=0,yaw:o=0,position:i,orientation:l}={}){Array.isArray(i)&&3===i.length?this.position=new a.default(i):this.position=new a.default(e,t,r),Array.isArray(l)&&4===l.length?this.orientation=new c.default(l,l[3]):this.orientation=new c.default(n,s,o,c.default.RollPitchYaw)}get x(){return this.position.x}set x(e){this.position.x=e}get y(){return this.position.y}set y(e){this.position.y=e}get z(){return this.position.z}set z(e){this.position.z=e}get roll(){return this.orientation.roll}set roll(e){this.orientation.roll=e}get pitch(){return this.orientation.pitch}set pitch(e){this.orientation.pitch=e}get yaw(){return this.orientation.yaw}set yaw(e){this.orientation.yaw=e}getPosition(){return this.position}getOrientation(){return this.orientation}equals(e){return!!e&&(this.position.equals(e.position)&&this.orientation.equals(e.orientation))}exactEquals(e){return!!e&&(this.position.exactEquals(e.position)&&this.orientation.exactEquals(e.orientation))}getTransformationMatrix(){const e=Math.sin(this.roll),t=Math.sin(this.pitch),r=Math.sin(this.yaw),n=Math.cos(this.roll),s=Math.cos(this.pitch),i=Math.cos(this.yaw);return(new o.default).setRowMajor(i*s,-r*n+i*t*e,r*e+i*t*n,this.x,r*s,i*n+r*t*e,-i*e+r*t*n,this.y,-t,s*e,s*n,this.z,0,0,0,1)}getTransformationMatrixFromPose(e){return(new o.default).multiplyRight(this.getTransformationMatrix()).multiplyRight(e.getTransformationMatrix().invert())}getTransformationMatrixToPose(e){return(new o.default).multiplyRight(e.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}}},{"./matrix4":"4zEw2","./vector3":"gUdVl","./euler":"kQxYW","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],kQxYW:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./base/math-array"),o=n.interopDefault(s),i=e("../lib/common"),a=e("../lib/validators"),l=e("./quaternion"),c=n.interopDefault(l);const u="Unknown Euler angle order",p=.99999;class d extends o.default{static get ZYX(){return 0}static get YXZ(){return 1}static get XZY(){return 2}static get ZXY(){return 3}static get YZX(){return 4}static get XYZ(){return 5}static get RollPitchYaw(){return 0}static get DefaultOrder(){return d.ZYX}static get RotationOrders(){return["ZYX","YXZ","XZY","ZXY","YZX","XYZ"]}static rotationOrder(e){return d.RotationOrders[e]}get ELEMENTS(){return 4}constructor(e=0,t=0,r=0,n=d.DefaultOrder){super(-0,-0,-0,-0),arguments.length>0&&Array.isArray(arguments[0])?this.fromVector3(...arguments):this.set(e,t,r,n)}fromQuaternion(e){const[t,r,n,s]=e,o=r*r,i=-2*(o+n*n)+1,a=2*(t*r+s*n);let l=-2*(t*n-s*r);const c=2*(r*n+s*t),u=-2*(t*t+o)+1;l=l>1?1:l,l=l<-1?-1:l;const p=Math.atan2(c,u),h=Math.asin(l),f=Math.atan2(a,i);return new d(p,h,f,d.RollPitchYaw)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=Number.isFinite(e[3])||this.order,this.check()}set(e=0,t=0,r=0,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=Number.isFinite(n)?n:this[3],this.check()}validate(){return(e=this[3])>=0&&e<6&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2]);var e}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}toArray4(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}toVector3(e=[-0,-0,-0]){return e[0]=this[0],e[1]=this[1],e[2]=this[2],e}get x(){return this[0]}set x(e){this[0]=a.checkNumber(e)}get y(){return this[1]}set y(e){this[1]=a.checkNumber(e)}get z(){return this[2]}set z(e){this[2]=a.checkNumber(e)}get alpha(){return this[0]}set alpha(e){this[0]=a.checkNumber(e)}get beta(){return this[1]}set beta(e){this[1]=a.checkNumber(e)}get gamma(){return this[2]}set gamma(e){this[2]=a.checkNumber(e)}get phi(){return this[0]}set phi(e){this[0]=a.checkNumber(e)}get theta(){return this[1]}set theta(e){this[1]=a.checkNumber(e)}get psi(){return this[2]}set psi(e){this[2]=a.checkNumber(e)}get roll(){return this[0]}set roll(e){this[0]=a.checkNumber(e)}get pitch(){return this[1]}set pitch(e){this[1]=a.checkNumber(e)}get yaw(){return this[2]}set yaw(e){this[2]=a.checkNumber(e)}get order(){return this[3]}set order(e){this[3]=function(e){if(e<0&&e>=6)throw new Error(u);return e}(e)}fromVector3(e,t){return this.set(e[0],e[1],e[2],Number.isFinite(t)?t:this[3])}fromArray(e,t=0){return this[0]=e[0+t],this[1]=e[1+t],this[2]=e[2+t],void 0!==e[3]&&(this[3]=e[3]),this.check()}fromRollPitchYaw(e,t,r){return this.set(e,t,r,d.ZYX)}fromRotationMatrix(e,t=d.DefaultOrder){return this._fromRotationMatrix(e,t),this.check()}getRotationMatrix(e){return this._getRotationMatrix(e)}getQuaternion(){const e=new c.default;switch(this[4]){case d.XYZ:return e.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case d.YXZ:return e.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case d.ZXY:return e.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case d.ZYX:return e.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case d.YZX:return e.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case d.XZY:return e.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(u)}}_fromRotationMatrix(e,t=d.DefaultOrder){const r=e.elements,n=r[0],s=r[4],o=r[8],a=r[1],l=r[5],c=r[9],h=r[2],f=r[6],m=r[10];switch(t=t||this[3]){case d.XYZ:this[1]=Math.asin(i.clamp(o,-1,1)),Math.abs(o)<p?(this[0]=Math.atan2(-c,m),this[2]=Math.atan2(-s,n)):(this[0]=Math.atan2(f,l),this[2]=0);break;case d.YXZ:this[0]=Math.asin(-i.clamp(c,-1,1)),Math.abs(c)<p?(this[1]=Math.atan2(o,m),this[2]=Math.atan2(a,l)):(this[1]=Math.atan2(-h,n),this[2]=0);break;case d.ZXY:this[0]=Math.asin(i.clamp(f,-1,1)),Math.abs(f)<p?(this[1]=Math.atan2(-h,m),this[2]=Math.atan2(-s,l)):(this[1]=0,this[2]=Math.atan2(a,n));break;case d.ZYX:this[1]=Math.asin(-i.clamp(h,-1,1)),Math.abs(h)<p?(this[0]=Math.atan2(f,m),this[2]=Math.atan2(a,n)):(this[0]=0,this[2]=Math.atan2(-s,l));break;case d.YZX:this[2]=Math.asin(i.clamp(a,-1,1)),Math.abs(a)<p?(this[0]=Math.atan2(-c,l),this[1]=Math.atan2(-h,n)):(this[0]=0,this[1]=Math.atan2(o,m));break;case d.XZY:this[2]=Math.asin(-i.clamp(s,-1,1)),Math.abs(s)<p?(this[0]=Math.atan2(f,l),this[1]=Math.atan2(o,n)):(this[0]=Math.atan2(-c,m),this[1]=0);break;default:throw new Error(u)}return this[3]=t,this}_getRotationMatrix(e){const t=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],r=this.x,n=this.y,s=this.z,o=Math.cos(r),i=Math.cos(n),a=Math.cos(s),l=Math.sin(r),c=Math.sin(n),p=Math.sin(s);switch(this[3]){case d.XYZ:{const e=o*a,r=o*p,n=l*a,s=l*p;t[0]=i*a,t[4]=-i*p,t[8]=c,t[1]=r+n*c,t[5]=e-s*c,t[9]=-l*i,t[2]=s-e*c,t[6]=n+r*c,t[10]=o*i;break}case d.YXZ:{const e=i*a,r=i*p,n=c*a,s=c*p;t[0]=e+s*l,t[4]=n*l-r,t[8]=o*c,t[1]=o*p,t[5]=o*a,t[9]=-l,t[2]=r*l-n,t[6]=s+e*l,t[10]=o*i;break}case d.ZXY:{const e=i*a,r=i*p,n=c*a,s=c*p;t[0]=e-s*l,t[4]=-o*p,t[8]=n+r*l,t[1]=r+n*l,t[5]=o*a,t[9]=s-e*l,t[2]=-o*c,t[6]=l,t[10]=o*i;break}case d.ZYX:{const e=o*a,r=o*p,n=l*a,s=l*p;t[0]=i*a,t[4]=n*c-r,t[8]=e*c+s,t[1]=i*p,t[5]=s*c+e,t[9]=r*c-n,t[2]=-c,t[6]=l*i,t[10]=o*i;break}case d.YZX:{const e=o*i,r=o*c,n=l*i,s=l*c;t[0]=i*a,t[4]=s-e*p,t[8]=n*p+r,t[1]=p,t[5]=o*a,t[9]=-l*a,t[2]=-c*a,t[6]=r*p+n,t[10]=e-s*p;break}case d.XZY:{const e=o*i,r=o*c,n=l*i,s=l*c;t[0]=i*a,t[4]=-p,t[8]=c*a,t[1]=e*p+s,t[5]=o*a,t[9]=r*p-n,t[2]=n*p-r,t[6]=l*a,t[10]=s*p+e;break}default:throw new Error(u)}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}toQuaternion(){const e=Math.cos(.5*this.yaw),t=Math.sin(.5*this.yaw),r=Math.cos(.5*this.roll),n=Math.sin(.5*this.roll),s=Math.cos(.5*this.pitch),o=Math.sin(.5*this.pitch),i=e*r*s+t*n*o,a=e*n*s-t*r*o,l=e*r*o+t*n*s,u=t*r*s-e*n*o;return new c.default(a,l,u,i)}}r.default=d},{"./base/math-array":"03mPM","../lib/common":"9KflX","../lib/validators":"eyPd0","./quaternion":"a4x7R","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"1mMDH":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"lights",(()=>l));var s=e("./lights.glsl"),o=n.interopDefault(s);const i={lightSources:{}};function a({color:e=[0,0,0],intensity:t=1}={}){return e.map((e=>e*t/255))}const l={name:"lights",vs:o.default,fs:o.default,getUniforms:function e(t=i){if("lightSources"in t){const{ambientLight:e,pointLights:r,directionalLights:n}=t.lightSources||{};return e||r&&r.length>0||n&&n.length>0?Object.assign({},function({ambientLight:e,pointLights:t=[],directionalLights:r=[]}){const n={};return n["lighting_uAmbientLight.color"]=e?a(e):[0,0,0],t.forEach(((e,t)=>{n[`lighting_uPointLight[${t}].color`]=a(e),n[`lighting_uPointLight[${t}].position`]=e.position,n[`lighting_uPointLight[${t}].attenuation`]=e.attenuation||[1,0,0]})),n.lighting_uPointLightCount=t.length,r.forEach(((e,t)=>{n[`lighting_uDirectionalLight[${t}].color`]=a(e),n[`lighting_uDirectionalLight[${t}].direction`]=e.direction})),n.lighting_uDirectionalLightCount=r.length,n}({ambientLight:e,pointLights:r,directionalLights:n}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in t){const r={pointLights:[],directionalLights:[]};for(const e of t.lights||[])switch(e.type){case"ambient":r.ambientLight=e;break;case"directional":r.directionalLights.push(e);break;case"point":r.pointLights.push(e)}return e({lightSources:r})}return{}},defines:{MAX_LIGHTS:3}}},{"./lights.glsl":"2v91T","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"2v91T":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n"},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jyKKL:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"dirlight",(()=>i));var s=e("../project/project");const o={lightDirection:new Float32Array([1,1,2])};const i={name:"dirlight",vs:null,fs:"uniform vec3 dirlight_uLightDirection;\nvec4 dirlight_filterColor(vec4 color) {\n  vec3 normal = project_getNormal_World();\n  float d = abs(dot(normalize(normal), normalize(dirlight_uLightDirection)));\n  return vec4(color.rgb * d, color.a);\n}\n",getUniforms:function(e=o){const t={};return e.lightDirection&&(t.dirlight_uLightDirection=e.lightDirection),t},dependencies:[s.project]}},{"../project/project":"juZqi","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"2Na8d":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"picking",(()=>o));const s={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1};const o={name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function(e=s){const t={};if(void 0!==e.pickingSelectedColor)if(e.pickingSelectedColor){const r=e.pickingSelectedColor.slice(0,3);t.picking_uSelectedColorValid=1,t.picking_uSelectedColor=r}else t.picking_uSelectedColorValid=0;if(e.pickingHighlightColor){const r=Array.from(e.pickingHighlightColor,(e=>e/255));Number.isFinite(r[3])||(r[3]=1),t.picking_uHighlightColor=r}return void 0!==e.pickingActive&&(t.picking_uActive=Boolean(e.pickingActive),t.picking_uAttribute=Boolean(e.pickingAttribute)),t}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"4V1eo":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"gouraudLighting",(()=>c)),n.export(r,"phongLighting",(()=>u));var s=e("../lights/lights"),o=e("./phong-lighting.glsl"),i=n.interopDefault(o);const a={};function l(e=a){if(!("material"in e))return{};const{material:t}=e;return t?function(e){const{ambient:t=.35,diffuse:r=.6,shininess:n=32,specularColor:s=[30,30,30]}=e;return{lighting_uAmbient:t,lighting_uDiffuse:r,lighting_uShininess:n,lighting_uSpecularColor:s.map((e=>e/255))}}(t):{lighting_uEnabled:!1}}const c={name:"gouraud-lighting",dependencies:[s.lights],vs:i.default,defines:{LIGHTING_VERTEX:1},getUniforms:l},u={name:"phong-lighting",dependencies:[s.lights],fs:i.default,defines:{LIGHTING_FRAGMENT:1},getUniforms:l}},{"../lights/lights":"1mMDH","./phong-lighting.glsl":"54Utn","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"54Utn":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default="\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n"},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],aPd96:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"pbr",(()=>c));var s=e("../lights/lights"),o=e("./pbr-vertex.glsl"),i=n.interopDefault(o),a=e("./pbr-fragment.glsl"),l=n.interopDefault(a);const c={name:"pbr",vs:i.default,fs:l.default,defines:{LIGHTING_FRAGMENT:1},dependencies:[s.lights]}},{"../lights/lights":"1mMDH","./pbr-vertex.glsl":"eJgLU","./pbr-fragment.glsl":"jvQWX","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],eJgLU:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default="uniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 pbr_vPosition;\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n# else\nvarying vec3 pbr_vNormal;\n# endif\n#endif\n\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\n  vec4 pos = u_ModelMatrix * position;\n  pbr_vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;\n  pbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else\n  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n\n#ifdef HAS_UV\n  pbr_vUV = uv;\n#else\n  pbr_vUV = vec2(0.,0.);\n#endif\n}\n"},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jvQWX:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default="#if defined(USE_TEX_LOD) && !defined(FEATURE_GLSL_TEXTURE_LOD)\n# error PBR fragment shader: Texture LOD is not available\n#endif\n\n#if !defined(HAS_TANGENTS) && !defined(FEATURE_GLSL_DERIVATIVES)\n# error PBR fragment shader: Derivatives are not available\n#endif\n\n\n#if (__VERSION__ < 300)\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL1COND; INCR)\n#else\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL2COND; INCR)\n#endif\n\nprecision highp float;\n\nuniform bool pbr_uUnlit;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\nuniform vec2 u_ScaleIBLAmbient;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef ALPHA_CUTOFF\nuniform float u_AlphaCutoff;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n#ifdef PBR_DEBUG\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\n#endif\n\nvarying vec3 pbr_vPosition;\n\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n#else\nvarying vec3 pbr_vNormal;\n#endif\n#endif\n\n\nstruct PBRInfo\n{\n  float NdotL;\n  float NdotV;\n  float NdotH;\n  float LdotH;\n  float VdotH;\n  float perceptualRoughness;\n  float metalness;\n  vec3 reflectance0;\n  vec3 reflectance90;\n  float alphaRoughness;\n  vec3 diffuseColor;\n  vec3 specularColor;\n  vec3 n;\n  vec3 v;\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n#ifdef MANUAL_SRGB\n#ifdef SRGB_FAST_APPROXIMATION\n  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n#else\n  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n#endif\n  return vec4(linOut,srgbIn.w);;\n#else\n  return srgbIn;\n#endif\n}\n\nvec3 getNormal()\n{\n#ifndef HAS_TANGENTS\n  vec3 pos_dx = dFdx(pbr_vPosition);\n  vec3 pos_dy = dFdy(pbr_vPosition);\n  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\n  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\n  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n  vec3 ng = normalize(pbr_vNormal);\n#else\n  vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n  t = normalize(t - ng * dot(ng, t));\n  vec3 b = normalize(cross(ng, t));\n  mat3 tbn = mat3(t, b, ng);\n#else\n  mat3 tbn = pbr_vTBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;\n  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n  vec3 n = normalize(tbn[2].xyz);\n#endif\n\n  return n;\n}\n\n\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n  float mipCount = 9.0;\n  float lod = (pbrInputs.perceptualRoughness * mipCount);\n  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,\n    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n  vec3 specularLight = SRGBtoLINEAR(textureCubeLod(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n  diffuse *= u_ScaleIBLAmbient.x;\n  specular *= u_ScaleIBLAmbient.y;\n\n  return diffuse + specular;\n}\n#endif\n\n\nvec3 diffuse(PBRInfo pbrInputs)\n{\n  return pbrInputs.diffuseColor / M_PI;\n}\n\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n  return pbrInputs.reflectance0 +\n    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *\n    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n\n\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n  float NdotL = pbrInputs.NdotL;\n  float NdotV = pbrInputs.NdotV;\n  float r = pbrInputs.alphaRoughness;\n\n  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n  return attenuationL * attenuationV;\n}\n\n\n\n\n\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n  return roughnessSq / (M_PI * f * f);\n}\n\nvoid PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {\n  pbrInputs.NdotL = 1.0;\n  pbrInputs.NdotH = 0.0;\n  pbrInputs.LdotH = 0.0;\n  pbrInputs.VdotH = 1.0;\n}\n\nvoid PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {\n  vec3 n = pbrInputs.n;\n  vec3 v = pbrInputs.v;\n  vec3 l = normalize(lightDirection);\n  vec3 h = normalize(l+v);\n\n  pbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);\n  pbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);\n  pbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);\n  pbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);\n}\n\nvoid PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {\n  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);\n  PBRInfo_setDirectionalLight(pbrInputs, light_direction);\n}\n\nvec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {\n  vec3 F = specularReflection(pbrInputs);\n  float G = geometricOcclusion(pbrInputs);\n  float D = microfacetDistribution(pbrInputs);\n  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n  vec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);\n  return pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);\n}\n\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n#ifdef HAS_BASECOLORMAP\n  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\n  vec4 baseColor = u_BaseColorFactor;\n#endif\n\n#ifdef ALPHA_CUTOFF\n  if (baseColor.a < u_AlphaCutoff) {\n    discard;\n  }\n#endif\n\n  vec3 color = vec3(0, 0, 0);\n\n  if(pbr_uUnlit){\n    color.rgb = baseColor.rgb;\n  }\n  else{\n\n\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n#endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    vec3 f0 = vec3(0.04);\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n\n\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    vec3 n = getNormal();\n    vec3 v = normalize(u_Camera - pbr_vPosition);\n\n    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n    vec3 reflection = -normalize(reflect(v, n));\n\n    PBRInfo pbrInputs = PBRInfo(\n      0.0,\n      NdotV,\n      0.0,\n      0.0,\n      0.0,\n      perceptualRoughness,\n      metallic,\n      specularEnvironmentR0,\n      specularEnvironmentR90,\n      alphaRoughness,\n      diffuseColor,\n      specularColor,\n      n,\n      v\n    );\n\n#ifdef USE_LIGHTS\n    PBRInfo_setAmbientLight(pbrInputs);\n    color += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uDirectionalLightCount, i++) {\n      if (i < lighting_uDirectionalLightCount) {\n        PBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);\n        color += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);\n      }\n    }\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uPointLightCount, i++) {\n      if (i < lighting_uPointLightCount) {\n        PBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);\n        float attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));\n        color += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);\n      }\n    }\n#endif\n#ifdef USE_IBL\n    color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n#ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\n    color += emissive;\n#endif\n\n#ifdef PBR_DEBUG\n\n\n\n\n\n    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n#endif\n\n  }\n\n  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n"},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],fY7Zz:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"tiltShift",(()=>s));const s={name:"tiltShift",uniforms:{blurRadius:{value:15,min:0,max:50},gradientRadius:{value:200,min:0,max:400},start:[0,0],end:[1,1],invert:{value:!1,private:!0}},fs:"uniform float blurRadius;\nuniform float gradientRadius;\nuniform vec2 start;\nuniform vec2 end;\nuniform bool invert;\n\nvec2 tiltShift_getDelta(vec2 texSize) {\n  vec2 vector = normalize((end - start) * texSize);\n  return invert ? vec2(-vector.y, vector.x) : vector;\n}\n\nvec4 tiltShift_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec4 color = vec4(0.0);\n  float total = 0.0;\n  float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n  vec2 normal = normalize(vec2((start.y - end.y) * texSize.y, (end.x - start.x) * texSize.x));\n  float radius = smoothstep(0.0, 1.0,\n    abs(dot(texCoord * texSize - start * texSize, normal)) / gradientRadius) * blurRadius;\n\n  for (float t = -30.0; t <= 30.0; t++) {\n    float percent = (t + offset - 0.5) / 30.0;\n    float weight = 1.0 - abs(percent);\n    vec4 sample = texture2D(texture, texCoord + tiltShift_getDelta(texSize) / texSize * percent * radius);\n    sample.rgb *= sample.a;\n\n    color += sample * weight;\n    total += weight;\n  }\n\n  color = color / total;\n  color.rgb /= color.a + 0.00001;\n\n  return color;\n}\n",dependencies:[e("../utils/random").random],passes:[{sampler:!0,uniforms:{invert:!1}},{sampler:!0,uniforms:{invert:!0}}]}},{"../utils/random":"ft2wh","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hVzPw:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"triangleBlur",(()=>s));const s={name:"triangleBlur",uniforms:{radius:{value:20,min:0,softMax:100},delta:{value:[1,0],private:!0}},fs:"uniform float radius;\nuniform vec2 delta;\n\nvec4 triangleBlur_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 adjustedDelta = delta * radius / texSize;\n\n  vec4 color = vec4(0.0);\n  float total = 0.0;\n  float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n  for (float t = -30.0; t <= 30.0; t++) {\n    float percent = (t + offset - 0.5) / 30.0;\n    float weight = 1.0 - abs(percent);\n    vec4 sample = texture2D(texture, texCoord + adjustedDelta * percent);\n    sample.rgb *= sample.a;\n\n    color += sample * weight;\n    total += weight;\n  }\n\n  color = color / total;\n  color.rgb /= color.a + 0.00001;\n\n  return color;\n}\n",dependencies:[e("../utils/random").random],passes:[{sampler:!0,uniforms:{delta:[1,0]}},{sampler:!0,uniforms:{delta:[0,1]}}]}},{"../utils/random":"ft2wh","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jU8M3:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"zoomBlur",(()=>s));const s={name:"zoomBlur",uniforms:{center:[.5,.5],strength:{value:.3,min:0,softMax:1}},fs:"\nuniform vec2 center;\nuniform float strength;\n\nvec4 zoomBlur_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec4 color = vec4(0.0);\n  float total = 0.0;\n  vec2 toCenter = center * texSize - texCoord * texSize;\n  float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n  for (float t = 0.0; t <= 40.0; t++) {\n    float percent = (t + offset) / 40.0;\n    float weight = 4.0 * (percent - percent * percent);\n    vec4 sample = texture2D(texture, texCoord + toCenter * percent * strength / texSize);\n    sample.rgb *= sample.a;\n\n    color += sample * weight;\n    total += weight;\n  }\n\n  color = color / total;\n  color.rgb /= color.a + 0.00001;\n\n  return color;\n}\n",dependencies:[e("../utils/random").random],passes:[{sampler:!0}]}},{"../utils/random":"ft2wh","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"7FdCL":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"brightnessContrast",(()=>s));const s={name:"brightnessContrast",uniforms:{brightness:{value:0,min:-1,max:1},contrast:{value:0,min:-1,max:1}},fs:"uniform float brightness;\nuniform float contrast;\n\nvec4 brightnessContrast_filterColor(vec4 color) {\n  color.rgb += brightness;\n  if (contrast > 0.0) {\n    color.rgb = (color.rgb - 0.5) / (1.0 - contrast) + 0.5;\n  } else {\n    color.rgb = (color.rgb - 0.5) * (1.0 + contrast) + 0.5;\n  }\n  return color;\n}\n\nvec4 brightnessContrast_filterColor(vec4 color, vec2 texSize, vec2 texCoords) {\n  return brightnessContrast_filterColor(color);\n}\n",passes:[{filter:!0}]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"25I0l":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"denoise",(()=>s));const s={name:"denoise",uniforms:{strength:{value:.5,min:0,max:.1,adjust:e=>.53+200*Math.pow(1-e,4)}},fs:"uniform float strength;\n\nvec4 denoise_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  float adjustedExponent = 3. + 200. * pow(1. - strength, 4.);\n\n  vec4 center = texture2D(texture, texCoord);\n  vec4 color = vec4(0.0);\n  float total = 0.0;\n  for (float x = -4.0; x <= 4.0; x += 1.0) {\n    for (float y = -4.0; y <= 4.0; y += 1.0) {\n      vec4 sample = texture2D(texture, texCoord + vec2(x, y) / texSize);\n      float weight = 1.0 - abs(dot(sample.rgb - center.rgb, vec3(0.25)));\n      weight = pow(weight, adjustedExponent);\n      color += sample * weight;\n      total += weight;\n    }\n  }\n\n  return color / total;\n}\n",passes:[{sampler:!0},{sampler:!0}]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"8gnKC":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"hueSaturation",(()=>s));const s={name:"hueSaturation",uniforms:{hue:{value:0,min:-1,max:1},saturation:{value:0,min:-1,max:1}},fs:"uniform float hue;\nuniform float saturation;\n\nvec4 hueSaturation_filterColor(vec4 color) {\n  float angle = hue * 3.14159265;\n  float s = sin(angle), c = cos(angle);\n  vec3 weights = (vec3(2.0 * c, -sqrt(3.0) * s - c, sqrt(3.0) * s - c) + 1.0) / 3.0;\n  float len = length(color.rgb);\n  color.rgb = vec3(\n    dot(color.rgb, weights.xyz),\n    dot(color.rgb, weights.zxy),\n    dot(color.rgb, weights.yzx)\n  );\n  float average = (color.r + color.g + color.b) / 3.0;\n  if (saturation > 0.0) {\n    color.rgb += (average - color.rgb) * (1.0 - 1.0 / (1.001 - saturation));\n  } else {\n    color.rgb += (average - color.rgb) * (-saturation);\n  }\n\n  return color;\n}\n\nvec4 hueSaturation_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {\n  return hueSaturation_filterColor(color);\n}\n",passes:[{filter:!0}]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ljz58:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"noise",(()=>s));const s={name:"noise",uniforms:{amount:{value:.5,min:0,max:1}},fs:"uniform float amount;\n\nfloat rand(vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec4 noise_filterColor(vec4 color, vec2 texCoord) {\n  float diff = (rand(texCoord) - 0.5) * amount;\n  color.r += diff;\n  color.g += diff;\n  color.b += diff;\n  return color;\n}\n\nvec4 noise_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {\n  return noise_filterColor(color, texCoord);\n}\n",passes:[{filter:!0}]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],dJ0yt:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"sepia",(()=>s));const s={name:"sepia",uniforms:{amount:{value:.5,min:0,max:1}},fs:"uniform float amount;\n\nvec4 sepia_filterColor(vec4 color) {\n  float r = color.r;\n  float g = color.g;\n  float b = color.b;\n\n  color.r =\n    min(1.0, (r * (1.0 - (0.607 * amount))) + (g * (0.769 * amount)) + (b * (0.189 * amount)));\n  color.g = min(1.0, (r * 0.349 * amount) + (g * (1.0 - (0.314 * amount))) + (b * 0.168 * amount));\n  color.b = min(1.0, (r * 0.272 * amount) + (g * 0.534 * amount) + (b * (1.0 - (0.869 * amount))));\n\n  return color;\n}\n\nvec4 sepia_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {\n  return sepia_filterColor(color);\n}\n",passes:[{filter:!0}]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"8CXBV":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"vibrance",(()=>s));const s={name:"vibrance",uniforms:{amount:{value:0,min:-1,max:1}},fs:"uniform float amount;\n\nvec4 vibrance_filterColor(vec4 color) {\n  float average = (color.r + color.g + color.b) / 3.0;\n  float mx = max(color.r, max(color.g, color.b));\n  float amt = (mx - average) * (-amount * 3.0);\n  color.rgb = mix(color.rgb, vec3(mx), amt);\n  return color;\n}\n\nvec4 vibrance_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {\n  return vibrance_filterColor(color);\n}\n",passes:[{filter:!0}]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],eA9DX:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"vignette",(()=>s));const s={name:"vignette",fs:"uniform float radius;\nuniform float amount;\n\nvec4 vignette_filterColor(vec4 color, vec2 texCoord) {\n  float dist = distance(texCoord, vec2(0.5, 0.5));\n  float ratio = smoothstep(0.8, radius * 0.799, dist * (amount + radius));\n  return color.rgba * ratio + (1.0 - ratio)*vec4(0.0, 0.0, 0.0, 1.0);\n}\n\nvec4 vignette_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {\n  return vignette_filterColor(color, texCoord);\n}\n",uniforms:{radius:{value:.5,min:0,max:1},amount:{value:.5,min:0,max:1}},passes:[{filter:!0}]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"6OFhf":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"colorHalftone",(()=>s));const s={name:"colorHalftone",uniforms:{center:[.5,.5],angle:{value:1.1,softMin:0,softMax:Math.PI/2},size:{value:4,min:1,softMin:3,softMax:20}},fs:"uniform vec2 center;\nuniform float angle;\nuniform float size;\n\nfloat scale = 3.1514 / size;\n\nfloat pattern(float angle, vec2 texSize, vec2 texCoord) {\n  float s = sin(angle), c = cos(angle);\n  vec2 tex = texCoord * texSize - center * texSize;\n  vec2 point = vec2(\n\tc * tex.x - s * tex.y,\n\ts * tex.x + c * tex.y\n  ) * scale;\n  return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {\n  vec3 cmy = 1.0 - color.rgb;\n  float k = min(cmy.x, min(cmy.y, cmy.z));\n  cmy = (cmy - k) / (1.0 - k);\n  cmy = clamp(\n\tcmy * 10.0 - 3.0 + vec3(\n    pattern(angle + 0.26179, texSize, texCoord),\n\t  pattern(angle + 1.30899, texSize, texCoord),\n    pattern(angle, texSize, texCoord)\n  ),\n\t0.0,\n\t1.0\n  );\n  k = clamp(k * 10.0 - 5.0 + pattern(angle + 0.78539, texSize, texCoord), 0.0, 1.0);\n  return vec4(1.0 - cmy - k, color.a);\n}\n",passes:[{filter:!0}]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],a9nGg:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"dotScreen",(()=>s));const s={name:"dotScreen",uniforms:{center:[.5,.5],angle:{value:1.1,softMin:0,softMax:Math.PI/2},size:{value:3,min:1,softMin:3,softMax:20}},fs:"uniform vec2 center;\nuniform float angle;\nuniform float size;\n\nfloat pattern(vec2 texSize, vec2 texCoord) {\n  float scale = 3.1415 / size;\n\n  float s = sin(angle), c = cos(angle);\n  vec2 tex = texCoord * texSize - center * texSize;\n  vec2 point = vec2(\n    c * tex.x - s * tex.y,\n    s * tex.x + c * tex.y\n  ) * scale;\n  return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvec4 dotScreen_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {\n  float average = (color.r + color.g + color.b) / 3.0;\n  return vec4(vec3(average * 10.0 - 5.0 + pattern(texSize, texCoord)), color.a);\n}\n",passes:[{filter:!0}]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"1me9m":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"edgeWork",(()=>s));const s={name:"edgeWork",uniforms:{radius:{value:2,min:1,softMax:50},delta:{value:[1,0],private:!0}},fs:"uniform float radius;\nuniform vec2 delta;\n\nvec4 edgeWork_sampleColor1(sampler2D source, vec2 texSize, vec2 texCoord) {\n  vec2 relativeDelta = radius * delta / texSize;\n\n  vec2 color = vec2(0.0);\n  vec2 total = vec2(0.0);\n  float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n  for (float t = -30.0; t <= 30.0; t++) {\n    float percent = (t + offset - 0.5) / 30.0;\n    float weight = 1.0 - abs(percent);\n    vec3 sampleColor = texture2D(source, texCoord + relativeDelta * percent).rgb;\n    float average = (sampleColor.r + sampleColor.g + sampleColor.b) / 3.0;\n    color.x += average * weight;\n    total.x += weight;\n    if (abs(t) < 15.0) {\n      weight = weight * 2.0 - 1.0;\n      color.y += average * weight;\n      total.y += weight;\n    }\n  }\n  return vec4(color / total, 0.0, 1.0);\n}\n\nvec4 edgeWork_sampleColor2(sampler2D source, vec2 texSize, vec2 texCoord) {\n  vec2 relativeDelta = radius * delta / texSize;\n\n  vec2 color = vec2(0.0);\n  vec2 total = vec2(0.0);\n  float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n  for (float t = -30.0; t <= 30.0; t++) {\n    float percent = (t + offset - 0.5) / 30.0;\n    float weight = 1.0 - abs(percent);\n    vec2 sampleColor = texture2D(source, texCoord + relativeDelta * percent).xy;\n    color.x += sampleColor.x * weight;\n    total.x += weight;\n    if (abs(t) < 15.0) {\n      weight = weight * 2.0 - 1.0;\n      color.y += sampleColor.y * weight;\n      total.y += weight;\n    }\n  }\n  float c = clamp(10000.0 * (color.y / total.y - color.x / total.x) + 0.5, 0.0, 1.0);\n  return vec4(c, c, c, 1.0);\n}\n",dependencies:[e("../utils/random").random],passes:[{sampler:"edgeWork_sampleColor1",uniforms:{delta:[1,0]}},{sampler:"edgeWork_sampleColor2",uniforms:{delta:[0,1]}}]}},{"../utils/random":"ft2wh","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"1cvYW":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"hexagonalPixelate",(()=>s));const s={name:"hexagonalPixelate",uniforms:{center:{value:[.5,.5],hint:"screenspace"},scale:{value:10,min:1,softMin:5,softMax:50}},fs:"uniform vec2 center;\nuniform float scale;\n\nvec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 tex = (texCoord * texSize - center * texSize) / scale;\n  tex.y /= 0.866025404;\n  tex.x -= tex.y * 0.5;\n\n  vec2 a;\n  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {\n    a = vec2(floor(tex.x), floor(tex.y));\n  }\n  else a = vec2(ceil(tex.x), ceil(tex.y));\n  vec2 b = vec2(ceil(tex.x), floor(tex.y));\n  vec2 c = vec2(floor(tex.x), ceil(tex.y));\n\n  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);\n  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);\n  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);\n  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);\n\n  float alen = length(TEX - A);\n  float blen = length(TEX - B);\n  float clen = length(TEX - C);\n\n  vec2 choice;\n  if (alen < blen) {\n    if (alen < clen) choice = a;\n    else choice = c;\n  } else {\n    if (blen < clen) choice = b;\n    else choice = c;\n  }\n\n  choice.x += choice.y * 0.5;\n  choice.y *= 0.866025404;\n  choice *= scale / texSize;\n\n  return texture2D(texture, choice + center);\n}\n",passes:[{sampler:!0}]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],d3z9F:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"ink",(()=>s));const s={name:"ink",uniforms:{strength:{value:.25,min:0,softMax:1}},fs:"uniform float strength;\n\nvec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 dx = vec2(1.0 / texSize.x, 0.0);\n  vec2 dy = vec2(0.0, 1.0 / texSize.y);\n  vec4 color = texture2D(texture, texCoord);\n  float bigTotal = 0.0;\n  float smallTotal = 0.0;\n  vec3 bigAverage = vec3(0.0);\n  vec3 smallAverage = vec3(0.0);\n  for (float x = -2.0; x <= 2.0; x += 1.0) {\n    for (float y = -2.0; y <= 2.0; y += 1.0) {\n      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;\n      bigAverage += sample;\n      bigTotal += 1.0;\n      if (abs(x) + abs(y) < 2.0) {\n        smallAverage += sample;\n        smallTotal += 1.0;\n      }\n    }\n  }\n  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);\n  float power = strength * strength * strength * strength * strength;\n  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);\n}\n",passes:[{sampler:!0}]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"5i5Yr":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"magnify",(()=>s));const s={name:"magnify",uniforms:{screenXY:[0,0],radiusPixels:200,zoom:2,borderWidthPixels:0,borderColor:[255,255,255,255]},fs:"uniform vec2 screenXY;\nuniform float radiusPixels;\nuniform float zoom;\nuniform float borderWidthPixels;\nuniform vec4 borderColor;\n\nvec4 magnify_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 pos = vec2(screenXY.x, 1.0 - screenXY.y);\n  float dist = distance(texCoord * texSize, pos * texSize);\n  if (dist < radiusPixels) {\n    return texture2D(texture, (texCoord - pos) / zoom + pos);\n  }\n\n  if (dist <= radiusPixels + borderWidthPixels) {\n    return borderColor;\n  }\n  return texture2D(texture, texCoord);\n}\n",passes:[{sampler:!0}]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"7ZlgX":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"bulgePinch",(()=>s));const s={name:"bulgePinch",fs:"uniform float radius;\nuniform float strength;\nuniform vec2 center;\n\nvec2 bulgePinch_warp(vec2 coord, vec2 texCenter) {\n  coord -= texCenter;\n  float distance = length(coord);\n  if (distance < radius) {\n    float percent = distance / radius;\n    if (strength > 0.0) {\n      coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);\n    } else {\n      coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);\n    }\n  }\n  coord += texCenter;\n  return coord;\n}\n\nvec4 bulgePinch_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 coord = texCoord * texSize;\n  coord = bulgePinch_warp(coord, center * texSize);\n\n  return warp_sampleColor(texture, texSize, coord);\n}\n",uniforms:{center:[.5,.5],radius:{value:200,min:1,softMax:600},strength:{value:.5,min:-1,max:1}},dependencies:[e("./warp").warp],passes:[{sampler:!0}]}},{"./warp":"3WzfY","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3WzfY":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"warp",(()=>s));const s={name:"warp",fs:"vec4 warp_sampleColor(sampler2D texture, vec2 texSize, vec2 coord) {\n  vec4 color = texture2D(texture, coord / texSize);\n  vec2 clampedCoord = clamp(coord, vec2(0.0), texSize);\n  if (coord != clampedCoord) {\n    color.a *= max(0.0, 1.0 - length(coord - clampedCoord));\n  }\n\n  return color;\n}\n"}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hZQg4:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"swirl",(()=>s));const s={name:"swirl",fs:"uniform float radius;\nuniform float angle;\nuniform vec2 center;\n\nvec2 swirl_warp(vec2 coord, vec2 texCenter) {\n  coord -= texCenter;\n  float distance = length(coord);\n  if (distance < radius) {\n    float percent = (radius - distance) / radius;\n    float theta = percent * percent * angle;\n    float s = sin(theta);\n    float c = cos(theta);\n    coord = vec2(\n      coord.x * c - coord.y * s,\n      coord.x * s + coord.y * c\n    );\n  }\n  coord += texCenter;\n  return coord;\n}\n\nvec4 swirl_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 coord = texCoord * texSize;\n  coord = swirl_warp(coord, center * texSize);\n\n  return warp_sampleColor(texture, texSize, coord);\n}\n",uniforms:{center:[.5,.5],radius:{value:200,min:1,softMax:600},angle:{value:3,softMin:-25,softMax:25}},dependencies:[e("./warp").warp],passes:[{sampler:!0}]}},{"./warp":"3WzfY","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lpj49:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"fxaa",(()=>s));
/**
 * ORIGINAL LICENCE
 * @license
 * Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *  * Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *  * Neither the name of NVIDIA CORPORATION nor the names of its
 *    contributors may be used to endorse or promote products derived
 *    from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ''AS IS'' AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
const s={name:"fxaa",uniforms:{},fs:"\n#define FXAA_QUALITY_PRESET 29\n\n#if (FXAA_QUALITY_PRESET == 10)\n    #define FXAA_QUALITY_PS 3\n    #define FXAA_QUALITY_P0 1.5\n    #define FXAA_QUALITY_P1 3.0\n    #define FXAA_QUALITY_P2 12.0\n#endif\n#if (FXAA_QUALITY_PRESET == 11)\n    #define FXAA_QUALITY_PS 4\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 3.0\n    #define FXAA_QUALITY_P3 12.0\n#endif\n#if (FXAA_QUALITY_PRESET == 12)\n    #define FXAA_QUALITY_PS 5\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 4.0\n    #define FXAA_QUALITY_P4 12.0\n#endif\n#if (FXAA_QUALITY_PRESET == 13)\n    #define FXAA_QUALITY_PS 6\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 4.0\n    #define FXAA_QUALITY_P5 12.0\n#endif\n#if (FXAA_QUALITY_PRESET == 14)\n    #define FXAA_QUALITY_PS 7\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 4.0\n    #define FXAA_QUALITY_P6 12.0\n#endif\n#if (FXAA_QUALITY_PRESET == 15)\n    #define FXAA_QUALITY_PS 8\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 4.0\n    #define FXAA_QUALITY_P7 12.0\n#endif\n#if (FXAA_QUALITY_PRESET == 20)\n    #define FXAA_QUALITY_PS 3\n    #define FXAA_QUALITY_P0 1.5\n    #define FXAA_QUALITY_P1 2.0\n    #define FXAA_QUALITY_P2 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 21)\n    #define FXAA_QUALITY_PS 4\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 22)\n    #define FXAA_QUALITY_PS 5\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 23)\n    #define FXAA_QUALITY_PS 6\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 24)\n    #define FXAA_QUALITY_PS 7\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 3.0\n    #define FXAA_QUALITY_P6 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 25)\n    #define FXAA_QUALITY_PS 8\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 4.0\n    #define FXAA_QUALITY_P7 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 26)\n    #define FXAA_QUALITY_PS 9\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 2.0\n    #define FXAA_QUALITY_P7 4.0\n    #define FXAA_QUALITY_P8 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 27)\n    #define FXAA_QUALITY_PS 10\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 2.0\n    #define FXAA_QUALITY_P7 2.0\n    #define FXAA_QUALITY_P8 4.0\n    #define FXAA_QUALITY_P9 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 28)\n    #define FXAA_QUALITY_PS 11\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 2.0\n    #define FXAA_QUALITY_P7 2.0\n    #define FXAA_QUALITY_P8 2.0\n    #define FXAA_QUALITY_P9 4.0\n    #define FXAA_QUALITY_P10 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 29)\n    #define FXAA_QUALITY_PS 12\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 2.0\n    #define FXAA_QUALITY_P7 2.0\n    #define FXAA_QUALITY_P8 2.0\n    #define FXAA_QUALITY_P9 2.0\n    #define FXAA_QUALITY_P10 4.0\n    #define FXAA_QUALITY_P11 8.0\n#endif\n#if (FXAA_QUALITY_PRESET == 39)\n    #define FXAA_QUALITY_PS 12\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.0\n    #define FXAA_QUALITY_P2 1.0\n    #define FXAA_QUALITY_P3 1.0\n    #define FXAA_QUALITY_P4 1.0\n    #define FXAA_QUALITY_P5 1.5\n    #define FXAA_QUALITY_P6 2.0\n    #define FXAA_QUALITY_P7 2.0\n    #define FXAA_QUALITY_P8 2.0\n    #define FXAA_QUALITY_P9 2.0\n    #define FXAA_QUALITY_P10 4.0\n    #define FXAA_QUALITY_P11 8.0\n#endif\n\n#define FxaaBool bool\n#define FxaaFloat float\n#define FxaaFloat2 vec2\n#define FxaaFloat3 vec3\n#define FxaaFloat4 vec4\n#define FxaaHalf float\n#define FxaaHalf2 vec2\n#define FxaaHalf3 vec3\n#define FxaaHalf4 vec4\n#define FxaaInt2 vec2\n#define FxaaTex sampler2D\n\n#define FxaaSat(x) clamp(x, 0.0, 1.0)\n#define FxaaTexTop(t, p) texture2D(t, p)\n#define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r))\n\nFxaaFloat FxaaLuma_(FxaaFloat4 rgba) { return dot(rgba.rgb, vec3(0.2126, 0.7152, 0.0722)); }\n\nFxaaFloat4 FxaaPixelShader_(\n\n\n    FxaaFloat2 pos,\n\n\n\n\n    FxaaTex tex,\n\n\n\n\n    FxaaFloat2 fxaaQualityRcpFrame,\n\n\n\n\n\n\n\n\n\n\n    FxaaFloat fxaaQualitySubpix,\n\n\n\n\n\n\n\n\n\n    FxaaFloat fxaaQualityEdgeThreshold,\n\n\n\n\n\n\n\n\n\n\n\n\n\n    FxaaFloat fxaaQualityEdgeThresholdMin\n) {\n    FxaaFloat2 posM;\n    posM.x = pos.x;\n    posM.y = pos.y;\n    FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\n    #define lumaM rgbyM.y\n    FxaaFloat lumaS = FxaaLuma_(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));\n    FxaaFloat lumaE = FxaaLuma_(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));\n    FxaaFloat lumaN = FxaaLuma_(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));\n    FxaaFloat lumaW = FxaaLuma_(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));\n    FxaaFloat maxSM = max(lumaS, lumaM);\n    FxaaFloat minSM = min(lumaS, lumaM);\n    FxaaFloat maxESM = max(lumaE, maxSM);\n    FxaaFloat minESM = min(lumaE, minSM);\n    FxaaFloat maxWN = max(lumaN, lumaW);\n    FxaaFloat minWN = min(lumaN, lumaW);\n    FxaaFloat rangeMax = max(maxWN, maxESM);\n    FxaaFloat rangeMin = min(minWN, minESM);\n    FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\n    FxaaFloat range = rangeMax - rangeMin;\n    FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\n    FxaaBool earlyExit = range < rangeMaxClamped;\n    if(earlyExit)\n        return rgbyM;\n    FxaaFloat lumaNW = FxaaLuma_(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));\n    FxaaFloat lumaSE = FxaaLuma_(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));\n    FxaaFloat lumaNE = FxaaLuma_(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));\n    FxaaFloat lumaSW = FxaaLuma_(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\n    FxaaFloat lumaNS = lumaN + lumaS;\n    FxaaFloat lumaWE = lumaW + lumaE;\n    FxaaFloat subpixRcpRange = 1.0/range;\n    FxaaFloat subpixNSWE = lumaNS + lumaWE;\n    FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;\n    FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;\n    FxaaFloat lumaNESE = lumaNE + lumaSE;\n    FxaaFloat lumaNWNE = lumaNW + lumaNE;\n    FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\n    FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\n    FxaaFloat lumaNWSW = lumaNW + lumaSW;\n    FxaaFloat lumaSWSE = lumaSW + lumaSE;\n    FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\n    FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\n    FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\n    FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\n    FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;\n    FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;\n    FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;\n    FxaaFloat lengthSign = fxaaQualityRcpFrame.x;\n    FxaaBool horzSpan = edgeHorz >= edgeVert;\n    FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\n    if(!horzSpan) lumaN = lumaW;\n    if(!horzSpan) lumaS = lumaE;\n    if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;\n    FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;\n    FxaaFloat gradientN = lumaN - lumaM;\n    FxaaFloat gradientS = lumaS - lumaM;\n    FxaaFloat lumaNN = lumaN + lumaM;\n    FxaaFloat lumaSS = lumaS + lumaM;\n    FxaaBool pairN = abs(gradientN) >= abs(gradientS);\n    FxaaFloat gradient = max(abs(gradientN), abs(gradientS));\n    if(pairN) lengthSign = -lengthSign;\n    FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);\n    FxaaFloat2 posB;\n    posB.x = posM.x;\n    posB.y = posM.y;\n    FxaaFloat2 offNP;\n    offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\n    offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\n    if(!horzSpan) posB.x += lengthSign * 0.5;\n    if( horzSpan) posB.y += lengthSign * 0.5;\n    FxaaFloat2 posN;\n    posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;\n    posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;\n    FxaaFloat2 posP;\n    posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;\n    posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;\n    FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;\n    FxaaFloat lumaEndN = FxaaLuma_(FxaaTexTop(tex, posN));\n    FxaaFloat subpixE = subpixC * subpixC;\n    FxaaFloat lumaEndP = FxaaLuma_(FxaaTexTop(tex, posP));\n    if(!pairN) lumaNN = lumaSS;\n    FxaaFloat gradientScaled = gradient * 1.0/4.0;\n    FxaaFloat lumaMM = lumaM - lumaNN * 0.5;\n    FxaaFloat subpixF = subpixD * subpixE;\n    FxaaBool lumaMLTZero = lumaMM < 0.0;\n    lumaEndN -= lumaNN * 0.5;\n    lumaEndP -= lumaNN * 0.5;\n    FxaaBool doneN = abs(lumaEndN) >= gradientScaled;\n    FxaaBool doneP = abs(lumaEndP) >= gradientScaled;\n    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;\n    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;\n    FxaaBool doneNP = (!doneN) || (!doneP);\n    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;\n    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;\n    if(doneNP) {\n        if(!doneN) lumaEndN = FxaaLuma_(FxaaTexTop(tex, posN.xy));\n        if(!doneP) lumaEndP = FxaaLuma_(FxaaTexTop(tex, posP.xy));\n        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n        doneN = abs(lumaEndN) >= gradientScaled;\n        doneP = abs(lumaEndP) >= gradientScaled;\n        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;\n        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;\n        doneNP = (!doneN) || (!doneP);\n        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;\n        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;\n        #if (FXAA_QUALITY_PS > 3)\n        if(doneNP) {\n            if(!doneN) lumaEndN = FxaaLuma_(FxaaTexTop(tex, posN.xy));\n            if(!doneP) lumaEndP = FxaaLuma_(FxaaTexTop(tex, posP.xy));\n            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n            doneN = abs(lumaEndN) >= gradientScaled;\n            doneP = abs(lumaEndP) >= gradientScaled;\n            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;\n            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;\n            doneNP = (!doneN) || (!doneP);\n            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;\n            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;\n            #if (FXAA_QUALITY_PS > 4)\n            if(doneNP) {\n                if(!doneN) lumaEndN = FxaaLuma_(FxaaTexTop(tex, posN.xy));\n                if(!doneP) lumaEndP = FxaaLuma_(FxaaTexTop(tex, posP.xy));\n                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                doneN = abs(lumaEndN) >= gradientScaled;\n                doneP = abs(lumaEndP) >= gradientScaled;\n                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;\n                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;\n                doneNP = (!doneN) || (!doneP);\n                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;\n                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;\n                #if (FXAA_QUALITY_PS > 5)\n                if(doneNP) {\n                    if(!doneN) lumaEndN = FxaaLuma_(FxaaTexTop(tex, posN.xy));\n                    if(!doneP) lumaEndP = FxaaLuma_(FxaaTexTop(tex, posP.xy));\n                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                    doneN = abs(lumaEndN) >= gradientScaled;\n                    doneP = abs(lumaEndP) >= gradientScaled;\n                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;\n                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;\n                    doneNP = (!doneN) || (!doneP);\n                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;\n                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;\n                    #if (FXAA_QUALITY_PS > 6)\n                    if(doneNP) {\n                        if(!doneN) lumaEndN = FxaaLuma_(FxaaTexTop(tex, posN.xy));\n                        if(!doneP) lumaEndP = FxaaLuma_(FxaaTexTop(tex, posP.xy));\n                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                        doneN = abs(lumaEndN) >= gradientScaled;\n                        doneP = abs(lumaEndP) >= gradientScaled;\n                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;\n                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;\n                        doneNP = (!doneN) || (!doneP);\n                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;\n                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;\n                        #if (FXAA_QUALITY_PS > 7)\n                        if(doneNP) {\n                            if(!doneN) lumaEndN = FxaaLuma_(FxaaTexTop(tex, posN.xy));\n                            if(!doneP) lumaEndP = FxaaLuma_(FxaaTexTop(tex, posP.xy));\n                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                            doneN = abs(lumaEndN) >= gradientScaled;\n                            doneP = abs(lumaEndP) >= gradientScaled;\n                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;\n                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;\n                            doneNP = (!doneN) || (!doneP);\n                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;\n                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;\n    #if (FXAA_QUALITY_PS > 8)\n    if(doneNP) {\n        if(!doneN) lumaEndN = FxaaLuma_(FxaaTexTop(tex, posN.xy));\n        if(!doneP) lumaEndP = FxaaLuma_(FxaaTexTop(tex, posP.xy));\n        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n        doneN = abs(lumaEndN) >= gradientScaled;\n        doneP = abs(lumaEndP) >= gradientScaled;\n        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;\n        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;\n        doneNP = (!doneN) || (!doneP);\n        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;\n        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;\n        #if (FXAA_QUALITY_PS > 9)\n        if(doneNP) {\n            if(!doneN) lumaEndN = FxaaLuma_(FxaaTexTop(tex, posN.xy));\n            if(!doneP) lumaEndP = FxaaLuma_(FxaaTexTop(tex, posP.xy));\n            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n            doneN = abs(lumaEndN) >= gradientScaled;\n            doneP = abs(lumaEndP) >= gradientScaled;\n            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;\n            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;\n            doneNP = (!doneN) || (!doneP);\n            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;\n            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;\n            #if (FXAA_QUALITY_PS > 10)\n            if(doneNP) {\n                if(!doneN) lumaEndN = FxaaLuma_(FxaaTexTop(tex, posN.xy));\n                if(!doneP) lumaEndP = FxaaLuma_(FxaaTexTop(tex, posP.xy));\n                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                doneN = abs(lumaEndN) >= gradientScaled;\n                doneP = abs(lumaEndP) >= gradientScaled;\n                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;\n                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;\n                doneNP = (!doneN) || (!doneP);\n                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;\n                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;\n                #if (FXAA_QUALITY_PS > 11)\n                if(doneNP) {\n                    if(!doneN) lumaEndN = FxaaLuma_(FxaaTexTop(tex, posN.xy));\n                    if(!doneP) lumaEndP = FxaaLuma_(FxaaTexTop(tex, posP.xy));\n                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                    doneN = abs(lumaEndN) >= gradientScaled;\n                    doneP = abs(lumaEndP) >= gradientScaled;\n                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;\n                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;\n                    doneNP = (!doneN) || (!doneP);\n                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;\n                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;\n                    #if (FXAA_QUALITY_PS > 12)\n                    if(doneNP) {\n                        if(!doneN) lumaEndN = FxaaLuma_(FxaaTexTop(tex, posN.xy));\n                        if(!doneP) lumaEndP = FxaaLuma_(FxaaTexTop(tex, posP.xy));\n                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                        doneN = abs(lumaEndN) >= gradientScaled;\n                        doneP = abs(lumaEndP) >= gradientScaled;\n                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;\n                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;\n                        doneNP = (!doneN) || (!doneP);\n                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;\n                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;\n                    }\n                    #endif\n                }\n                #endif\n            }\n            #endif\n        }\n        #endif\n    }\n    #endif\n                        }\n                        #endif\n                    }\n                    #endif\n                }\n                #endif\n            }\n            #endif\n        }\n        #endif\n    }\n    FxaaFloat dstN = posM.x - posN.x;\n    FxaaFloat dstP = posP.x - posM.x;\n    if(!horzSpan) dstN = posM.y - posN.y;\n    if(!horzSpan) dstP = posP.y - posM.y;\n    FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\n    FxaaFloat spanLength = (dstP + dstN);\n    FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\n    FxaaFloat spanLengthRcp = 1.0/spanLength;\n    FxaaBool directionN = dstN < dstP;\n    FxaaFloat dst = min(dstN, dstP);\n    FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;\n    FxaaFloat subpixG = subpixF * subpixF;\n    FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\n    FxaaFloat subpixH = subpixG * fxaaQualitySubpix;\n    FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\n    FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\n    if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;\n    if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;\n    return FxaaTexTop(tex, posM);\n}\n\nvec4 fxaa_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n    const float fxaa_QualitySubpix = 0.5;\n    const float fxaa_QualityEdgeThreshold = 0.125;\n    const float fxaa_QualityEdgeThresholdMin = 0.0833;\n\n    return FxaaPixelShader_(\n        texCoord,\n        texture,\n        vec2(1.0) / texSize,\n        fxaa_QualitySubpix,\n        fxaa_QualityEdgeThreshold,\n        fxaa_QualityEdgeThresholdMin\n    );\n}\n",passes:[{sampler:!0}]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"7JKQM":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"transform",(()=>s));const s={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"1TKrY":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getBuffersFromGeometry",(()=>i)),n.export(r,"inferAttributeAccessor",(()=>l));var s=e("@luma.gl/webgl");const o={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function i(e,t,r){const n={};let o=t.indices;for(const i in t.attributes){const c=t.attributes[i],u=a(i,r);if("indices"===i)o=c;else if(c.constant)n[u]=c.value;else{const t=c.value,r={...c};delete r.value,n[u]=[new s.Buffer(e,t),r],l(i,r)}}if(o){const t=o.value||o;s.assert(t instanceof Uint16Array||t instanceof Uint32Array,'attribute array for "indices" must be of integer type');const r={size:1,isIndexed:void 0===o.isIndexed||o.isIndexed};n.indices=[new s.Buffer(e,{data:t,target:34963}),r]}return n}function a(e,t){const{attributeMap:r=o}=t||{};return r&&r[e]||e}function l(e,t){let r;switch(e){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":r="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":r="vectors"}switch(r){case"vectors":t.size=t.size||3;break;case"uvs":t.size=t.size||2}s.assert(Number.isFinite(t.size),`attribute ${e} needs size`)}},{"@luma.gl/webgl":"ktJRJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hcR2s:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@luma.gl/shadertools"),o=e("./buffer-transform"),i=n.interopDefault(o),a=e("./texture-transform"),l=n.interopDefault(a),c=e("@luma.gl/gltools"),u=e("@luma.gl/webgl"),p=e("../lib/model"),d=n.interopDefault(p);r.default=class{static isSupported(e){return c.isWebGL2(e)}constructor(e,t={}){this.gl=e,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(t),Object.seal(this)}delete(){const{model:e,bufferTransform:t,textureTransform:r}=this;e&&e.delete(),t&&t.delete(),r&&r.delete()}run(e={}){const{clearRenderTarget:t=!0}=e,r=this._updateDrawOptions(e);t&&r.framebuffer&&r.framebuffer.clear({color:!0}),this.model.transform(r)}swap(){let e=!1;const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of t)e=e||r.swap();u.assert(e,"Nothing to swap")}getBuffer(e=null){return this.bufferTransform&&this.bufferTransform.getBuffer(e)}getData(e={}){const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of t){const t=r.getData(e);if(t)return t}return null}getFramebuffer(){return this.textureTransform&&this.textureTransform.getFramebuffer()}update(e={}){"elementCount"in e&&this.model.setVertexCount(e.elementCount);const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of t)r.update(e)}_initialize(e={}){const{gl:t}=this;this._buildResourceTransforms(t,e),e=this._updateModelProps(e),this.model=new d.default(t,Object.assign({},e,{fs:e.fs||s.getPassthroughFS({version:u.getShaderVersion(e.vs)}),id:e.id||"transform-model",drawMode:e.drawMode||0,vertexCount:e.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}_updateModelProps(e){let t=Object.assign({},e);const r=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const e of r)t=e.updateModelProps(t);return t}_buildResourceTransforms(e,t){(function(e){return!(u.isObjectEmpty(e.feedbackBuffers)&&u.isObjectEmpty(e.feedbackMap)&&!(e.varyings&&e.varyings.length>0))})(t)&&(this.bufferTransform=new i.default(e,t)),function(e){return!(u.isObjectEmpty(e._sourceTextures)&&!e._targetTexture&&!e._targetTextureVarying)}(t)&&(this.textureTransform=new l.default(e,t)),u.assert(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}_updateDrawOptions(e){let t=Object.assign({},e);const r=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const e of r)t=Object.assign(t,e.getDrawOptions(t));return t}}},{"@luma.gl/shadertools":"h97yR","./buffer-transform":"8OC7l","./texture-transform":"6Zhiw","@luma.gl/gltools":"lC8CG","@luma.gl/webgl":"ktJRJ","../lib/model":"1RgR5","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"8OC7l":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("@luma.gl/gltools"),s=e("@luma.gl/webgl");r.default=class{constructor(e,t={}){this.gl=e,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(t),Object.seal(this)}setupResources(e){for(const t of this.bindings)this._setupTransformFeedback(t,e)}updateModelProps(e={}){const{varyings:t}=this;return t.length>0&&(e=Object.assign({},e,{varyings:t})),e}getDrawOptions(e={}){const t=this.bindings[this.currentIndex],{sourceBuffers:r,transformFeedback:n}=t;return{attributes:Object.assign({},r,e.attributes),transformFeedback:n}}swap(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}update(e={}){this._setupBuffers(e)}getBuffer(e){const{feedbackBuffers:t}=this.bindings[this.currentIndex],r=e?t[e]:null;return r?r instanceof s.Buffer?r:r.buffer:null}getData(e={}){const{varyingName:t}=e,r=this.getBuffer(t);return r?r.getData():null}delete(){for(const e in this.resources)this.resources[e].delete()}_initialize(e={}){this._setupBuffers(e),this.varyings=e.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&s.assert(n.isWebGL2(this.gl))}_getFeedbackBuffers(e){const{sourceBuffers:t={}}=e,r={};if(this.bindings[this.currentIndex]&&Object.assign(r,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(const e in this.feedbackMap){const n=this.feedbackMap[e];e in t&&(r[n]=e)}Object.assign(r,e.feedbackBuffers);for(const e in r){const n=r[e];if("string"==typeof n){const s=t[n],{byteLength:o,usage:i,accessor:a}=s;r[e]=this._createNewBuffer(e,{byteLength:o,usage:i,accessor:a})}}return r}_setupBuffers(e={}){const{sourceBuffers:t=null}=e;Object.assign(this.feedbackMap,e.feedbackMap);const r=this._getFeedbackBuffers(e);this._updateBindings({sourceBuffers:t,feedbackBuffers:r})}_setupTransformFeedback(e,{model:t}){const{program:r}=t;e.transformFeedback=new s.TransformFeedback(this.gl,{program:r,buffers:e.feedbackBuffers})}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this.feedbackMap){const{sourceBuffers:e,feedbackBuffers:t}=this._swapBuffers(this.bindings[this.currentIndex]),r=this._getNextIndex();this.bindings[r]=this._updateBinding(this.bindings[r],{sourceBuffers:e,feedbackBuffers:t})}}_updateBinding(e,t){return e?(Object.assign(e.sourceBuffers,t.sourceBuffers),Object.assign(e.feedbackBuffers,t.feedbackBuffers),e.transformFeedback&&e.transformFeedback.setBuffers(e.feedbackBuffers),e):{sourceBuffers:Object.assign({},t.sourceBuffers),feedbackBuffers:Object.assign({},t.feedbackBuffers)}}_swapBuffers(e){if(!this.feedbackMap)return null;const t=Object.assign({},e.sourceBuffers),r=Object.assign({},e.feedbackBuffers);for(const n in this.feedbackMap){const o=this.feedbackMap[n];t[n]=e.feedbackBuffers[o],r[o]=e.sourceBuffers[n],s.assert(r[o]instanceof s.Buffer)}return{sourceBuffers:t,feedbackBuffers:r}}_createNewBuffer(e,t){const r=new s.Buffer(this.gl,t);return this.resources[e]&&this.resources[e].delete(),this.resources[e]=r,r}_getNextIndex(){return(this.currentIndex+1)%2}}},{"@luma.gl/gltools":"lC8CG","@luma.gl/webgl":"ktJRJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"6Zhiw":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("@luma.gl/webgl"),s=e("@luma.gl/shadertools"),o=e("./transform-shader-utils");const i={10241:9728,10240:9728,10242:33071,10243:33071};r.default=class{constructor(e,t={}){this.gl=e,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(t),Object.seal(this)}updateModelProps(e={}){const t=this._processVertexShader(e);return Object.assign({},e,t)}getDrawOptions(e={}){const{sourceBuffers:t,sourceTextures:r,framebuffer:n,targetTexture:s}=this.bindings[this.currentIndex],i=Object.assign({},t,e.attributes),a=Object.assign({},e.uniforms),l=Object.assign({},e.parameters);let c=e.discard;if(this.hasSourceTextures||this.hasTargetTexture){i.transform_elementID=this.elementIDBuffer;for(const e in this.samplerTextureMap){const t=this.samplerTextureMap[e];a[e]=r[t]}this._setSourceTextureParameters();const e=o.getSizeUniforms({sourceTextureMap:r,targetTextureVarying:this.targetTextureVarying,targetTexture:s});Object.assign(a,e)}return this.hasTargetTexture&&(c=!1,l.viewport=[0,0,n.width,n.height]),{attributes:i,framebuffer:n,uniforms:a,discard:c,parameters:l}}swap(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}update(e={}){this._setupTextures(e)}getTargetTexture(){const{targetTexture:e}=this.bindings[this.currentIndex];return e}getData({packed:e=!1}={}){const{framebuffer:t}=this.bindings[this.currentIndex],r=n.readPixelsToArray(t);if(!e)return r;const o=r.constructor,i=s.typeToChannelCount(this.targetTextureType),a=new o(r.length*i/4);let l=0;for(let e=0;e<r.length;e+=4)for(let t=0;t<i;t++)a[l++]=r[e+t];return a}getFramebuffer(){return this.bindings[this.currentIndex].framebuffer}delete(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}_initialize(e={}){const{_targetTextureVarying:t,_swapTexture:r}=e;this._swapTexture=r,this.targetTextureVarying=t,this.hasTargetTexture=t,this._setupTextures(e)}_createTargetTexture(e){const{sourceTextures:t,textureOrReference:r}=e;if(r instanceof n.Texture2D)return r;const s=t[r];return s?(this._targetRefTexName=r,this._createNewTexture(s)):null}_setupTextures(e={}){const{sourceBuffers:t,_sourceTextures:r={},_targetTexture:n}=e,s=this._createTargetTexture({sourceTextures:r,textureOrReference:n});this.hasSourceTextures=this.hasSourceTextures||r&&Object.keys(r).length>0,this._updateBindings({sourceBuffers:t,sourceTextures:r,targetTexture:s}),"elementCount"in e&&this._updateElementIDBuffer(e.elementCount)}_updateElementIDBuffer(e){if("number"!=typeof e||this.elementCount>=e)return;const t=new Float32Array(e);t.forEach(((e,t,r)=>{r[t]=t})),this.elementIDBuffer?this.elementIDBuffer.setData({data:t}):this.elementIDBuffer=new n.Buffer(this.gl,{data:t,accessor:{size:1}}),this.elementCount=e}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this._swapTexture){const{sourceTextures:e,targetTexture:t}=this._swapTextures(this.bindings[this.currentIndex]),r=this._getNextIndex();this.bindings[r]=this._updateBinding(this.bindings[r],{sourceTextures:e,targetTexture:t})}}_updateBinding(e,t){const{sourceBuffers:r,sourceTextures:s,targetTexture:o}=t;if(e||(e={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(e.sourceTextures,s),Object.assign(e.sourceBuffers,r),o){e.targetTexture=o;const{width:t,height:r}=o,{framebuffer:s}=e;s?(s.update({attachments:{36064:o},resizeAttachments:!1}),s.resize({width:t,height:r})):e.framebuffer=new n.Framebuffer(this.gl,{id:"transform-framebuffer",width:t,height:r,attachments:{36064:o}})}return e}_setSourceTextureParameters(){const e=this.currentIndex,{sourceTextures:t}=this.bindings[e];for(const e in t)t[e].setParameters(i)}_swapTextures(e){if(!this._swapTexture)return null;const t=Object.assign({},e.sourceTextures);t[this._swapTexture]=e.targetTexture;return{sourceTextures:t,targetTexture:e.sourceTextures[this._swapTexture]}}_createNewTexture(e){const t=n.cloneTextureFrom(e,{parameters:{10241:9728,10240:9728,10242:33071,10243:33071},pixelStore:{37440:!1}});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=t,t}_getNextIndex(){return(this.currentIndex+1)%2}_processVertexShader(e={}){const{sourceTextures:t,targetTexture:r}=this.bindings[this.currentIndex],{vs:i,uniforms:a,targetTextureType:l,inject:c,samplerTextureMap:u}=o.updateForTextures({vs:e.vs,sourceTextureMap:t,targetTextureVarying:this.targetTextureVarying,targetTexture:r}),p=s.combineInjects([e.inject||{},c]);this.targetTextureType=l,this.samplerTextureMap=u;return{vs:i,fs:e._fs||s.getPassthroughFS({version:n.getShaderVersion(i),input:this.targetTextureVarying,inputType:l,output:"transform_output"}),modules:this.hasSourceTextures||this.targetTextureVarying?[s._transform].concat(e.modules||[]):e.modules,uniforms:a,inject:p}}}},{"@luma.gl/webgl":"ktJRJ","@luma.gl/shadertools":"h97yR","./transform-shader-utils":"kcuv9","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],kcuv9:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"updateForTextures",(()=>i)),n.export(r,"getSizeUniforms",(()=>a)),n.export(r,"getVaryingType",(()=>l)),n.export(r,"processAttributeDefinition",(()=>c));var s=e("@luma.gl/webgl"),o=e("@luma.gl/shadertools");function i({vs:e,sourceTextureMap:t,targetTextureVarying:r,targetTexture:n}){let i=Object.keys(t).length,a=null;const u={};let p=e,d={};if(i>0||r){const e=p.split("\n"),h=e.slice();if(e.forEach(((e,n,s)=>{if(i>0){const r=c(e,t);if(r){const{updatedLine:e,inject:t}=r;h[n]=e,d=o.combineInjects([d,t]),Object.assign(u,r.samplerTextureMap),i--}}r&&!a&&(a=l(e,r))})),r){s.assert(n);const e=`transform_uSize_${r}`,t={"vs:#decl":`uniform vec2 ${e};\n`,"vs:#main-start":`     vec2 transform_position = transform_getPos(${e});\n     gl_Position = vec4(transform_position, 0, 1.);\n`};d=o.combineInjects([d,t])}p=h.join("\n")}return{vs:p,targetTextureType:a,inject:d,samplerTextureMap:u}}function a({sourceTextureMap:e,targetTextureVarying:t,targetTexture:r}){const n={};let s,o;t&&(({width:s,height:o}=r),n[`transform_uSize_${t}`]=[s,o]);for(const t in e)({width:s,height:o}=e[t]),n[`transform_uSize_${t}`]=[s,o];return n}function l(e,t){const r=o.getQualifierDetails(e,["varying","out"]);return r&&r.name===t?r.type:null}function c(e,t){const r={},n=function(e){return o.getQualifierDetails(e,["attribute","in"])}(e);if(!n)return null;const{type:s,name:i}=n;if(i&&t[i]){const t=`// ${e} => Replaced by Transform with a sampler`,{samplerName:n,sizeName:a,uniformDeclerations:l}=function(e){const t=`transform_uSampler_${e}`,r=`transform_uSize_${e}`;return{samplerName:t,sizeName:r,uniformDeclerations:`  uniform sampler2D ${t};\n  uniform vec2 ${r};`}}(i),c=`  ${s} ${i} = transform_getInput(${n}, ${a}).${o.typeToChannelSuffix(s)};\n`;r[n]=i;return{updatedLine:t,inject:{"vs:#decl":l,"vs:#main-start":c},samplerTextureMap:r}}return null}},{"@luma.gl/webgl":"ktJRJ","@luma.gl/shadertools":"h97yR","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"7GIbS":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"DRAW_MODE",(()=>o));var s=e("@luma.gl/webgl");const o={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};r.default=class{static get DRAW_MODE(){return o}constructor(e={}){const{id:t=s.uid("geometry"),drawMode:r=o.TRIANGLES,attributes:n={},indices:i=null,vertexCount:a=null}=e;this.id=t,this.drawMode=0|r,this.attributes={},this.userData={},this._setAttributes(n,i),this.vertexCount=a||this._calculateVertexCount(this.attributes,this.indices)}get mode(){return this.drawMode}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return`Geometry ${this.id} attribute ${e}`}_setAttributes(e,t){t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t);for(const t in e){let r=e[t];r=ArrayBuffer.isView(r)?{value:r}:r,s.assert(ArrayBuffer.isView(r.value),`${this._print(t)}: must be typed array or object with value as typed array`),"POSITION"!==t&&"positions"!==t||r.size||(r.size=3),"indices"===t?(s.assert(!this.indices),this.indices=r):this.attributes[t]=r}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}_calculateVertexCount(e,t){if(t)return t.value.length;let r=1/0;for(const t in e){const n=e[t],{value:s,size:o,constant:i}=n;!i&&s&&o>=1&&(r=Math.min(r,s.length/o))}return s.assert(Number.isFinite(r)),r}}},{"@luma.gl/webgl":"ktJRJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],gpN1y:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./truncated-cone-geometry"),o=n.interopDefault(s),i=e("@luma.gl/webgl");class a extends o.default{constructor(e={}){const{id:t=i.uid("cone-geometry"),radius:r=1,cap:n=!0}=e;super({...e,id:t,topRadius:0,topCap:Boolean(n),bottomCap:Boolean(n),bottomRadius:r})}}r.default=a},{"./truncated-cone-geometry":"fIZC9","@luma.gl/webgl":"ktJRJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],fIZC9:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../geometry/geometry"),o=n.interopDefault(s),i=e("@luma.gl/webgl");const a={x:[2,0,1],y:[0,1,2],z:[1,2,0]};class l extends o.default{constructor(e={}){const{id:t=i.uid("truncated-code-geometry")}=e,{indices:r,attributes:n}=function(e){const{bottomRadius:t=0,topRadius:r=0,height:n=1,nradial:s=10,nvertical:o=10,verticalAxis:i="y",topCap:l=!1,bottomCap:c=!1}=e,u=(l?2:0)+(c?2:0),p=(s+1)*(o+1+u),d=Math.atan2(t-r,n),h=Math.sin,f=Math.cos,m=Math.PI,g=f(d),y=h(d),b=l?-2:0,v=o+(c?2:0),x=s+1,_=new Uint16Array(s*(o+u)*6),w=a[i],P=new Float32Array(3*p),E=new Float32Array(3*p),A=new Float32Array(2*p);let T=0,S=0;for(let e=b;e<=v;e++){let i,a=e/o,l=n*a;e<0?(l=0,a=1,i=t):e>o?(l=n,a=1,i=r):i=t+e/o*(r-t),-2!==e&&e!==o+2||(i=0,a=0),l-=n/2;for(let t=0;t<x;t++){const r=h(t*m*2/s),n=f(t*m*2/s);P[T+w[0]]=r*i,P[T+w[1]]=l,P[T+w[2]]=n*i,E[T+w[0]]=e<0||e>o?0:r*g,E[T+w[1]]=e<0?-1:e>o?1:y,E[T+w[2]]=e<0||e>o?0:n*g,A[S+0]=t/s,A[S+1]=a,S+=2,T+=3}}for(let e=0;e<o+u;e++)for(let t=0;t<s;t++){const r=6*(e*s+t);_[r+0]=x*(e+0)+0+t,_[r+1]=x*(e+0)+1+t,_[r+2]=x*(e+1)+1+t,_[r+3]=x*(e+0)+0+t,_[r+4]=x*(e+1)+1+t,_[r+5]=x*(e+1)+0+t}return{indices:_,attributes:{POSITION:{size:3,value:P},NORMAL:{size:3,value:E},TEXCOORD_0:{size:2,value:A}}}}(e);super({...e,id:t,indices:r,attributes:{...n,...e.attributes}})}}r.default=l},{"../geometry/geometry":"7GIbS","@luma.gl/webgl":"ktJRJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jwgVv:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../geometry/geometry"),o=n.interopDefault(s),i=e("@luma.gl/webgl");const a=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),l=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),c=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),u=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]),p={POSITION:{size:3,value:new Float32Array(l)},NORMAL:{size:3,value:new Float32Array(c)},TEXCOORD_0:{size:2,value:new Float32Array(u)}};class d extends o.default{constructor(e={}){const{id:t=i.uid("cube-geometry")}=e;super({...e,id:t,indices:{size:1,value:new Uint16Array(a)},attributes:{...p,...e.attributes}})}}r.default=d},{"../geometry/geometry":"7GIbS","@luma.gl/webgl":"ktJRJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ipgRH:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./truncated-cone-geometry"),o=n.interopDefault(s),i=e("@luma.gl/webgl");class a extends o.default{constructor(e={}){const{id:t=i.uid("cylinder-geometry"),radius:r=1}=e;super({...e,id:t,bottomRadius:r,topRadius:r})}}r.default=a},{"./truncated-cone-geometry":"fIZC9","@luma.gl/webgl":"ktJRJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"81RTV":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@math.gl/core"),o=e("../geometry/geometry"),i=n.interopDefault(o),a=e("@luma.gl/webgl");const l=[-1,0,0,0,1,0,0,0,-1,0,0,1,0,-1,0,1,0,0],c=[3,4,5,3,5,1,3,1,0,3,0,4,4,0,2,4,2,5,2,0,1,5,2,1];class u extends i.default{constructor(e={}){const{id:t=a.uid("ico-sphere-geometry")}=e,{indices:r,attributes:n}=function(e){const{iterations:t=0}=e,r=Math.PI,n=2*r,o=[...l];let i=[...c];o.push(),i.push();const a=(()=>{const e={};return(t,r)=>{const n=`${(t*=3)<(r*=3)?t:r}|${t>r?t:r}`;if(n in e)return e[n];const s=o[t],i=o[t+1],a=o[t+2];let l=(s+o[r])/2,c=(i+o[r+1])/2,u=(a+o[r+2])/2;const p=Math.sqrt(l*l+c*c+u*u);return l/=p,c/=p,u/=p,o.push(l,c,u),e[n]=o.length/3-1}})();for(let e=0;e<t;e++){const e=[];for(let t=0;t<i.length;t+=3){const r=a(i[t+0],i[t+1]),n=a(i[t+1],i[t+2]),s=a(i[t+2],i[t+0]);e.push(s,i[t+0],r,r,i[t+1],n,n,i[t+2],s,r,n,s)}i=e}const u=new Array(o.length),p=new Array(o.length/3*2);for(let e=i.length-3;e>=0;e-=3){const e=i[e+0],t=i[e+1],a=i[e+2],l=3*e,c=3*t,d=3*a,h=2*e,f=2*t,m=2*a,g=o[l+0],y=o[l+1],b=o[l+2],v=Math.acos(b/Math.sqrt(g*g+y*y+b*b))/r,x=1-(Math.atan2(y,g)+r)/n,_=o[c+0],w=o[c+1],P=o[c+2],E=Math.acos(P/Math.sqrt(_*_+w*w+P*P))/r,A=1-(Math.atan2(w,_)+r)/n,T=o[d+0],S=o[d+1],j=o[d+2],C=Math.acos(j/Math.sqrt(T*T+S*S+j*j))/r,I=1-(Math.atan2(S,T)+r)/n,M=[T-_,S-w,j-P],k=[g-_,y-w,b-P],L=new s.Vector3(M).cross(k).normalize();let F;(0===x||0===A||0===I)&&(0===x||x>.5)&&(0===A||A>.5)&&(0===I||I>.5)&&(o.push(o[l+0],o[l+1],o[l+2]),F=o.length/3-1,i.push(F),p[2*F+0]=1,p[2*F+1]=v,u[3*F+0]=L.x,u[3*F+1]=L.y,u[3*F+2]=L.z,o.push(o[c+0],o[c+1],o[c+2]),F=o.length/3-1,i.push(F),p[2*F+0]=1,p[2*F+1]=E,u[3*F+0]=L.x,u[3*F+1]=L.y,u[3*F+2]=L.z,o.push(o[d+0],o[d+1],o[d+2]),F=o.length/3-1,i.push(F),p[2*F+0]=1,p[2*F+1]=C,u[3*F+0]=L.x,u[3*F+1]=L.y,u[3*F+2]=L.z),u[l+0]=u[c+0]=u[d+0]=L.x,u[l+1]=u[c+1]=u[d+1]=L.y,u[l+2]=u[c+2]=u[d+2]=L.z,p[h+0]=x,p[h+1]=v,p[f+0]=A,p[f+1]=E,p[m+0]=I,p[m+1]=C}return{indices:{size:1,value:new Uint16Array(i)},attributes:{POSITION:{size:3,value:new Float32Array(o)},NORMAL:{size:3,value:new Float32Array(u)},TEXCOORD_0:{size:2,value:new Float32Array(p)}}}}(e);super({...e,id:t,indices:r,attributes:{...n,...e.attributes}})}}r.default=u},{"@math.gl/core":"aMS0w","../geometry/geometry":"7GIbS","@luma.gl/webgl":"ktJRJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lQM23:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../geometry/geometry"),o=n.interopDefault(s),i=e("../geometry/geometry-utils"),a=e("@luma.gl/webgl");class l extends o.default{constructor(e={}){const{id:t=a.uid("plane-geometry")}=e,{indices:r,attributes:n}=function(e){const{type:t="x,y",offset:r=0,flipCull:n=!1,unpack:s=!1}=e,o=t.split(",");let a=e[`${o[0]}len`]||1;const l=e[`${o[1]}len`]||1,c=e[`n${o[0]}`]||1,u=e[`n${o[1]}`]||1,p=(c+1)*(u+1),d=new Float32Array(3*p),h=new Float32Array(3*p),f=new Float32Array(2*p);n&&(a=-a);let m=0,g=0;for(let e=0;e<=u;e++)for(let s=0;s<=c;s++){const o=s/c,i=e/u;switch(f[m+0]=n?1-o:o,f[m+1]=i,t){case"x,y":d[g+0]=a*o-.5*a,d[g+1]=l*i-.5*l,d[g+2]=r,h[g+0]=0,h[g+1]=0,h[g+2]=n?1:-1;break;case"x,z":d[g+0]=a*o-.5*a,d[g+1]=r,d[g+2]=l*i-.5*l,h[g+0]=0,h[g+1]=n?1:-1,h[g+2]=0;break;case"y,z":d[g+0]=r,d[g+1]=a*o-.5*a,d[g+2]=l*i-.5*l,h[g+0]=n?1:-1,h[g+1]=0,h[g+2]=0;break;default:throw new Error("PlaneGeometry: unknown type")}m+=2,g+=3}const y=c+1,b=new Uint16Array(c*u*6);for(let e=0;e<u;e++)for(let t=0;t<c;t++){const r=6*(e*c+t);b[r+0]=(e+0)*y+t,b[r+1]=(e+1)*y+t,b[r+2]=(e+0)*y+t+1,b[r+3]=(e+1)*y+t,b[r+4]=(e+1)*y+t+1,b[r+5]=(e+0)*y+t+1}const v={indices:{size:1,value:b},attributes:{POSITION:{size:3,value:d},NORMAL:{size:3,value:h},TEXCOORD_0:{size:2,value:f}}};return s?i.unpackIndexedGeometry(v):v}(e);super({...e,id:t,indices:r,attributes:{...n,...e.attributes}})}}r.default=l},{"../geometry/geometry":"7GIbS","../geometry/geometry-utils":"IlcCh","@luma.gl/webgl":"ktJRJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],IlcCh:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){const{indices:t,attributes:r}=e;if(!t)return e;const n=t.value.length,s={};for(const e in r){const o=r[e],{constant:i,value:a,size:l}=o;if(i||!l)continue;const c=new a.constructor(n*l);for(let e=0;e<n;++e){const r=t.value[e];for(let t=0;t<l;t++)c[e*l+t]=a[r*l+t]}s[e]={size:l,value:c}}return{attributes:Object.assign({},r,s)}}n.defineInteropFlag(r),n.export(r,"unpackIndexedGeometry",(()=>s))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"7sTXk":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../geometry/geometry"),o=n.interopDefault(s),i=e("@luma.gl/webgl");class a extends o.default{constructor(e={}){const{id:t=i.uid("sphere-geometry")}=e,{indices:r,attributes:n}=function(e){const{nlat:t=10,nlong:r=10}=e;let{radius:n=1}=e;const s=0,o=Math.PI-s,i=0,a=2*Math.PI-i,l=(t+1)*(r+1);if("number"==typeof n){const e=n;n=(t,r,n,s,o)=>e}const c=new Float32Array(3*l),u=new Float32Array(3*l),p=new Float32Array(2*l),d=new(l>65535?Uint32Array:Uint16Array)(t*r*6);for(let e=0;e<=t;e++)for(let s=0;s<=r;s++){const i=s/r,l=e/t,d=s+e*(r+1),h=2*d,f=3*d,m=a*i,g=o*l,y=Math.sin(m),b=Math.cos(m),v=Math.sin(g),x=b*v,_=Math.cos(g),w=y*v,P=n(x,_,w,i,l);c[f+0]=P*x,c[f+1]=P*_,c[f+2]=P*w,u[f+0]=x,u[f+1]=_,u[f+2]=w,p[h+0]=i,p[h+1]=1-l}const h=r+1;for(let e=0;e<r;e++)for(let r=0;r<t;r++){const n=6*(e*t+r);d[n+0]=r*h+e,d[n+1]=r*h+e+1,d[n+2]=(r+1)*h+e,d[n+3]=(r+1)*h+e,d[n+4]=r*h+e+1,d[n+5]=(r+1)*h+e+1}return{indices:{size:1,value:d},attributes:{POSITION:{size:3,value:c},NORMAL:{size:3,value:u},TEXCOORD_0:{size:2,value:p}}}}(e);super({...e,id:t,indices:r,attributes:{...n,...e.attributes}})}}r.default=a},{"../geometry/geometry":"7GIbS","@luma.gl/webgl":"ktJRJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],deRpX:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"Timeline",(()=>i));let s=1,o=1;class i{constructor(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}addChannel(e){const{delay:t=0,duration:r=Number.POSITIVE_INFINITY,rate:n=1,repeat:o=1}=e,i=s++,a={time:0,delay:t,duration:r,rate:n,repeat:o};return this._setChannelTime(a,this.time),this.channels.set(i,a),i}removeChannel(e){this.channels.delete(e);for(const[t,r]of this.animations)r.channel===e&&this.detachAnimation(t)}isFinished(e){const t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat}getTime(e){if(void 0===e)return this.time;const t=this.channels.get(e);return void 0===t?-1:t.time}setTime(e){this.time=Math.max(0,e);const t=this.channels.values();for(const e of t)this._setChannelTime(e,this.time);const r=this.animations.values();for(const e of r){const{animation:t,channel:r}=e;t.setTime(this.getTime(r))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,t){const r=o++;return this.animations.set(r,{animation:e,channel:t}),e.setTime(this.getTime(t)),r}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,t){const r=t-e.delay;r>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,r)%e.duration,e.time*=e.rate)}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jwczw:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"KeyFrames",(()=>s));class s{constructor(e){this._lastTime=-1,this.startIndex=-1,this.endIndex=-1,this.factor=0,this.times=[],this.values=[],this.setKeyFrames(e),this.setTime(0)}setKeyFrames(e){const t=e.length;this.times.length=t,this.values.length=t;for(let r=0;r<t;++r)this.times[r]=e[r][0],this.values[r]=e[r][1];this._calculateKeys(this._lastTime)}setTime(e){(e=Math.max(0,e))!==this._lastTime&&(this._calculateKeys(e),this._lastTime=e)}getStartTime(){return this.times[this.startIndex]}getEndTime(){return this.times[this.endIndex]}getStartData(){return this.values[this.startIndex]}getEndData(){return this.values[this.endIndex]}_calculateKeys(e){let t=0;const r=this.times.length;for(t=0;t<r-2&&!(this.times[t+1]>e);++t);this.startIndex=t,this.endIndex=t+1;const n=this.times[this.startIndex],s=this.times[this.endIndex];this.factor=Math.min(Math.max(0,(e-n)/(s-n)),1)}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],fYWA7:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../lib/model"),o=n.interopDefault(s),i=e("../geometry/geometry"),a=n.interopDefault(i);const l=[-1,-1,1,-1,-1,1,1,1];class c extends o.default{constructor(e,t){const r=l.map((e=>-1===e?0:e));super(e,Object.assign({},t,{vs:"attribute vec2 aClipSpacePosition;\nattribute vec2 aTexCoord;\nattribute vec2 aCoordinate;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main(void) {\n  gl_Position = vec4(aClipSpacePosition, 0., 1.);\n  position = aClipSpacePosition;\n  coordinate = aCoordinate;\n  uv = aTexCoord;\n}\n",geometry:new a.default({drawMode:5,vertexCount:4,attributes:{aClipSpacePosition:{size:2,value:new Float32Array(l)},aTexCoord:{size:2,value:new Float32Array(r)},aCoordinate:{size:2,value:new Float32Array(r)}}})})),this.setVertexCount(4)}}r.default=c},{"../lib/model":"1RgR5","../geometry/geometry":"7GIbS","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"5FnoG":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@luma.gl/core"),o=e("../misc/geometry"),i=n.interopDefault(o),a=e("./project.glsl"),l=n.interopDefault(a),c=e("./viewport-uniforms");const u={};r.default={name:"project",dependencies:[s.fp32,i.default],vs:l.default,getUniforms:function(e=u){return e.viewport?c.getUniformsFromViewport(e):{}}}},{"@luma.gl/core":"e4zBo","../misc/geometry":"3Rm3z","./project.glsl":"6iATj","./viewport-uniforms":"rRw4N","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3Rm3z":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);r.default={name:"geometry",vs:"\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n",fs:"\n#define SMOOTH_EDGE_RADIUS 0.5\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n"}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"6iATj":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("../../lib/constants");const s=Object.keys(n.COORDINATE_SYSTEM).map((e=>"const int COORDINATE_SYSTEM_".concat(e," = ").concat(n.COORDINATE_SYSTEM[e],";"))).join(""),o=Object.keys(n.PROJECTION_MODE).map((e=>"const int PROJECTION_MODE_".concat(e," = ").concat(n.PROJECTION_MODE[e],";"))).join(""),i=Object.keys(n.UNIT).map((e=>"const int UNIT_".concat(e.toUpperCase()," = ").concat(n.UNIT[e],";"))).join("");r.default="".concat(s,"\n").concat(o,"\n").concat(i,"\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0;\nconst float GLOBE_RADIUS = 256.0;\nfloat project_size() {\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\n    project_uPseudoMeters == false) {\n    \n    if (geometry.position.w == 0.0) {\n      float y = clamp(geometry.worldPosition.y, -89.9, 89.9);\n      return 1.0 / cos(radians(y));\n    }\n  \n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\n    float y2 = y * y;\n    float y4 = y2 * y2;\n    float y6 = y4 * y2;\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n  }\n  return 1.0;\n}\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter * project_size();\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\nvec3 project_normal(vec3 vector) {\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  return normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy),\n        project_size(position_world.z),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\n        return vec4(\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\n          project_size(position_world.z),\n          position_world.w\n        );\n      }\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\n  if (unit == UNIT_COMMON) return size * project_uScale;\n  return size;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\n")},{"../../lib/constants":"ewpM3","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ewpM3:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"COORDINATE_SYSTEM",(()=>i)),n.export(r,"PROJECTION_MODE",(()=>a)),n.export(r,"UNIT",(()=>l)),n.export(r,"EVENTS",(()=>c));var s=e("../utils/log"),o=n.interopDefault(s);const i={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(i,"IDENTITY",{get:()=>o.default.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")()||0});const a={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},l={common:0,meters:1,pixels:2},c={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}}},{"../utils/log":"aMqim","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],rRw4N:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getOffsetOrigin",(()=>m)),n.export(r,"getUniformsFromViewport",(()=>g));var s=e("gl-matrix/mat4"),o=e("gl-matrix/vec4"),i=e("../../lib/constants"),a=e("../../utils/memoize"),l=n.interopDefault(a);const c=[0,0,0,0],u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],d=[0,0,0],h=[0,0,0],f=l.default((function({viewport:e,devicePixelRatio:t,coordinateSystem:r,coordinateOrigin:n}){const{projectionCenter:a,viewProjectionMatrix:l,originCommon:p,cameraPosCommon:h,shaderCoordinateOrigin:f,geospatialOrigin:g}=function(e,t,r){const{viewMatrixUncentered:n,projectionMatrix:i}=e;let{viewMatrix:a,viewProjectionMatrix:l}=e,p=c,d=c,h=e.cameraPosition;const{geospatialOrigin:f,shaderCoordinateOrigin:g,offsetMode:y}=m(e,t,r);y&&(d=e.projectPosition(f||g),h=[h[0]-d[0],h[1]-d[1],h[2]-d[2]],d[3]=1,p=o.transformMat4([],d,l),a=n||a,l=s.multiply([],i,a),l=s.multiply([],l,u));return{viewMatrix:a,viewProjectionMatrix:l,projectionCenter:p,originCommon:d,cameraPosCommon:h,shaderCoordinateOrigin:g,geospatialOrigin:f}}(e,r,n),y=e.getDistanceScales(),b=[e.width*t,e.height*t],v=e.projectionMatrix.transform([0,0,-e.focalDistance,1])[3]||1,x={project_uCoordinateSystem:r,project_uProjectionMode:e.projectionMode,project_uCoordinateOrigin:f,project_uCommonOrigin:p.slice(0,3),project_uCenter:a,project_uPseudoMeters:Boolean(e._pseudoMeters),project_uViewportSize:b,project_uDevicePixelRatio:t,project_uFocalDistance:v,project_uCommonUnitsPerMeter:y.unitsPerMeter,project_uCommonUnitsPerWorldUnit:y.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:d,project_uScale:e.scale,project_uViewProjectionMatrix:l,project_uCameraPosition:h};if(g){const t=e.getDistanceScales(g);switch(r){case i.COORDINATE_SYSTEM.METER_OFFSETS:x.project_uCommonUnitsPerWorldUnit=t.unitsPerMeter,x.project_uCommonUnitsPerWorldUnit2=t.unitsPerMeter2;break;case i.COORDINATE_SYSTEM.LNGLAT:case i.COORDINATE_SYSTEM.LNGLAT_OFFSETS:e._pseudoMeters||(x.project_uCommonUnitsPerMeter=t.unitsPerMeter),x.project_uCommonUnitsPerWorldUnit=t.unitsPerDegree,x.project_uCommonUnitsPerWorldUnit2=t.unitsPerDegree2;break;case i.COORDINATE_SYSTEM.CARTESIAN:x.project_uCommonUnitsPerWorldUnit=[1,1,t.unitsPerMeter[2]],x.project_uCommonUnitsPerWorldUnit2=[0,0,t.unitsPerMeter2[2]]}}return x}));function m(e,t,r=h){let n,s=r,o=!0;switch(n=t===i.COORDINATE_SYSTEM.LNGLAT_OFFSETS||t===i.COORDINATE_SYSTEM.METER_OFFSETS?r:e.isGeospatial?[Math.fround(e.longitude),Math.fround(e.latitude),0]:null,e.projectionMode){case i.PROJECTION_MODE.WEB_MERCATOR:t!==i.COORDINATE_SYSTEM.LNGLAT&&t!==i.COORDINATE_SYSTEM.CARTESIAN||(n=[0,0,0],o=!1);break;case i.PROJECTION_MODE.WEB_MERCATOR_AUTO_OFFSET:t===i.COORDINATE_SYSTEM.LNGLAT?s=n:t===i.COORDINATE_SYSTEM.CARTESIAN&&(s=[Math.fround(e.center[0]),Math.fround(e.center[1]),0],n=e.unprojectPosition(s),s[0]-=r[0],s[1]-=r[1],s[2]-=r[2]);break;case i.PROJECTION_MODE.IDENTITY:s=e.position.map(Math.fround);break;case i.PROJECTION_MODE.GLOBE:o=!1,n=null;break;default:o=!1}return s[2]=s[2]||0,{geospatialOrigin:n,shaderCoordinateOrigin:s,offsetMode:o}}function g({viewport:e,devicePixelRatio:t=1,modelMatrix:r=null,coordinateSystem:n=i.COORDINATE_SYSTEM.DEFAULT,coordinateOrigin:s,autoWrapLongitude:o=!1}={}){n===i.COORDINATE_SYSTEM.DEFAULT&&(n=e.isGeospatial?i.COORDINATE_SYSTEM.LNGLAT:i.COORDINATE_SYSTEM.CARTESIAN);const a=f({viewport:e,devicePixelRatio:t,coordinateSystem:n,coordinateOrigin:s});return a.project_uWrapLongitude=o,a.project_uModelMatrix=r||p,a}},{"gl-matrix/mat4":"jpkXP","gl-matrix/vec4":"6HPef","../../lib/constants":"ewpM3","../../utils/memoize":"3VYtJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3VYtJ":[function(e,t,r){function n(e,t){if(e===t)return!0;if(Array.isArray(e)){const r=e.length;if(!t||t.length!==r)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}return!1}e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e){let t,r={};return s=>{for(const o in s)if(!n(s[o],r[o])){t=e(s),r=s;break}return t}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3Pe7x":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../project/project"),o=n.interopDefault(s);r.default={name:"project32",dependencies:[o.default],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    mat3 rotation = project_get_orientation_matrix(projectedPosition);\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"}},{"../project/project":"5FnoG","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"9Kj96":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../../lib/constants"),o=e("../project/project"),i=n.interopDefault(o),a=e("math.gl"),l=e("../../utils/memoize"),c=n.interopDefault(l),u=e("@math.gl/web-mercator");const p=c.default((function({viewport:e,center:t}){return new a.Matrix4(e.viewProjectionMatrix).invert().transform(t)})),d=c.default((function({viewport:e,shadowMatrices:t}){const r=[],n=e.pixelUnprojectionMatrix,s=e.isGeospatial?void 0:1,o=[[0,0,s],[e.width,0,s],[0,e.height,s],[e.width,e.height,s],[0,0,-1],[e.width,0,-1],[0,e.height,-1],[e.width,e.height,-1]].map((e=>function(e,t){const[r,n,s]=e,o=u.pixelsToWorld([r,n,s],t);return Number.isFinite(s)?o:[o[0],o[1],0]}(e,n)));for(const n of t){const t=n.clone().translate(new a.Vector3(e.center).negate()),s=o.map((e=>t.transform(e))),i=(new a.Matrix4).ortho({left:Math.min(...s.map((e=>e[0]))),right:Math.max(...s.map((e=>e[0]))),bottom:Math.min(...s.map((e=>e[1]))),top:Math.max(...s.map((e=>e[1]))),near:Math.min(...s.map((e=>-e[2]))),far:Math.max(...s.map((e=>-e[2])))});r.push(i.multiplyRight(n))}return r})),h=[0,0,0,1],f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];r.default={name:"shadow",dependencies:[i.default],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:(e={},t={})=>{if(e.drawToShadowMap||e.shadowMaps&&e.shadowMaps.length>0){const{shadowEnabled:r=!0}=e;return r&&e.shadowMatrices&&e.shadowMatrices.length>0?function(e={},t={}){const r={shadow_uDrawShadowMap:Boolean(e.drawToShadowMap),shadow_uUseShadowMap:!!e.shadowMaps&&e.shadowMaps.length>0,shadow_uColor:e.shadowColor||h,shadow_uLightId:e.shadowLightId||0,shadow_uLightCount:e.shadowMatrices.length},n=p({viewport:e.viewport,center:t.project_uCenter}),o=[],i=d({shadowMatrices:e.shadowMatrices,viewport:e.viewport}).slice();for(let r=0;r<e.shadowMatrices.length;r++){const l=i[r],c=l.clone().translate(new a.Vector3(e.viewport.center).negate());t.project_uCoordinateSystem===s.COORDINATE_SYSTEM.LNGLAT&&t.project_uProjectionMode===s.PROJECTION_MODE.WEB_MERCATOR?(i[r]=c,o[r]=n):(i[r]=l.clone().multiplyRight(f),o[r]=c.transform(n))}for(let t=0;t<i.length;t++)r["shadow_uViewProjectionMatrices[".concat(t,"]")]=i[t],r["shadow_uProjectCenters[".concat(t,"]")]=o[t],e.shadowMaps&&e.shadowMaps.length>0?r["shadow_uShadowMap".concat(t)]=e.shadowMaps[t]:r["shadow_uShadowMap".concat(t)]=e.dummyShadowMap;return r}(e,t):{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1}}return{}}}},{"../../lib/constants":"ewpM3","../project/project":"5FnoG","math.gl":"dhC89","../../utils/memoize":"3VYtJ","@math.gl/web-mercator":"hl0Lf","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],dhC89:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@math.gl/core");n.exportAll(s,r)},{"@math.gl/core":"aMS0w","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hl0Lf:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"default",(()=>o.default)),n.export(r,"WebMercatorViewport",(()=>o.default)),n.export(r,"getBounds",(()=>a.default)),n.export(r,"fitBounds",(()=>c.default)),n.export(r,"normalizeViewportProps",(()=>p.default)),n.export(r,"flyToViewport",(()=>h.default)),n.export(r,"getFlyToDuration",(()=>d.getFlyToDuration)),n.export(r,"lngLatToWorld",(()=>f.lngLatToWorld)),n.export(r,"worldToLngLat",(()=>f.worldToLngLat)),n.export(r,"worldToPixels",(()=>f.worldToPixels)),n.export(r,"pixelsToWorld",(()=>f.pixelsToWorld)),n.export(r,"zoomToScale",(()=>f.zoomToScale)),n.export(r,"scaleToZoom",(()=>f.scaleToZoom)),n.export(r,"altitudeToFovy",(()=>f.altitudeToFovy)),n.export(r,"fovyToAltitude",(()=>f.fovyToAltitude)),n.export(r,"getMeterZoom",(()=>f.getMeterZoom)),n.export(r,"getDistanceScales",(()=>f.getDistanceScales)),n.export(r,"addMetersToLngLat",(()=>f.addMetersToLngLat)),n.export(r,"getViewMatrix",(()=>f.getViewMatrix)),n.export(r,"getProjectionMatrix",(()=>f.getProjectionMatrix)),n.export(r,"getProjectionParameters",(()=>f.getProjectionParameters));var s=e("./web-mercator-viewport"),o=n.interopDefault(s),i=e("./get-bounds"),a=n.interopDefault(i),l=e("./fit-bounds"),c=n.interopDefault(l),u=e("./normalize-viewport-props"),p=n.interopDefault(u),d=e("./fly-to-viewport"),h=n.interopDefault(d),f=e("./web-mercator-utils")},{"./web-mercator-viewport":"yWdeK","./get-bounds":"3yREU","./fit-bounds":"1qUHq","./normalize-viewport-props":"ltFn4","./fly-to-viewport":"i1Yqi","./web-mercator-utils":"jdW6h","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],yWdeK:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./math-utils"),o=e("./web-mercator-utils"),i=e("./fit-bounds"),a=n.interopDefault(i),l=e("./get-bounds"),c=n.interopDefault(l),u=e("gl-matrix/mat4"),p=e("gl-matrix/vec2"),d=e("gl-matrix/vec3");class h{constructor({width:e,height:t,latitude:r=0,longitude:n=0,zoom:s=0,pitch:i=0,bearing:a=0,altitude:l=null,fovy:c=null,position:u=null,nearZMultiplier:p=.02,farZMultiplier:h=1.01}={width:1,height:1}){e=e||1,t=t||1,null===c&&null===l?(l=o.DEFAULT_ALTITUDE,c=o.altitudeToFovy(l)):null===c?c=o.altitudeToFovy(l):null===l&&(l=o.fovyToAltitude(c));const f=o.zoomToScale(s);l=Math.max(.75,l);const m=o.getDistanceScales({longitude:n,latitude:r}),g=o.lngLatToWorld([n,r]);g[2]=0,u&&d.add(g,g,d.mul([],u,m.unitsPerMeter)),this.projectionMatrix=o.getProjectionMatrix({width:e,height:t,pitch:i,fovy:c,nearZMultiplier:p,farZMultiplier:h}),this.viewMatrix=o.getViewMatrix({height:t,scale:f,center:g,pitch:i,bearing:a,altitude:l}),this.width=e,this.height=t,this.scale=f,this.latitude=r,this.longitude=n,this.zoom=s,this.pitch=i,this.bearing=a,this.altitude=l,this.fovy=c,this.center=g,this.meterOffset=u||[0,0,0],this.distanceScales=m,this._initMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),Object.freeze(this)}_initMatrices(){const{width:e,height:t,projectionMatrix:r,viewMatrix:n}=this,o=s.createMat4();u.multiply(o,o,r),u.multiply(o,o,n),this.viewProjectionMatrix=o;const i=s.createMat4();u.scale(i,i,[e/2,-t/2,1]),u.translate(i,i,[1,-1,0]),u.multiply(i,i,o);const a=u.invert(s.createMat4(),i);if(!a)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=i,this.pixelUnprojectionMatrix=a}equals(e){return e instanceof h&&(e.width===this.width&&e.height===this.height&&u.equals(e.projectionMatrix,this.projectionMatrix)&&u.equals(e.viewMatrix,this.viewMatrix))}project(e,{topLeft:t=!0}={}){const r=this.projectPosition(e),n=o.worldToPixels(r,this.pixelProjectionMatrix),[s,i]=n,a=t?i:this.height-i;return 2===e.length?[s,a]:[s,a,n[2]]}unproject(e,{topLeft:t=!0,targetZ:r}={}){const[n,s,i]=e,a=t?s:this.height-s,l=r&&r*this.distanceScales.unitsPerMeter[2],c=o.pixelsToWorld([n,a,i],this.pixelUnprojectionMatrix,l),[u,p,d]=this.unprojectPosition(c);return Number.isFinite(i)?[u,p,d]:Number.isFinite(r)?[u,p,r]:[u,p]}projectPosition(e){const[t,r]=o.lngLatToWorld(e);return[t,r,(e[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(e){const[t,r]=o.worldToLngLat(e);return[t,r,(e[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(e){return o.lngLatToWorld(e)}unprojectFlat(e){return o.worldToLngLat(e)}getMapCenterByLngLatPosition({lngLat:e,pos:t}){const r=o.pixelsToWorld(t,this.pixelUnprojectionMatrix),n=o.lngLatToWorld(e),s=p.add([],n,p.negate([],r)),i=p.add([],this.center,s);return o.worldToLngLat(i)}getLocationAtPoint({lngLat:e,pos:t}){return this.getMapCenterByLngLatPosition({lngLat:e,pos:t})}fitBounds(e,t={}){const{width:r,height:n}=this,{longitude:s,latitude:o,zoom:i}=a.default(Object.assign({width:r,height:n,bounds:e},t));return new h({width:r,height:n,longitude:s,latitude:o,zoom:i})}getBounds(e){const t=this.getBoundingRegion(e),r=Math.min(...t.map((e=>e[0]))),n=Math.max(...t.map((e=>e[0])));return[[r,Math.min(...t.map((e=>e[1])))],[n,Math.max(...t.map((e=>e[1])))]]}getBoundingRegion(e={}){return c.default(this,e.z||0)}}r.default=h},{"./math-utils":"20j4S","./web-mercator-utils":"jdW6h","./fit-bounds":"1qUHq","./get-bounds":"3yREU","gl-matrix/mat4":"jpkXP","gl-matrix/vec2":"4aqfr","gl-matrix/vec3":"iJn4G","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"20j4S":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"createMat4",(()=>o)),n.export(r,"transformVector",(()=>i)),n.export(r,"mod",(()=>a)),n.export(r,"lerp",(()=>l)),n.export(r,"log2",(()=>c));var s=e("gl-matrix/vec4");function o(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(e,t){const r=s.transformMat4([],t,e);return s.scale(r,r,1/r[3]),r}function a(e,t){const r=e%t;return r<0?t+r:r}function l(e,t,r){return r*t+(1-r)*e}const c=Math.log2||function(e){return Math.log(e)*Math.LOG2E}},{"gl-matrix/vec4":"6HPef","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jdW6h:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"DEFAULT_ALTITUDE",(()=>g)),n.export(r,"zoomToScale",(()=>y)),n.export(r,"scaleToZoom",(()=>b)),n.export(r,"lngLatToWorld",(()=>v)),n.export(r,"worldToLngLat",(()=>x)),n.export(r,"getMeterZoom",(()=>_)),n.export(r,"getDistanceScales",(()=>w)),n.export(r,"addMetersToLngLat",(()=>P)),n.export(r,"getViewMatrix",(()=>E)),n.export(r,"getProjectionParameters",(()=>A)),n.export(r,"getProjectionMatrix",(()=>T)),n.export(r,"altitudeToFovy",(()=>S)),n.export(r,"fovyToAltitude",(()=>j)),n.export(r,"worldToPixels",(()=>C)),n.export(r,"pixelsToWorld",(()=>I));var s=e("./math-utils"),o=e("gl-matrix/mat4"),i=e("gl-matrix/vec2"),a=e("gl-matrix/vec3"),l=e("./assert"),c=n.interopDefault(l);const u=Math.PI,p=u/4,d=u/180,h=180/u,f=512,m=4003e4,g=1.5;function y(e){return Math.pow(2,e)}function b(e){return s.log2(e)}function v([e,t]){c.default(Number.isFinite(e)),c.default(Number.isFinite(t)&&t>=-90&&t<=90,"invalid latitude");const r=t*d;return[f*(e*d+u)/(2*u),f*(u+Math.log(Math.tan(p+.5*r)))/(2*u)]}function x([e,t]){const r=e/f*(2*u)-u,n=2*(Math.atan(Math.exp(t/f*(2*u)-u))-p);return[r*h,n*h]}function _({latitude:e}){c.default(Number.isFinite(e));const t=Math.cos(e*d);return b(m*t)-9}function w({latitude:e,longitude:t,highPrecision:r=!1}){c.default(Number.isFinite(e)&&Number.isFinite(t));const n={},s=Math.cos(e*d),o=512/360,i=o/s,a=12790407194604047e-21/s;if(n.unitsPerMeter=[a,a,a],n.metersPerUnit=[1/a,1/a,1/a],n.unitsPerDegree=[o,i,a],n.degreesPerUnit=[.703125,1/i,1/a],r){const t=d*Math.tan(e*d)/s,r=o*t/2,l=12790407194604047e-21*t,c=l/i*a;n.unitsPerDegree2=[0,r,l],n.unitsPerMeter2=[c,0,c]}return n}function P(e,t){const[r,n,s]=e,[o,i,a]=t,{unitsPerMeter:l,unitsPerMeter2:c}=w({longitude:r,latitude:n,highPrecision:!0}),u=v(e);u[0]+=o*(l[0]+c[0]*i),u[1]+=i*(l[1]+c[1]*i);const p=x(u),d=(s||0)+(a||0);return Number.isFinite(s)||Number.isFinite(a)?[p[0],p[1],d]:p}function E({height:e,pitch:t,bearing:r,altitude:n,scale:i,center:l=null}){const c=s.createMat4();return o.translate(c,c,[0,0,-n]),o.rotateX(c,c,-t*d),o.rotateZ(c,c,r*d),i/=e,o.scale(c,c,[i,i,i]),l&&o.translate(c,c,a.negate([],l)),c}function A({width:e,height:t,fovy:r=S(g),altitude:n,pitch:s=0,nearZMultiplier:o=1,farZMultiplier:i=1}){void 0!==n&&(r=S(n));const a=.5*r*d,l=j(r),c=s*d,u=Math.sin(a)*l/Math.sin(Math.min(Math.max(Math.PI/2-c-a,.01),Math.PI-.01));return{fov:2*a,aspect:e/t,focalDistance:l,near:o,far:(Math.sin(c)*u+l)*i}}function T({width:e,height:t,pitch:r,altitude:n,fovy:s,nearZMultiplier:i,farZMultiplier:a}){const{fov:l,aspect:c,near:u,far:p}=A({width:e,height:t,altitude:n,fovy:s,pitch:r,nearZMultiplier:i,farZMultiplier:a});return o.perspective([],l,c,u,p)}function S(e){return 2*Math.atan(.5/e)*h}function j(e){return.5/Math.tan(.5*e*d)}function C(e,t){const[r,n,o=0]=e;return c.default(Number.isFinite(r)&&Number.isFinite(n)&&Number.isFinite(o)),s.transformVector(t,[r,n,o,1])}function I(e,t,r=0){const[n,o,a]=e;if(c.default(Number.isFinite(n)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(a)){return s.transformVector(t,[n,o,a,1])}const l=s.transformVector(t,[n,o,0,1]),u=s.transformVector(t,[n,o,1,1]),p=l[2],d=u[2],h=p===d?0:((r||0)-p)/(d-p);return i.lerp([],l,u,h)}},{"./math-utils":"20j4S","gl-matrix/mat4":"jpkXP","gl-matrix/vec2":"4aqfr","gl-matrix/vec3":"iJn4G","./assert":"3ySmn","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3ySmn":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e,t){if(!e)throw new Error(t||"@math.gl/web-mercator: assertion failed.")}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"1qUHq":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./web-mercator-viewport"),o=n.interopDefault(s),i=e("./assert"),a=n.interopDefault(i),l=e("./math-utils");r.default=function({width:e,height:t,bounds:r,minExtent:n=0,maxZoom:s=24,padding:i=0,offset:c=[0,0]}){const[[u,p],[d,h]]=r;if(Number.isFinite(i)){i={top:i,bottom:i,left:i,right:i}}else a.default(Number.isFinite(i.top)&&Number.isFinite(i.bottom)&&Number.isFinite(i.left)&&Number.isFinite(i.right));const f=new o.default({width:e,height:t,longitude:0,latitude:0,zoom:0}),m=f.project([u,h]),g=f.project([d,p]),y=[Math.max(Math.abs(g[0]-m[0]),n),Math.max(Math.abs(g[1]-m[1]),n)],b=[e-i.left-i.right-2*Math.abs(c[0]),t-i.top-i.bottom-2*Math.abs(c[1])];a.default(b[0]>0&&b[1]>0);const v=b[0]/y[0],x=b[1]/y[1],_=(i.right-i.left)/2/v,w=(i.bottom-i.top)/2/x,P=[(g[0]+m[0])/2+_,(g[1]+m[1])/2+w],E=f.unproject(P),A=Math.min(s,f.zoom+l.log2(Math.abs(Math.min(v,x))));return a.default(Number.isFinite(A)),{longitude:E[0],latitude:E[1],zoom:A}}},{"./web-mercator-viewport":"yWdeK","./assert":"3ySmn","./math-utils":"20j4S","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3yREU":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("./web-mercator-utils"),s=e("gl-matrix/vec2"),o=e("./math-utils");const i=Math.PI/180;function a(e,t,r){const{pixelUnprojectionMatrix:i}=e,a=o.transformVector(i,[t,0,1,1]),l=o.transformVector(i,[t,e.height,1,1]),c=(r*e.distanceScales.unitsPerMeter[2]-a[2])/(l[2]-a[2]),u=s.lerp([],a,l,c),p=n.worldToLngLat(u);return p[2]=r,p}r.default=function(e,t=0){const{width:r,height:n,unproject:s}=e,o={targetZ:t},l=s([0,n],o),c=s([r,n],o);let u,p;return(e.fovy?.5*e.fovy*i:Math.atan(.5/e.altitude))>(90-e.pitch)*i-.01?(u=a(e,0,t),p=a(e,r,t)):(u=s([0,0],o),p=s([r,0],o)),[l,c,p,u]}},{"./web-mercator-utils":"jdW6h","gl-matrix/vec2":"4aqfr","./math-utils":"20j4S","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ltFn4:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("./web-mercator-utils"),s=e("./math-utils");r.default=function({width:e,height:t,longitude:r,latitude:o,zoom:i,pitch:a=0,bearing:l=0}){(r<-180||r>180)&&(r=s.mod(r+180,360)-180),(l<-180||l>180)&&(l=s.mod(l+180,360)-180);const c=s.log2(t/512);if(i<=c)i=c,o=0;else{const e=t/2/Math.pow(2,i),r=n.worldToLngLat([0,e])[1];if(o<r)o=r;else{const t=n.worldToLngLat([0,512-e])[1];o>t&&(o=t)}}return{width:e,height:t,longitude:r,latitude:o,zoom:i,pitch:a,bearing:l}}},{"./web-mercator-utils":"jdW6h","./math-utils":"20j4S","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],i1Yqi:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getFlyToDuration",(()=>c));var s=e("./math-utils"),o=e("./web-mercator-utils"),i=e("gl-matrix/vec2");const a=["longitude","latitude","zoom"],l={curve:1.414,speed:1.2};function c(e,t,r={}){r=Object.assign({},l,r);const{screenSpeed:n,speed:s,maxDuration:o}=r,{S:i,rho:a}=u(e,t,r),c=1e3*i;let p;return p=Number.isFinite(n)?c/(n/a):c/s,Number.isFinite(o)&&p>o?0:p}function u(e,t,r){const n=(r=Object.assign({},l,r)).curve,s=e.zoom,a=[e.longitude,e.latitude],c=o.zoomToScale(s),u=t.zoom,p=[t.longitude,t.latitude],d=o.zoomToScale(u-s),h=o.lngLatToWorld(a),f=o.lngLatToWorld(p),m=i.sub([],f,h),g=Math.max(e.width,e.height),y=g/d,b=i.length(m)*c,v=Math.max(b,.01),x=n*n,_=(y*y-g*g+x*x*v*v)/(2*g*x*v),w=(y*y-g*g-x*x*v*v)/(2*y*x*v),P=Math.log(Math.sqrt(_*_+1)-_),E=Math.log(Math.sqrt(w*w+1)-w);return{startZoom:s,startCenterXY:h,uDelta:m,w0:g,u1:b,S:(E-P)/n,rho:n,rho2:x,r0:P,r1:E}}r.default=function(e,t,r,n={}){const l={},{startZoom:c,startCenterXY:p,uDelta:d,w0:h,u1:f,S:m,rho:g,rho2:y,r0:b}=u(e,t,n);if(f<.01){for(const n of a){const o=e[n],i=t[n];l[n]=s.lerp(o,i,r)}return l}const v=r*m,x=Math.cosh(b)/Math.cosh(b+g*v),_=h*((Math.cosh(b)*Math.tanh(b+g*v)-Math.sinh(b))/y)/f,w=1/x,P=c+o.scaleToZoom(w),E=i.scale([],d,_);i.add(E,E,p);const A=o.worldToLngLat(E);return l.longitude=A[0],l.latitude=A[1],l.zoom=P,l}},{"./math-utils":"20j4S","./web-mercator-utils":"jdW6h","gl-matrix/vec2":"4aqfr","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ftDyD:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("@luma.gl/core");r.default={inject:{"vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  // for picking depth values\n  picking_setPickingAttribute(geometry.position.z);\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}},...n.picking}},{"@luma.gl/core":"e4zBo","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],b93pG:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@luma.gl/core"),o=e("./ambient-light"),i=e("./directional-light"),a=e("../../lib/effect"),l=n.interopDefault(a),c=e("math.gl"),u=e("../../passes/shadow-pass"),p=n.interopDefault(u),d=e("../../shaderlib/shadow/shadow"),h=n.interopDefault(d);const f={color:[255,255,255],intensity:1},m=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],g=[0,0,0,200/255];class y extends l.default{constructor(e){super(e),this.ambientLight=null,this.directionalLights=[],this.pointLights=[],this.shadowColor=g,this.shadowPasses=[],this.shadowMaps=[],this.dummyShadowMap=null,this.shadow=!1,this.programManager=null;for(const t in e){const r=e[t];switch(r.type){case"ambient":this.ambientLight=r;break;case"directional":this.directionalLights.push(r);break;case"point":this.pointLights.push(r)}}this._applyDefaultLights(),this.shadow=this.directionalLights.some((e=>e.shadow))}preRender(e,{layers:t,layerFilter:r,viewports:n,onViewportActive:o,views:i}){if(this.shadow){this.shadowMatrices=this._createLightMatrix(),0===this.shadowPasses.length&&this._createShadowPasses(e),this.programManager||(this.programManager=s.ProgramManager.getDefaultProgramManager(e),h.default&&this.programManager.addDefaultModule(h.default)),this.dummyShadowMap||(this.dummyShadowMap=new s.Texture2D(e,{width:1,height:1}));for(let e=0;e<this.shadowPasses.length;e++){this.shadowPasses[e].render({layers:t,layerFilter:r,viewports:n,onViewportActive:o,views:i,moduleParameters:{shadowLightId:e,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}}getModuleParameters(e){const t=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return t.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map((t=>t.getProjectedLight({layer:e}))),pointLights:this.pointLights.map((t=>t.getProjectedLight({layer:e})))},t}cleanup(){for(const e of this.shadowPasses)e.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(h.default),this.programManager=null)}_createLightMatrix(){const e=[];for(const t of this.directionalLights){const r=(new c.Matrix4).lookAt({eye:new c.Vector3(t.direction).negate()});e.push(r)}return e}_createShadowPasses(e){for(let t=0;t<this.directionalLights.length;t++){const r=new p.default(e);this.shadowPasses[t]=r,this.shadowMaps[t]=r.shadowMap}}_applyDefaultLights(){const{ambientLight:e,pointLights:t,directionalLights:r}=this;e||0!==t.length||0!==r.length||(this.ambientLight=new o.AmbientLight(f),this.directionalLights.push(new i.DirectionalLight(m[0]),new i.DirectionalLight(m[1])))}}r.default=y},{"@luma.gl/core":"e4zBo","./ambient-light":"h0Tez","./directional-light":"ettPi","../../lib/effect":"5oG8a","math.gl":"dhC89","../../passes/shadow-pass":"kJPNJ","../../shaderlib/shadow/shadow":"9Kj96","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],h0Tez:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"AmbientLight",(()=>a));const s=[255,255,255],o=1;let i=0;class a{constructor(e={}){const{color:t=s}=e,{intensity:r=o}=e;this.id=e.id||"ambient-".concat(i++),this.color=t,this.intensity=r,this.type="ambient"}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ettPi:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"DirectionalLight",(()=>c));var s=e("math.gl");const o=[255,255,255],i=1,a=[0,0,-1];let l=0;class c{constructor(e={}){const{color:t=o}=e,{intensity:r=i}=e,{direction:n=a}=e,{_shadow:c=!1}=e;this.id=e.id||"directional-".concat(l++),this.color=t,this.intensity=r,this.type="directional",this.direction=new s.Vector3(n).normalize().toArray(),this.shadow=c}getProjectedLight(){return this}}},{"math.gl":"dhC89","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"5oG8a":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);r.default=class{constructor(e={}){const{id:t="effect"}=e;this.id=t,this.props={...e}}preRender(){}getModuleParameters(){}cleanup(){}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],kJPNJ:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./layers-pass"),o=n.interopDefault(s),i=e("@luma.gl/core");class a extends o.default{constructor(e,t){super(e,t),this.shadowMap=new i.Texture2D(e,{width:1,height:1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.depthBuffer=new i.Renderbuffer(e,{format:33189,width:1,height:1}),this.fbo=new i.Framebuffer(e,{id:"shadowmap",width:1,height:1,attachments:{36064:this.shadowMap,36096:this.depthBuffer}})}render(e){const t=this.fbo;i.withParameters(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},(()=>{const r=e.viewports[0],n=i.cssToDeviceRatio(this.gl),s=r.width*n,o=r.height*n;s===t.width&&o===t.height||t.resize({width:s,height:o}),super.render({...e,target:t,pass:"shadow"})}))}shouldDrawLayer(e){return!1!==e.props.shadowEnabled}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}r.default=a},{"./layers-pass":"2KBcN","@luma.gl/core":"e4zBo","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"2KBcN":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"layerIndexResolver",(()=>l));var s=e("./pass"),o=n.interopDefault(s),i=e("@luma.gl/core");class a extends o.default{render(e){const t=this.gl;return i.setParameters(t,{framebuffer:e.target}),this._drawLayers(e)}_drawLayers(e){const{viewports:t,views:r,onViewportActive:n,clearCanvas:s=!0}=e;e.pass=e.pass||"unknown";const o=this.gl;s&&function(e){const t=e.drawingBufferWidth,r=e.drawingBufferHeight;i.setParameters(e,{viewport:[0,0,t,r]}),e.clear(16640)}(o);const a=[];for(const s of t){const t=s.viewport||s,i=r&&r[t.id];n(t);const l=this._getDrawLayerParams(t,e);e.view=i;const c=t.subViewports||[t];for(const t of c){e.viewport=t;const r=this._drawLayersInViewport(o,e,l);a.push(r)}}return a}_getDrawLayerParams(e,{layers:t,pass:r,layerFilter:n,effects:s,moduleParameters:o}){const i=[],a=l(),c={viewport:e,isPicking:r.startsWith("picking"),renderPass:r},u={};for(let l=0;l<t.length;l++){const p=t[l],d=this._shouldDrawLayer(p,c,n,u),h={shouldDrawLayer:d,layerRenderIndex:a(p,d)};d&&(h.moduleParameters=this._getModuleParameters(p,s,r,o),h.layerParameters=this.getLayerParameters(p,l,e)),i[l]=h}return i}_drawLayersInViewport(e,{layers:t,pass:r,viewport:n,view:s},o){const a=function(e,{viewport:t}){const r=e.canvas?e.canvas.clientHeight||e.canvas.height:100,n=t,s=i.cssToDeviceRatio(e);return[n.x*s,(r-n.y-n.height)*s,n.width*s,n.height*s]}(e,{viewport:n});if(s&&s.props.clear){const t=!0===s.props.clear?{color:!0,depth:!0}:s.props.clear;i.withParameters(e,{scissorTest:!0,scissor:a},(()=>i.clear(e,t)))}const l={totalCount:t.length,visibleCount:0,compositeCount:0,pickableCount:0};i.setParameters(e,{viewport:a});for(let e=0;e<t.length;e++){const s=t[e],{shouldDrawLayer:i,layerRenderIndex:a,moduleParameters:c,layerParameters:u}=o[e];if(i&&s.props.pickable&&l.pickableCount++,s.isComposite)l.compositeCount++;else if(i){l.visibleCount++,c.viewport=n;try{s.drawLayer({moduleParameters:c,uniforms:{layerIndex:a},parameters:u})}catch(e){s.raiseError(e,"drawing ".concat(s," to ").concat(r))}}}return l}shouldDrawLayer(e){return!0}getModuleParameters(e,t){return null}getLayerParameters(e,t){return e.props.parameters}_shouldDrawLayer(e,t,r,n){if(!(this.shouldDrawLayer(e)&&e.props.visible))return!1;t.layer=e;let s=e.parent;for(;s;){if(!s.props.visible||!s.filterSubLayer(t))return!1;t.layer=s,s=s.parent}if(r){const e=t.layer.id;if(e in n||(n[e]=r(t)),!n[e])return!1}return e.activateViewport(t.viewport),!0}_getModuleParameters(e,t,r,n){const s=Object.assign(Object.create(e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,pickingActive:0,devicePixelRatio:i.cssToDeviceRatio(this.gl)});if(t)for(const r of t)Object.assign(s,r.getModuleParameters(e));return Object.assign(s,this.getModuleParameters(e,t),n)}}function l(e=0,t={}){const r={},n=(s,o)=>{const i=s.props._offset,a=s.id,c=s.parent&&s.parent.id;let u;if(c&&!(c in t)&&n(s.parent,!1),c in r){const e=r[c]=r[c]||l(t[c],t);u=e(s,o),r[a]=e}else Number.isFinite(i)?(u=i+(t[c]||0),r[a]=null):u=e;return o&&u>=e&&(e=u+1),t[a]=u,u};return n}r.default=a},{"./pass":"fqrye","@luma.gl/core":"e4zBo","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],fqrye:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);r.default=class{constructor(e,t={}){const{id:r="pass"}=t;this.id=r,this.gl=e,this.props={...t}}setProps(e){Object.assign(this.props,e)}render(){}cleanup(){}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],cGIEb:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"PointLight",(()=>p));var s=e("../../shaderlib/project/project-functions"),o=e("../../lib");const i=[255,255,255],a=1,l=[0,0,1],c=[0,0,1];let u=0;class p{constructor(e={}){const{color:t=i}=e,{intensity:r=a}=e,{position:n=c}=e;this.id=e.id||"point-".concat(u++),this.color=t,this.intensity=r,this.type="point",this.position=n,this.attenuation=function(e){return"attenuation"in e?e.attenuation:"intensity"in e?[0,0,e.intensity]:l}(e),this.projectedLight={...this}}getProjectedLight({layer:e}){const{projectedLight:t}=this,r=e.context.viewport,{coordinateSystem:n,coordinateOrigin:i}=e.props,a=s.projectPosition(this.position,{viewport:r,coordinateSystem:n,coordinateOrigin:i,fromCoordinateSystem:r.isGeospatial?o.COORDINATE_SYSTEM.LNGLAT:o.COORDINATE_SYSTEM.CARTESIAN,fromCoordinateOrigin:[0,0,0]});return t.color=this.color,t.intensity=this.intensity,t.position=a,t}}},{"../../shaderlib/project/project-functions":"4bcKH","../../lib":"5QPki","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"4bcKH":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getWorldPosition",(()=>d)),n.export(r,"projectPosition",(()=>h));var s=e("../../lib/constants"),o=e("./viewport-uniforms"),i=e("../../viewports/web-mercator-viewport"),a=n.interopDefault(i),l=e("gl-matrix/vec4"),c=e("gl-matrix/vec3"),u=e("@math.gl/web-mercator");function p(e,t,r=!1){const n=t.projectPosition(e);if(r&&t instanceof a.default){const[r,s,o=0]=e,i=t.getDistanceScales([r,s]);n[2]=o*i.unitsPerMeter[2]}return n}function d(e,{viewport:t,modelMatrix:r,coordinateSystem:n,coordinateOrigin:o,offsetMode:i}){let[a,c,d=0]=e;switch(r&&([a,c,d]=l.transformMat4([],[a,c,d,1],r)),n){case s.COORDINATE_SYSTEM.LNGLAT:return p([a,c,d],t,i);case s.COORDINATE_SYSTEM.LNGLAT_OFFSETS:return p([a+o[0],c+o[1],d+(o[2]||0)],t,i);case s.COORDINATE_SYSTEM.METER_OFFSETS:return p(u.addMetersToLngLat(o,[a,c,d]),t,i);case s.COORDINATE_SYSTEM.CARTESIAN:default:return t.isGeospatial?[a+o[0],c+o[1],d+o[2]]:t.projectPosition([a,c,d])}}function h(e,t){const{viewport:r,coordinateSystem:n,coordinateOrigin:i,modelMatrix:a,fromCoordinateSystem:l,fromCoordinateOrigin:u}=function(e){const t={...e};let{coordinateSystem:r}=e;const{viewport:n,coordinateOrigin:o,fromCoordinateSystem:i,fromCoordinateOrigin:a}=e;return r===s.COORDINATE_SYSTEM.DEFAULT&&(r=n.isGeospatial?s.COORDINATE_SYSTEM.LNGLAT:s.COORDINATE_SYSTEM.CARTESIAN),void 0===i&&(t.fromCoordinateSystem=r),void 0===a&&(t.fromCoordinateOrigin=o),t.coordinateSystem=r,t}(t),{geospatialOrigin:p,shaderCoordinateOrigin:h,offsetMode:f}=o.getOffsetOrigin(r,n,i),m=d(e,{viewport:r,modelMatrix:a,coordinateSystem:l,coordinateOrigin:u,offsetMode:f});if(f){const e=r.projectPosition(p||h);c.sub(m,m,e)}return m}},{"../../lib/constants":"ewpM3","./viewport-uniforms":"rRw4N","../../viewports/web-mercator-viewport":"dprUt","gl-matrix/vec4":"6HPef","gl-matrix/vec3":"iJn4G","@math.gl/web-mercator":"hl0Lf","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],dprUt:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./viewport"),o=n.interopDefault(s),i=e("@math.gl/web-mercator"),a=e("gl-matrix/vec2"),l=e("math.gl");const c=Math.PI/180;function u(e){return 512/4003e4/Math.cos(e*c)}class p extends o.default{constructor(e={}){const{latitude:t=0,longitude:r=0,zoom:n=11,pitch:s=0,bearing:o=0,nearZMultiplier:a=.1,farZMultiplier:c=1.01,orthographic:u=!1,projectionMatrix:p,repeat:d=!1,worldOffset:h=0,legacyMeterSizes:f=!1}=e;let{width:m,height:g,altitude:y=1.5}=e;const b=Math.pow(2,n);let v;m=m||1,g=g||1;let x=null;p?(y=p[5]/2,v=i.altitudeToFovy(y)):(e.fovy?(v=e.fovy,y=i.fovyToAltitude(v)):v=i.altitudeToFovy(y),x=i.getProjectionParameters({width:m,height:g,pitch:s,fovy:v,nearZMultiplier:a,farZMultiplier:c}));let _=i.getViewMatrix({height:g,pitch:s,bearing:o,scale:b,altitude:y});if(h){_=(new l.Matrix4).translate([512*h,0,0]).multiplyLeft(_)}super({...e,width:m,height:g,viewMatrix:_,longitude:r,latitude:t,zoom:n,...x,fovy:v,focalDistance:y}),this.latitude=t,this.longitude=r,this.zoom=n,this.pitch=s,this.bearing=o,this.altitude=y,this.fovy=v,this.orthographic=u,this._subViewports=d?[]:null,this._pseudoMeters=f,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),t=Math.floor((e[0]+180)/360),r=Math.ceil((e[2]-180)/360);for(let e=t;e<=r;e++){const t=e?new p({...this,worldOffset:e}):this;this._subViewports.push(t)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[t,r]=this.projectFlat(e);return[t,r,(e[2]||0)*u(e[1])]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[t,r]=this.unprojectFlat(e);return[t,r,(e[2]||0)/u(r)]}addMetersToLngLat(e,t){return i.addMetersToLngLat(e,t)}panByPosition(e,t){const r=i.pixelsToWorld(t,this.pixelUnprojectionMatrix),n=this.projectFlat(e),s=a.add([],n,a.negate([],r)),o=a.add([],this.center,s),[l,c]=this.unprojectFlat(o);return{longitude:l,latitude:c}}getBounds(e={}){const t=i.getBounds(this,e.z||0);return[Math.min(t[0][0],t[1][0],t[2][0],t[3][0]),Math.min(t[0][1],t[1][1],t[2][1],t[3][1]),Math.max(t[0][0],t[1][0],t[2][0],t[3][0]),Math.max(t[0][1],t[1][1],t[2][1],t[3][1])]}fitBounds(e,t={}){const{width:r,height:n}=this,{longitude:s,latitude:o,zoom:a}=i.fitBounds({width:r,height:n,bounds:e,...t});return new p({width:r,height:n,longitude:s,latitude:o,zoom:a})}}r.default=p,p.displayName="WebMercatorViewport"},{"./viewport":"eKRkf","@math.gl/web-mercator":"hl0Lf","gl-matrix/vec2":"4aqfr","math.gl":"dhC89","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],eKRkf:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../utils/log"),o=n.interopDefault(s),i=e("../utils/math-utils"),a=e("math.gl"),l=e("gl-matrix/mat4"),c=e("@math.gl/web-mercator"),u=e("../lib/constants");const p=Math.PI/180,d=i.createMat4(),h=[0,0,0],f={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};class m{constructor(e={}){const{id:t=null,x:r=0,y:n=0,width:s=1,height:o=1}=e;this.id=t||this.constructor.displayName||"viewport",this.x=r,this.y=n,this.width=s||1,this.height=o||1,this._frustumPlanes={},this._initViewMatrix(e),this._initProjectionMatrix(e),this._initPixelMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?u.PROJECTION_MODE.WEB_MERCATOR:u.PROJECTION_MODE.WEB_MERCATOR_AUTO_OFFSET:u.PROJECTION_MODE.IDENTITY}equals(e){return e instanceof m&&(this===e||e.width===this.width&&e.height===this.height&&e.scale===this.scale&&a.equals(e.projectionMatrix,this.projectionMatrix)&&a.equals(e.viewMatrix,this.viewMatrix))}project(e,{topLeft:t=!0}={}){const r=this.projectPosition(e),n=c.worldToPixels(r,this.pixelProjectionMatrix),[s,o]=n,i=t?o:this.height-o;return 2===e.length?[s,i]:[s,i,n[2]]}unproject(e,{topLeft:t=!0,targetZ:r}={}){const[n,s,o]=e,i=t?s:this.height-s,a=r&&r*this.distanceScales.unitsPerMeter[2],l=c.pixelsToWorld([n,i,o],this.pixelUnprojectionMatrix,a),[u,p,d]=this.unprojectPosition(l);return Number.isFinite(o)?[u,p,d]:Number.isFinite(r)?[u,p,r]:[u,p]}projectPosition(e){const[t,r]=this.projectFlat(e);return[t,r,(e[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(e){const[t,r]=this.unprojectFlat(e);return[t,r,(e[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(e){return this.isGeospatial?c.lngLatToWorld(e):e}unprojectFlat(e){return this.isGeospatial?c.worldToLngLat(e):e}getBounds(e={}){const t={targetZ:e.z||0},r=this.unproject([0,0],t),n=this.unproject([this.width,0],t),s=this.unproject([0,this.height],t),o=this.unproject([this.width,this.height],t);return[Math.min(r[0],n[0],s[0],o[0]),Math.min(r[1],n[1],s[1],o[1]),Math.max(r[0],n[0],s[0],o[0]),Math.max(r[1],n[1],s[1],o[1])]}getDistanceScales(e=null){return e?c.getDistanceScales({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel({x:e,y:t,width:r=1,height:n=1}){return e<this.x+this.width&&this.x<e+r&&t<this.y+this.height&&this.y<t+n}getFrustumPlanes(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,i.getFrustumPlanes(this.viewProjectionMatrix)),this._frustumPlanes}panByPosition(e,t){return null}getCameraPosition(){return this.cameraPosition}getCameraDirection(){return this.cameraDirection}getCameraUp(){return this.cameraUp}_createProjectionMatrix({orthographic:e,fovyRadians:t,aspect:r,focalDistance:n,near:s,far:o}){return e?(new a.Matrix4).orthographic({fovy:t,aspect:r,focalDistance:n,near:s,far:o}):(new a.Matrix4).perspective({fovy:t,aspect:r,near:s,far:o})}_initViewMatrix(e){const{viewMatrix:t=d,longitude:r=null,latitude:n=null,zoom:s=null,position:o=null,modelMatrix:i=null,focalDistance:l=1,distanceScales:u=null}=e;this.isGeospatial=Number.isFinite(n)&&Number.isFinite(r),this.zoom=s,Number.isFinite(this.zoom)||(this.zoom=this.isGeospatial?c.getMeterZoom({latitude:n})+Math.log2(l):0);const p=Math.pow(2,this.zoom);this.scale=p,this.distanceScales=this.isGeospatial?c.getDistanceScales({latitude:n,longitude:r}):u||f,this.focalDistance=l,this.distanceScales.metersPerUnit=new a.Vector3(this.distanceScales.metersPerUnit),this.distanceScales.unitsPerMeter=new a.Vector3(this.distanceScales.unitsPerMeter),this.position=h,this.meterOffset=h,o&&(this.position=o,this.modelMatrix=i,this.meterOffset=i?i.transformVector(o):o),this.isGeospatial?(this.longitude=r,this.latitude=n,this.center=this._getCenterInWorld({longitude:r,latitude:n})):this.center=o?this.projectPosition(o):[0,0,0],this.viewMatrixUncentered=t,this.viewMatrix=(new a.Matrix4).multiplyRight(this.viewMatrixUncentered).translate(new a.Vector3(this.center||h).negate())}_getCenterInWorld({longitude:e,latitude:t}){const{meterOffset:r,distanceScales:n}=this,s=new a.Vector3(this.projectPosition([e,t,0]));if(r){const e=new a.Vector3(r).scale(n.unitsPerMeter);s.add(e)}return s}_initProjectionMatrix(e){const{projectionMatrix:t=null,orthographic:r=!1,fovyRadians:n,fovy:s=75,near:o=.1,far:i=1e3,focalDistance:a=1}=e;this.projectionMatrix=t||this._createProjectionMatrix({orthographic:r,fovyRadians:n||s*p,aspect:this.width/this.height,focalDistance:a,near:o,far:i})}_initPixelMatrices(){const e=i.createMat4();l.multiply(e,e,this.projectionMatrix),l.multiply(e,e,this.viewMatrix),this.viewProjectionMatrix=e,this.viewMatrixInverse=l.invert([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=i.getCameraPosition(this.viewMatrixInverse);const t=i.createMat4(),r=i.createMat4();l.scale(t,t,[this.width/2,-this.height/2,1]),l.translate(t,t,[1,-1,0]),l.multiply(r,t,this.viewProjectionMatrix),this.pixelProjectionMatrix=r,this.viewportMatrix=t,this.pixelUnprojectionMatrix=l.invert(i.createMat4(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||o.default.warn("Pixel project matrix not invertible")()}}r.default=m,m.displayName="Viewport"},{"../utils/log":"aMqim","../utils/math-utils":"3gUfz","math.gl":"dhC89","gl-matrix/mat4":"jpkXP","@math.gl/web-mercator":"hl0Lf","../lib/constants":"ewpM3","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3gUfz":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"createMat4",(()=>a)),n.export(r,"mod",(()=>l)),n.export(r,"getCameraPosition",(()=>c)),n.export(r,"getFrustumPlanes",(()=>u)),n.export(r,"fp64LowPart",(()=>h)),n.export(r,"toDoublePrecisionArray",(()=>m));var s=e("./typed-array-manager"),o=n.interopDefault(s),i=e("math.gl");function a(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function l(e,t){const r=e%t;return r<0?t+r:r}function c(e){return[e[12],e[13],e[14]]}function u(e){const t={};return t.left=d(e[3]+e[0],e[7]+e[4],e[11]+e[8],e[15]+e[12]),t.right=d(e[3]-e[0],e[7]-e[4],e[11]-e[8],e[15]-e[12]),t.bottom=d(e[3]+e[1],e[7]+e[5],e[11]+e[9],e[15]+e[13]),t.top=d(e[3]-e[1],e[7]-e[5],e[11]-e[9],e[15]-e[13]),t.near=d(e[3]+e[2],e[7]+e[6],e[11]+e[10],e[15]+e[14]),t.far=d(e[3]-e[2],e[7]-e[6],e[11]-e[10],e[15]-e[14]),t}const p=new i.Vector3;function d(e,t,r,n){p.set(e,t,r);const s=p.len();return{distance:n/s,normal:new i.Vector3(-e/s,-t/s,-r/s)}}function h(e){return e-Math.fround(e)}let f;function m(e,{size:t=1,startIndex:r=0,endIndex:n}){Number.isFinite(n)||(n=e.length);const s=(n-r)/t;f=o.default.allocate(f,s,{type:Float32Array,size:2*t});let i=r,a=0;for(;i<n;){for(let r=0;r<t;r++){const n=e[i++];f[a+r]=n,f[a+r+t]=h(n)}a+=2*t}return f.subarray(0,s*t*2)}},{"./typed-array-manager":"gI2W7","math.gl":"dhC89","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],gI2W7:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"TypedArrayManager",(()=>s));class s{constructor(e){this._pool=[],this.props={overAlloc:2,poolSize:100},this.setProps(e)}setProps(e){Object.assign(this.props,e)}allocate(e,t,{size:r=1,type:n,padding:s=0,copy:o=!1,initialize:i=!1,maxCount:a}){const l=n||e&&e.constructor||Float32Array,c=t*r+s;if(ArrayBuffer.isView(e)){if(c<=e.length)return e;if(c*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new l(e.buffer,0,c)}let u;a&&(u=a*r+s);const p=this._allocate(l,c,i,u);return e&&o?p.set(e):i||p.fill(0,0,4),this._release(e),p}release(e){this._release(e)}_allocate(e,t,r,n){let s=Math.max(Math.ceil(t*this.props.overAlloc),1);s>n&&(s=n);const o=this._pool,i=e.BYTES_PER_ELEMENT*s,a=o.findIndex((e=>e.byteLength>=i));if(a>=0){const t=new e(o.splice(a,1)[0],0,s);return r&&t.fill(0),t}return new e(s)}_release(e){if(!ArrayBuffer.isView(e))return;const t=this._pool,{buffer:r}=e,{byteLength:n}=r,s=t.findIndex((e=>e.byteLength>=n));s<0?t.push(r):(s>0||t.length<this.props.poolSize)&&t.splice(s,0,r),t.length>this.props.poolSize&&t.shift()}}r.default=new s},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"5QPki":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"COORDINATE_SYSTEM",(()=>s.COORDINATE_SYSTEM)),n.export(r,"Deck",(()=>i.default)),n.export(r,"DeckRenderer",(()=>l.default)),n.export(r,"Effect",(()=>u.default)),n.export(r,"Layer",(()=>d.default)),n.export(r,"CompositeLayer",(()=>f.default)),n.export(r,"LayerExtension",(()=>g.default)),n.export(r,"AttributeManager",(()=>b.default)),n.export(r,"LayerManager",(()=>x.default));var s=e("./constants"),o=e("./deck"),i=n.interopDefault(o),a=e("./deck-renderer"),l=n.interopDefault(a),c=e("./effect"),u=n.interopDefault(c),p=e("./layer"),d=n.interopDefault(p),h=e("./composite-layer"),f=n.interopDefault(h),m=e("./layer-extension"),g=n.interopDefault(m),y=e("./attribute/attribute-manager"),b=n.interopDefault(y),v=e("./layer-manager"),x=n.interopDefault(v)},{"./constants":"ewpM3","./deck":"lTWdq","./deck-renderer":"lA17x","./effect":"5oG8a","./layer":"kc7Vl","./composite-layer":"ctFEo","./layer-extension":"2qfbT","./attribute/attribute-manager":"2PHBE","./layer-manager":"gTH1T","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lTWdq:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./layer-manager"),o=n.interopDefault(s),i=e("./view-manager"),a=n.interopDefault(i),l=e("../views/map-view"),c=n.interopDefault(l),u=e("./effect-manager"),p=n.interopDefault(u),d=e("./effect"),h=n.interopDefault(d),f=e("./deck-renderer"),m=n.interopDefault(f),g=e("./deck-picker"),y=n.interopDefault(g),b=e("./tooltip"),v=n.interopDefault(b),x=e("../utils/log"),_=n.interopDefault(x),w=e("../utils/deep-equal"),P=e("../utils/typed-array-manager"),E=n.interopDefault(P),A=e("./init"),T=n.interopDefault(A),S=e("probe.gl/env"),j=e("@luma.gl/core"),C=e("probe.gl"),I=e("mjolnir.js"),M=e("../utils/assert"),k=n.interopDefault(M),L=e("./constants");function F(){}const R={id:"",width:"100%",height:"100%",pickingRadius:0,layerFilter:null,glOptions:{},gl:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},onWebGLInitialized:F,onResize:F,onViewStateChange:F,onInteractionStateChange:F,onBeforeRender:F,onAfterRender:F,onLoad:F,onError:(e,t)=>_.default.error(e)(),_onMetrics:null,getCursor:({isDragging:e})=>e?"grabbing":"grab",debug:!1,drawPickingColors:!1};class O{constructor(e){e={...R,...e},this.props={},this.width=0,this.height=0,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.deckRenderer=null,this.deckPicker=null,this._needsRedraw=!0,this._pickRequest={},this._lastPointerDownInfo=null,this.viewState=null,this.interactiveState={isHovering:!1,isDragging:!1},this._onEvent=this._onEvent.bind(this),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),e.viewState&&e.initialViewState&&_.default.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),"IE"===S.getBrowser()&&_.default.warn("IE 11 support will be deprecated in v8.0")(),e.gl||"undefined"!=typeof document&&(this.canvas=this._createCanvas(e)),this.animationLoop=this._createAnimationLoop(e),this.stats=new C.Stats({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(e),e._typedArrayManagerProps&&E.default.setProps(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){this.animationLoop.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,this.layerManager&&(this.layerManager.finalize(),this.layerManager=null,this.viewManager.finalize(),this.viewManager=null,this.effectManager.finalize(),this.effectManager=null,this.deckRenderer.finalize(),this.deckRenderer=null,this.deckPicker.finalize(),this.deckPicker=null,this.eventManager.destroy(),this.eventManager=null,this.tooltip.remove(),this.tooltip=null),this.props.canvas||this.props.gl||!this.canvas||(this.canvas.parentElement.removeChild(this.canvas),this.canvas=null)}setProps(e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&_.default.removed("onLayerHover","onHover")(),"onLayerClick"in e&&_.default.removed("onLayerClick","onClick")(),e.initialViewState&&!w.deepEqual(this.props.initialViewState,e.initialViewState)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const t=Object.create(this.props);Object.assign(t,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(t),this.layerManager&&(this.viewManager.setProps(t),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(t),this.effectManager.setProps(t),this.deckRenderer.setProps(t),this.deckPicker.setProps(t)),this.stats.get("setProps Time").timeEnd()}needsRedraw(e={clearRedrawFlags:!1}){if(this.props._animate)return"Deck._animate";let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const r=this.viewManager.needsRedraw(e),n=this.layerManager.needsRedraw(e),s=this.effectManager.needsRedraw(e),o=this.deckRenderer.needsRedraw(e);return t=t||r||n||s||o,t}redraw(e){if(!this.layerManager)return;const t=e||this.needsRedraw({clearRedrawFlags:!0});t&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(t):this._drawLayers(t))}getViews(){return this.viewManager.views}getViewports(e){return this.viewManager.getViewports(e)}pickObject(e){const t=this._pick("pickObject","pickObject Time",e).result;return t.length?t[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e,t=!1){for(const r in e)this.layerManager.resourceManager.add({resourceId:r,data:e[r],forceUpdate:t})}_removeResources(e){for(const t of e)this.layerManager.resourceManager.remove(t)}_pick(e,t,r){const{stats:n}=this;n.get("Pick Count").incrementCount(),n.get(t).timeStart();const s=this.deckPicker[e]({layers:this.layerManager.getLayers(r),views:this.viewManager.getViews(),viewports:this.getViewports(r),onViewportActive:this.layerManager.activateViewport,...r});return n.get(t).timeEnd(),s}_createCanvas(e){let t=e.canvas;if("string"==typeof t&&(t=document.getElementById(t),k.default(t)),!t){t=document.createElement("canvas"),t.id=e.id||"deckgl-overlay";(e.parent||document.body).appendChild(t)}return Object.assign(t.style,e.style),t}_setCanvasSize(e){if(!this.canvas)return;let{width:t,height:r}=e;(t||0===t)&&(t=Number.isFinite(t)?"".concat(t,"px"):t,this.canvas.style.width=t),(r||0===r)&&(r=Number.isFinite(r)?"".concat(r,"px"):r,this.canvas.style.position="absolute",this.canvas.style.height=r)}_updateCanvasSize(){if(this._checkForCanvasSizeChange()){const{width:e,height:t}=this;this.viewManager.setProps({width:e,height:t}),this.props.onResize({width:this.width,height:this.height})}}_checkForCanvasSizeChange(){const{canvas:e}=this;if(!e)return!1;const t=e.clientWidth||e.width,r=e.clientHeight||e.height;return(t!==this.width||r!==this.height)&&(this.width=t,this.height=r,!0)}_createAnimationLoop(e){const{width:t,height:r,gl:n,glOptions:s,debug:o,onError:i,onBeforeRender:a,onAfterRender:l,useDevicePixels:c,autoResizeDrawingBuffer:u}=e;return new j.AnimationLoop({width:t,height:r,useDevicePixels:c,autoResizeDrawingBuffer:u,autoResizeViewport:!1,gl:n,onCreateContext:e=>j.createGLContext({...s,...e,canvas:this.canvas,debug:o,onContextLost:()=>this._onContextLost()}),onInitialize:e=>this._setGLContext(e.gl),onRender:this._onRenderFrame.bind(this),onBeforeRender:a,onAfterRender:l,onError:i})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let e=this.props.views||[new c.default({id:"default-view"})];return e=Array.isArray(e)?e:[e],e.length&&this.props.controller&&(e[0].props.controller=this.props.controller),e}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_onPointerMove(e){const{_pickRequest:t}=this;if("pointerleave"===e.type)t.x=-1,t.y=-1,t.radius=0;else{if(e.leftButton||e.rightButton)return;{const r=e.offsetCenter;if(!r)return;t.x=r.x,t.y=r.y,t.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:t.x,y:t.y}),t.event=e,t.mode="hover"}_pickAndCallback(){const{_pickRequest:e}=this;if(e.event){const{result:t,emptyInfo:r}=this._pick("pickObject","pickObject Time",e);this.interactiveState.isHovering=t.length>0;let n=r,s=!1;for(const r of t)n=r,s=r.layer.onHover(r,e.event);if(!s&&this.props.onHover&&this.props.onHover(n,e.event),this.props.getTooltip){const e=this.props.getTooltip(n);this.tooltip.setTooltip(e,n.x,n.y)}e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.interactiveState))}_setGLContext(e){if(this.layerManager)return;this.canvas||(this.canvas=e.canvas,j.instrumentGLContext(e,{enable:!0,copyState:!0})),this.tooltip=new v.default(this.canvas),j.setParameters(e,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(e);const t=new j.Timeline;t.play(),this.animationLoop.attachTimeline(t),this.eventManager=new I.EventManager(this.props.parent||e.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const e in L.EVENTS)this.eventManager.on(e,this._onEvent);this.viewManager=new a.default({timeline:t,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const r=this.viewManager.getViewports()[0];this.layerManager=new o.default(e,{deck:this,stats:this.stats,viewport:r,timeline:t}),this.effectManager=new p.default,this.deckRenderer=new m.default(e),this.deckPicker=new y.default(e),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,t){const{gl:r}=this.layerManager.context;j.setParameters(r,this.props.parameters),this.props.onBeforeRender({gl:r}),this.deckRenderer.renderLayers({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",redrawReason:e,effects:this.effectManager.getEffects(),...t}),this.props.onAfterRender({gl:r})}_onRenderFrame(e){this._getFrameStats(),this._metricsCounter++%60==0&&(this._getMetrics(),this.stats.reset(),_.default.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(!1),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const t=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:t},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.interactiveState.isDragging=e.isDragging,this.props.onInteractionStateChange(e)}_onEvent(e){const t=L.EVENTS[e.type],r=e.offsetCenter;if(!t||!r)return;const n=this.layerManager.getLayers(),s=this.deckPicker.getLastPickedObject({x:r.x,y:r.y,layers:n,viewports:this.getViewports(r)},this._lastPointerDownInfo),{layer:o}=s,i=o&&(o[t.handler]||o.props[t.handler]),a=this.props[t.handler];let l=!1;i&&(l=i.call(o,s,e)),!l&&a&&a(s,e)}_onPointerDown(e){const t=e.offsetCenter;this._lastPointerDownInfo=this.pickObject({x:t.x,y:t.y,radius:this.props.pickingRadius})}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const t=this.animationLoop.stats;e.get("GPU Time").addTime(t.get("GPU Time").lastTiming),e.get("CPU Time").addTime(t.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:t}=this;e.fps=t.get("frameRate").getHz(),e.setPropsTime=t.get("setProps Time").time,e.updateAttributesTime=t.get("Update Attributes").time,e.framesRedrawn=t.get("Redraw Count").count,e.pickTime=t.get("pickObject Time").time+t.get("pickMultipleObjects Time").time+t.get("pickObjects Time").time,e.pickCount=t.get("Pick Count").count,e.gpuTime=t.get("GPU Time").time,e.cpuTime=t.get("CPU Time").time,e.gpuTimePerFrame=t.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=t.get("CPU Time").getAverageTime();const r=j.lumaStats.get("Memory Usage");e.bufferMemory=r.get("Buffer Memory").count,e.textureMemory=r.get("Texture Memory").count,e.renderbufferMemory=r.get("Renderbuffer Memory").count,e.gpuMemory=r.get("GPU Memory").count}}r.default=O,O.getPropTypes=function(e){return{id:e.string,width:e.oneOfType([e.number,e.string]),height:e.oneOfType([e.number,e.string]),layers:e.oneOfType([e.object,e.array]),layerFilter:e.func,views:e.oneOfType([e.object,e.array]),viewState:e.object,effects:e.arrayOf(e.instanceOf(h.default)),controller:e.oneOfType([e.func,e.bool,e.object]),gl:e.object,glOptions:e.object,parameters:e.object,pickingRadius:e.number,useDevicePixels:e.oneOfType([e.bool,e.number]),touchAction:e.string,eventRecognizerOptions:e.object,onWebGLInitialized:e.func,onResize:e.func,onViewStateChange:e.func,onInteractionStateChange:e.func,onBeforeRender:e.func,onAfterRender:e.func,onLoad:e.func,onError:e.func,debug:e.bool,drawPickingColors:e.bool,_framebuffer:e.object,_animate:e.bool,_pickable:e.bool,_typedArrayManagerProps:e.object}},O.defaultProps=R,O.VERSION=T.default.VERSION},{"./layer-manager":"gTH1T","./view-manager":"idTTK","../views/map-view":"5By4P","./effect-manager":"4FzNn","./effect":"5oG8a","./deck-renderer":"lA17x","./deck-picker":"bab2c","./tooltip":"kXeG4","../utils/log":"aMqim","../utils/deep-equal":"iKLcQ","../utils/typed-array-manager":"gI2W7","./init":"i7rRg","probe.gl/env":"3CmCn","@luma.gl/core":"e4zBo","probe.gl":"7CitO","mjolnir.js":"k7Zbv","../utils/assert":"ag0x0","./constants":"ewpM3","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],gTH1T:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@luma.gl/core"),o=e("../lifecycle/constants"),i=e("../utils/log"),a=n.interopDefault(i),l=e("../debug"),c=n.interopDefault(l),u=e("../utils/flatten"),p=e("probe.gl"),d=e("./resource/resource-manager"),h=n.interopDefault(d),f=e("../viewports/viewport"),m=n.interopDefault(f),g=e("../shaderlib");const y=Object.seal({layerManager:null,resourceManager:null,deck:null,gl:null,stats:null,shaderCache:null,pickingFBO:null,mousePosition:null,userData:{}});r.default=class{constructor(e,{deck:t,stats:r,viewport:n,timeline:o}={}){this.lastRenderedLayers=[],this.layers=[],this.resourceManager=new h.default({gl:e,protocol:"deck://"}),this.context={...y,layerManager:this,gl:e,deck:t,programManager:e&&g.createProgramManager(e),stats:r||new p.Stats({id:"deck.gl"}),viewport:n||new m.default({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:o||new s.Timeline,resourceManager:this.resourceManager},this._nextLayers=null,this._needsRedraw="Initial render",this._needsUpdate=!1,this._debug=!1,this.activateViewport=this.activateViewport.bind(this),Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(e={clearRedrawFlags:!1}){let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const r of this.layers){const n=r.getNeedsRedraw(e);t=t||n}return t}needsUpdate(){return this._nextLayers&&this._nextLayers!==this.lastRenderedLayers?"layers changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers({layerIds:e=null}={}){return e?this.layers.filter((t=>e.find((e=>0===t.id.indexOf(e))))):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,t){c.default("layerManager.setLayers",this,t,e),this.lastRenderedLayers=e,e=u.flatten(e,Boolean);for(const t of e)t.context=this.context;return this._updateLayers(this.layers,e),this}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw("updating layers: ".concat(e)),this.setLayers(this._nextLayers||this.lastRenderedLayers,e)),this._nextLayers=null}activateViewport(e){return c.default("layerManager.activateViewport",this,e),e&&(this.context.viewport=e),this}_handleError(e,t,r){r.raiseError(t,"".concat(e," of ").concat(r))}_updateLayers(e,t){const r={};for(const t of e)r[t.id]?a.default.warn("Multiple old layers with same id ".concat(t.id))():r[t.id]=t;const n=[];this._updateSublayersRecursively(t,r,n),this._finalizeOldLayers(r);let s=!1;for(const e of n)if(e.hasUniformTransition()){s=!0;break}this._needsUpdate=s,this.layers=n}_updateSublayersRecursively(e,t,r){for(const n of e){n.context=this.context;const e=t[n.id];null===e&&a.default.warn("Multiple new layers with same id ".concat(n.id))(),t[n.id]=null;let s=null;try{this._debug&&e!==n&&n.validateProps(),e?(this._transferLayerState(e,n),this._updateLayer(n)):this._initializeLayer(n),r.push(n),s=n.isComposite&&n.getSubLayers()}catch(e){this._handleError("matching",e,n)}s&&this._updateSublayersRecursively(s,t,r)}}_finalizeOldLayers(e){for(const t in e){const r=e[t];r&&this._finalizeLayer(r)}}_initializeLayer(e){try{e._initialize(),e.lifecycle=o.LIFECYCLE.INITIALIZED}catch(t){this._handleError("initialization",t,e)}}_transferLayerState(e,t){t._transferState(e),t.lifecycle=o.LIFECYCLE.MATCHED,t!==e&&(e.lifecycle=o.LIFECYCLE.AWAITING_GC)}_updateLayer(e){try{e._update()}catch(t){this._handleError("update",t,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||"finalized ".concat(e),e.lifecycle=o.LIFECYCLE.AWAITING_FINALIZATION;try{e._finalize(),e.lifecycle=o.LIFECYCLE.FINALIZED}catch(t){this._handleError("finalization",t,e)}}}},{"@luma.gl/core":"e4zBo","../lifecycle/constants":"66pQ8","../utils/log":"aMqim","../debug":"2nXIZ","../utils/flatten":"3oSTR","probe.gl":"7CitO","./resource/resource-manager":"jIJjW","../viewports/viewport":"eKRkf","../shaderlib":"aPLJL","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"66pQ8":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"LIFECYCLE",(()=>s)),n.export(r,"PROP_SYMBOLS",(()=>o));const s={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},o={COMPONENT:Symbol.for("component"),ASYNC_DEFAULTS:Symbol.for("asyncPropDefaults"),ASYNC_ORIGINAL:Symbol.for("asyncPropOriginal"),ASYNC_RESOLVED:Symbol.for("asyncPropResolved")}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3oSTR":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t=(()=>!0)){return Array.isArray(e)?o(e,t,[]):t(e)?[e]:[]}function o(e,t,r){let n=-1;for(;++n<e.length;){const s=e[n];Array.isArray(s)?o(s,t,r):t(s)&&r.push(s)}return r}function i({target:e,source:t,start:r=0,count:n=1}){const s=t.length,o=n*s;let i=0;for(let n=r;i<s;i++)e[n++]=t[i];for(;i<o;)i<o-i?(e.copyWithin(r+i,r,r+i),i*=2):(e.copyWithin(r+i,r,r+o-i),i=o);return e}n.defineInteropFlag(r),n.export(r,"flatten",(()=>s)),n.export(r,"fillArray",(()=>i))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jIJjW:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./resource"),o=n.interopDefault(s);r.default=class{constructor({gl:e,protocol:t}){this.protocol=t||"resource://",this._context={gl:e,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return!!e.startsWith(this.protocol)||e in this._resources}add({resourceId:e,data:t,forceUpdate:r=!1,persistent:n=!0}){let s=this._resources[e];s?s.setData(t,r):(s=new o.default(e,t,this._context),this._resources[e]=s),s.persistent=n}remove(e){const t=this._resources[e];t&&(t.delete(),delete this._resources[e])}unsubscribe({consumerId:e}){const t=this._consumers[e];if(t){for(const e in t){const r=t[e];r.resource&&r.resource.unsubscribe(r)}delete this._consumers[e],this.prune()}}subscribe({resourceId:e,onChange:t,consumerId:r,requestId:n="default"}){const{_resources:s,protocol:o}=this;e.startsWith(o)&&(s[e=e.replace(o,"")]||this.add({resourceId:e,data:null,persistent:!1}));const i=s[e];if(this._track(r,n,i,t),i)return i.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout((()=>this._prune()),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,t,r,n){const s=this._consumers,o=s[e]=s[e]||{},i=o[t]||{};i.resource&&(i.resource.unsubscribe(i),i.resource=null,this.prune()),r&&(o[t]=i,i.onChange=n,i.resource=r,r.subscribe(i))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const t=this._resources[e];t.persistent||t.inUse()||(t.delete(),delete this._resources[e])}}}},{"./resource":"31aaH","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"31aaH":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("@loaders.gl/core");r.default=class{constructor(e,t,r){this.id=e,this.context=r,this._loadCount=0,this._subscribers=new Set,this.setData(t)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then((()=>this.getData()))}setData(e,t){if(e===this._data&&!t)return;this._data=e;const r=++this._loadCount;let s=e;"string"==typeof e&&(s=n.load(e)),s instanceof Promise?(this.isLoaded=!1,this._loader=s.then((e=>{this._loadCount===r&&(this.isLoaded=!0,this._error=null,this._content=e)})).catch((e=>{this._loadCount===r&&(this.isLoaded=!0,this._error=e||!0)}))):(this.isLoaded=!0,this._error=null,this._content=e);for(const e of this._subscribers)e.onChange(this.getData())}}},{"@loaders.gl/core":"3xrRN","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],idTTK:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../utils/deep-equal"),o=e("../utils/log"),i=n.interopDefault(o),a=e("../utils/flatten");r.default=class{constructor(e={}){this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="Initial render",this._needsUpdate=!0,this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers)this.controllers[e]&&this.controllers[e].finalize();this.controllers={}}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const t=this.controllers[e];t&&t.updateTransition()}}getViewports(e){return e?this._viewports.filter((t=>t.containsPixel(e))):this._viewports}getViews(){const e={};return this.views.forEach((t=>{e[t.id]=t})),e}getView(e){return"string"==typeof e?this.views.find((t=>t.id===e)):e}getViewState(e){const t=this.getView(e),r=t&&this.viewState[t.getViewStateId()]||this.viewState;return t?t.filterViewState(r):r}getViewport(e){return this._viewportMap[e]}unproject(e,t){const r=this.getViewports(),n={x:e[0],y:e[1]};for(let s=r.length-1;s>=0;--s){const o=r[s];if(o.containsPixel(n)){const r=e.slice();return r[0]-=o.x,r[1]-=o.y,o.unproject(r,t)}}return null}setProps(e){"views"in e&&this._setViews(e.views),"viewState"in e&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,t){e===this.width&&t===this.height||(this.width=e,this.height=t,this.setNeedsUpdate("Size changed"))}_setViews(e){e=a.flatten(e,Boolean);this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){if(e){!s.deepEqual(e,this.viewState)&&this.setNeedsUpdate("viewState changed"),this.viewState=e}else i.default.warn("missing `viewState` or `initialViewState`")()}_onViewStateChange(e,t){t.viewId=e,this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange(t)}_createController(e,t){return new(0,t.type)({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,t.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:t=>e._getViewport(t,{width:t.width,height:t.height}),...t})}_updateController(e,t,r,n){let s=e.controller;return s?(s={...t,...e.props,...s,id:e.id,x:r.x,y:r.y,width:r.width,height:r.height},n?n.setProps(s):n=this._createController(e,s),n):null}_rebuildViewports(){const{width:e,height:t,views:r}=this,n=this.controllers;this._viewports=[],this.controllers={};let s=!1;for(let o=r.length;o--;){const i=r[o],a=this.getViewState(i),l=i.makeViewport({width:e,height:t,viewState:a});let c=n[i.id];i.controller&&!c&&(s=!0),!s&&i.controller||!c||(c.finalize(),c=null),this.controllers[i.id]=this._updateController(i,a,l,c),this._viewports.unshift(l)}for(const e in n)n[e]&&!this.controllers[e]&&n[e].finalize();this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach((e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)}))}_diffViews(e,t){return e.length!==t.length||e.some(((r,n)=>!e[n].equals(t[n])))}}},{"../utils/deep-equal":"iKLcQ","../utils/log":"aMqim","../utils/flatten":"3oSTR","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],iKLcQ:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t){if(e===t)return!0;if(!e||!t)return!1;for(const r in e){const n=e[r],o=t[r];if(!(n===o||Array.isArray(n)&&Array.isArray(o)&&s(n,o)))return!1}return!0}n.defineInteropFlag(r),n.export(r,"deepEqual",(()=>s))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"5By4P":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./view"),o=n.interopDefault(s),i=e("../viewports/web-mercator-viewport"),a=n.interopDefault(i),l=e("../controllers/map-controller"),c=n.interopDefault(l);class u extends o.default{constructor(e){super({...e,type:a.default})}get controller(){return this._getControllerProps({type:c.default})}}r.default=u,u.displayName="MapView"},{"./view":"bEwW4","../viewports/web-mercator-viewport":"dprUt","../controllers/map-controller":"3DWOI","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],bEwW4:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../viewports/viewport"),o=n.interopDefault(s),i=e("../utils/positions"),a=e("../utils/deep-equal"),l=e("../utils/assert"),c=n.interopDefault(l);r.default=class{constructor(e={}){const{id:t=null,x:r=0,y:n=0,width:s="100%",height:i="100%",viewportInstance:a,type:l=o.default}=e;c.default(!a||a instanceof o.default),this.viewportInstance=a,this.id=t||this.constructor.displayName||"view",this.type=l,this.props={...e,id:this.id},this._parseDimensions({x:r,y:n,width:s,height:i}),this.equals=this.equals.bind(this),Object.seal(this)}equals(e){if(this===e)return!0;if(this.viewportInstance)return e.viewportInstance&&this.viewportInstance.equals(e.viewportInstance);return a.deepEqual(this.props,e.props)}makeViewport({width:e,height:t,viewState:r}){if(this.viewportInstance)return this.viewportInstance;r=this.filterViewState(r);const n=this.getDimensions({width:e,height:t});return this._getViewport(r,n)}getViewStateId(){switch(typeof this.props.viewState){case"string":return this.props.viewState;case"object":return this.props.viewState&&this.props.viewState.id;default:return this.id}}filterViewState(e){if(this.props.viewState&&"object"==typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;const t={...e};for(const e in this.props.viewState)"id"!==e&&(t[e]=this.props.viewState[e]);return t}return e}getDimensions({width:e,height:t}){return{x:i.getPosition(this._x,e),y:i.getPosition(this._y,t),width:i.getPosition(this._width,e),height:i.getPosition(this._height,t)}}_getControllerProps(e){let t=this.props.controller;return t?!0===t?e:("function"==typeof t&&(t={type:t}),{...e,...t}):null}_getViewport(e,t){const{type:r}=this;return new r({...e,...this.props,...t})}_parseDimensions({x:e,y:t,width:r,height:n}){this._x=i.parsePosition(e),this._y=i.parsePosition(t),this._width=i.parsePosition(r),this._height=i.parsePosition(n)}}},{"../viewports/viewport":"eKRkf","../utils/positions":"49BOh","../utils/deep-equal":"iKLcQ","../utils/assert":"ag0x0","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"49BOh":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"parsePosition",(()=>o)),n.export(r,"getPosition",(()=>i));const s=/([0-9]+\.?[0-9]*)(%|px)/;function o(e){switch(typeof e){case"number":return{position:e,relative:!1};case"string":const t=e.match(s);if(t&&t.length>=3){const e="%"===t[2],r=parseFloat(t[1]);return{position:e?r/100:r,relative:e}}default:throw new Error("Could not parse position string ".concat(e))}}function i(e,t){return e.relative?Math.round(e.position*t):e.position}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ag0x0:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e,t){if(!e)throw new Error(t||"deck.gl: assertion failed.")}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3DWOI":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"MapState",(()=>v));var s=e("math.gl"),o=e("./controller"),i=n.interopDefault(o),a=e("./view-state"),l=n.interopDefault(a),c=e("@math.gl/web-mercator"),u=e("../utils/assert"),p=n.interopDefault(u);const d=0,h=0,f=1.5,m=0,g=20,y=0,b=60;class v extends l.default{constructor({makeViewport:e,width:t,height:r,latitude:n,longitude:s,zoom:o,bearing:i=h,pitch:a=d,altitude:l=f,maxZoom:c=g,minZoom:u=m,maxPitch:v=b,minPitch:x=y,startPanLngLat:_,startZoomLngLat:w,startRotatePos:P,startBearing:E,startPitch:A,startZoom:T,normalize:S}={}){p.default(Number.isFinite(s)),p.default(Number.isFinite(n)),p.default(Number.isFinite(o)),super({width:t,height:r,latitude:n,longitude:s,zoom:o,bearing:i,pitch:a,altitude:l,maxZoom:c,minZoom:u,maxPitch:v,minPitch:x,normalize:S}),this._state={startPanLngLat:_,startZoomLngLat:w,startRotatePos:P,startBearing:E,startPitch:A,startZoom:T},this.makeViewport=e}panStart({pos:e}){return this._getUpdatedState({startPanLngLat:this._unproject(e)})}pan({pos:e,startPos:t}){const r=this._state.startPanLngLat||this._unproject(t);if(!r)return this;const n=this.makeViewport(this._viewportProps).panByPosition(r,e);return this._getUpdatedState(n)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}rotate({pos:e,deltaAngleX:t=0,deltaAngleY:r=0}){const{startRotatePos:n,startBearing:s,startPitch:o}=this._state;if(!n||!Number.isFinite(s)||!Number.isFinite(o))return this;let i;return i=e?this._calculateNewPitchAndBearing({...this._getRotationParams(e,n),startBearing:s,startPitch:o}):{bearing:s+t,pitch:o+r},this._getUpdatedState(i)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:e}){return this._getUpdatedState({startZoomLngLat:this._unproject(e),startZoom:this._viewportProps.zoom})}zoom({pos:e,startPos:t,scale:r}){let{startZoom:n,startZoomLngLat:s}=this._state;Number.isFinite(n)||(n=this._viewportProps.zoom,s=this._unproject(t)||this._unproject(e));const o=this._calculateNewZoom({scale:r,startZoom:n}),i=this.makeViewport({...this._viewportProps,zoom:o});return this._getUpdatedState({zoom:o,...i.panByPosition(s,e)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(e=2){return this._zoomFromCenter(e)}zoomOut(e=2){return this._zoomFromCenter(1/e)}moveLeft(e=100){return this._panFromCenter([e,0])}moveRight(e=100){return this._panFromCenter([-e,0])}moveUp(e=100){return this._panFromCenter([0,e])}moveDown(e=100){return this._panFromCenter([0,-e])}rotateLeft(e=15){return this._getUpdatedState({bearing:this._viewportProps.bearing-e})}rotateRight(e=15){return this._getUpdatedState({bearing:this._viewportProps.bearing+e})}rotateUp(e=10){return this._getUpdatedState({pitch:this._viewportProps.pitch+e})}rotateDown(e=10){return this._getUpdatedState({pitch:this._viewportProps.pitch-e})}shortestPathFrom(e){const t=e.getViewportProps(),r={...this._viewportProps},{bearing:n,longitude:s}=r;return Math.abs(n-t.bearing)>180&&(r.bearing=n<0?n+360:n-360),Math.abs(s-t.longitude)>180&&(r.longitude=s<0?s+360:s-360),r}_zoomFromCenter(e){const{width:t,height:r}=this._viewportProps;return this.zoom({pos:[t/2,r/2],scale:e})}_panFromCenter(e){const{width:t,height:r}=this._viewportProps;return this.pan({startPos:[t/2,r/2],pos:[t/2+e[0],r/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this._viewportProps,...this._state,...e})}_applyConstraints(e){const{maxZoom:t,minZoom:r,zoom:n}=e;e.zoom=s.clamp(n,r,t);const{maxPitch:o,minPitch:i,pitch:a}=e;e.pitch=s.clamp(a,i,o);const{normalize:l=!0}=e;return l&&Object.assign(e,c.normalizeViewportProps(e)),e}_unproject(e){const t=this.makeViewport(this._viewportProps);return e&&t.unproject(e)}_calculateNewZoom({scale:e,startZoom:t}){const{maxZoom:r,minZoom:n}=this._viewportProps,o=t+Math.log2(e);return s.clamp(o,n,r)}_calculateNewPitchAndBearing({deltaScaleX:e,deltaScaleY:t,startBearing:r,startPitch:n}){t=s.clamp(t,-1,1);const{minPitch:o,maxPitch:i}=this._viewportProps;let a=n;return t>0?a=n+t*(i-n):t<0&&(a=n-t*(o-n)),{pitch:a,bearing:r+180*e}}_getRotationParams(e,t){const r=e[0]-t[0],n=e[1]-t[1],s=e[1],o=t[1],{width:i,height:a}=this._viewportProps,l=r/i;let c=0;return n>0?Math.abs(a-o)>5&&(c=n/(o-a)*1.2):n<0&&o>5&&(c=1-s/o),c=Math.min(1,Math.max(-1,c)),{deltaScaleX:l,deltaScaleY:c}}}class x extends i.default{constructor(e){e.dragMode=e.dragMode||"pan",super(v,e)}setProps(e){const t=this.controllerStateProps;super.setProps(e);(!t||t.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...this.controllerStateProps,...this._state}))}get linearTransitionProps(){return["longitude","latitude","zoom","bearing","pitch"]}}r.default=x},{"math.gl":"dhC89","./controller":"fgpvE","./view-state":"QhvOa","@math.gl/web-mercator":"hl0Lf","../utils/assert":"ag0x0","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],fgpvE:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./transition-manager"),o=n.interopDefault(s),i=e("../transitions/linear-interpolator"),a=n.interopDefault(i);const l={transitionDuration:0},c={transitionDuration:300,transitionEasing:e=>e,transitionInterruption:s.TRANSITION_EVENTS.BREAK},u=e=>1-(1-e)*(1-e),p=["wheel"],d=["panstart","panmove","panend"],h=["pinchstart","pinchmove","pinchend"],f=["tripanstart","tripanmove","tripanend"],m=["doubletap"],g=["keydown"];r.default=class{constructor(e,t={}){this.ControllerState=e,this.controllerState=null,this.controllerStateProps=null,this.eventManager=null,this.transitionManager=new o.default(e,{...t,onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)});const r=this.linearTransitionProps;this._transition=r&&{...c,transitionInterpolator:new a.default({transitionProps:r})},this._events=null,this._interactionState={isDragging:!1},this._customEvents=[],this.onViewStateChange=null,this.onStateChange=null,this.handleEvent=this.handleEvent.bind(this),this.setProps(t)}get linearTransitionProps(){return null}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.setProps(this.controllerStateProps)}finalize(){for(const e in this._events)this._events[e]&&this.eventManager.off(e,this.handleEvent);this.transitionManager.finalize()}handleEvent(e){const{ControllerState:t}=this;this.controllerState=new t({makeViewport:this.makeViewport,...this.controllerStateProps,...this._state});const r=this._eventStartBlocked;switch(e.type){case"panstart":return!r&&this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return!r&&this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return!r&&this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}getCenter(e){const{x:t,y:r}=this.controllerStateProps,{offsetCenter:n}=e;return[n.x-t,n.y-r]}isPointInBounds(e,t){const{width:r,height:n}=this.controllerStateProps;if(t&&t.handled)return!1;const s=e[0]>=0&&e[0]<=r&&e[1]>=0&&e[1]<=n;return s&&t&&t.stopPropagation(),s}isFunctionKeyPressed(e){const{srcEvent:t}=e;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}isDragging(){return this._interactionState.isDragging}blockEvents(e){const t=setTimeout((()=>{this._eventStartBlocked===t&&(this._eventStartBlocked=null)}),e);this._eventStartBlocked=t}setProps(e){"onViewStateChange"in e&&(this.onViewStateChange=e.onViewStateChange),"onStateChange"in e&&(this.onStateChange=e.onStateChange),"makeViewport"in e&&(this.makeViewport=e.makeViewport),"dragMode"in e&&(this.dragMode=e.dragMode),this.controllerStateProps=e,"eventManager"in e&&this.eventManager!==e.eventManager&&(this.eventManager=e.eventManager,this._events={},this.toggleEvents(this._customEvents,!0)),"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);let{inertia:t}=e;!0===t&&(t=300),this.inertia=t;const{scrollZoom:r=!0,dragPan:n=!0,dragRotate:s=!0,doubleClickZoom:o=!0,touchZoom:i=!0,touchRotate:a=!1,keyboard:l=!0}=e,c=Boolean(this.onViewStateChange);this.toggleEvents(p,c&&r),this.toggleEvents(d,c&&(n||s)),this.toggleEvents(h,c&&(i||a)),this.toggleEvents(f,c&&a),this.toggleEvents(m,c&&o),this.toggleEvents(g,c&&l),this.scrollZoom=r,this.dragPan=n,this.dragRotate=s,this.doubleClickZoom=o,this.touchZoom=i,this.touchRotate=a,this.keyboard=l}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,t){this.eventManager&&e.forEach((e=>{this._events[e]!==t&&(this._events[e]=t,t?this.eventManager.on(e,this.handleEvent):this.eventManager.off(e,this.handleEvent))}))}updateViewport(e,t={},r={}){const n={...e.getViewportProps(),...t},s=this.controllerState!==e;if(this._state=e.getState(),this._setInteractionState(r),s){const e=this.controllerState?this.controllerState.getViewportProps():null;this.onViewStateChange&&this.onViewStateChange({viewState:n,interactionState:this._interactionState,oldViewState:e})}}_onTransition(e){this.onViewStateChange&&(e.interactionState=this._interactionState,this.onViewStateChange(e))}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange&&this.onStateChange(this._interactionState)}_onPanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;let r=this.isFunctionKeyPressed(e)||e.rightButton;(this.invertPan||"pan"===this.dragMode)&&(r=!r);const n=this.controllerState[r?"panStart":"rotateStart"]({pos:t});return this._panMove=r,this.updateViewport(n,l,{isDragging:!0}),!0}_onPan(e){return!!this.isDragging()&&(this._panMove?this._onPanMove(e):this._onPanRotate(e))}_onPanEnd(e){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e))}_onPanMove(e){if(!this.dragPan)return!1;const t=this.getCenter(e),r=this.controllerState.pan({pos:t});return this.updateViewport(r,l,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:t}=this;if(this.dragPan&&t&&e.velocity){const r=this.getCenter(e),n=[r[0]+e.velocityX*t/2,r[1]+e.velocityY*t/2],s=this.controllerState.pan({pos:n}).panEnd();this.updateViewport(s,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:u},{isDragging:!1,isPanning:!0})}else{const e=this.controllerState.panEnd();this.updateViewport(e,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const t=this.getCenter(e),r=this.controllerState.rotate({pos:t});return this.updateViewport(r,l,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:t}=this;if(this.dragRotate&&t&&e.velocity){const r=this.getCenter(e),n=[r[0]+e.velocityX*t/2,r[1]+e.velocityY*t/2],s=this.controllerState.rotate({pos:n}).rotateEnd();this.updateViewport(s,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:u},{isDragging:!1,isRotating:!0})}else{const e=this.controllerState.rotateEnd();this.updateViewport(e,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;e.preventDefault();const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const{speed:r=.01,smooth:n=!1}=this.scrollZoom,{delta:s}=e;let o=2/(1+Math.exp(-Math.abs(s*r)));s<0&&0!==o&&(o=1/o);const i=this.controllerState.zoom({pos:t,scale:o});return this.updateViewport(i,{...this._getTransitionProps({around:t}),transitionDuration:n?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const r=this.controllerState.rotateStart({pos:t});return this.updateViewport(r,l,{isDragging:!0}),!0}_onTriplePan(e){if(!this.touchRotate)return!1;if(!this.isDragging())return!1;const t=this.getCenter(e);t[0]-=e.deltaX;const r=this.controllerState.rotate({pos:t});return this.updateViewport(r,l,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this;if(this.touchRotate&&t&&e.velocityY){const r=this.getCenter(e),n=[r[0],r[1]+=e.velocityY*t/2],s=this.controllerState.rotate({pos:n});this.updateViewport(s,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:u},{isDragging:!1,isRotating:!0}),this.blockEvents(t)}else{const e=this.controllerState.rotateEnd();this.updateViewport(e,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const r=this.controllerState.zoomStart({pos:t}).rotateStart({pos:t});return this._startPinchRotation=e.rotation,this._lastPinchEvent=e,this.updateViewport(r,l,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate)return!1;if(!this.isDragging())return!1;let t=this.controllerState;if(this.touchZoom){const{scale:r}=e,n=this.getCenter(e);t=t.zoom({pos:n,scale:r})}if(this.touchRotate){const{rotation:r}=e;t=t.rotate({deltaAngleX:this._startPinchRotation-r})}return this.updateViewport(t,l,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),this._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:t,_lastPinchEvent:r}=this;if(this.touchZoom&&t&&r&&e.scale!==r.scale){const n=this.getCenter(e);let s=this.controllerState.rotateEnd();const o=Math.log2(e.scale),i=(o-Math.log2(r.scale))/(e.deltaTime-r.deltaTime),a=Math.pow(2,o+i*t/2);s=s.zoom({pos:n,scale:a}).zoomEnd(),this.updateViewport(s,{...this._getTransitionProps({around:n}),transitionDuration:t,transitionEasing:u},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(t)}else{const e=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(e,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return this._startPinchRotation=null,this._lastPinchEvent=null,!0}_onDoubleTap(e){if(!this.doubleClickZoom)return!1;const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const r=this.isFunctionKeyPressed(e),n=this.controllerState.zoom({pos:t,scale:r?.5:2});return this.updateViewport(n,this._getTransitionProps({around:t}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const t=this.isFunctionKeyPressed(e),{zoomSpeed:r,moveSpeed:n,rotateSpeedX:s,rotateSpeedY:o}=this.keyboard,{controllerState:i}=this;let a;const l={};switch(e.srcEvent.code){case"Minus":a=t?i.zoomOut(r).zoomOut(r):i.zoomOut(r),l.isZooming=!0;break;case"Equal":a=t?i.zoomIn(r).zoomIn(r):i.zoomIn(r),l.isZooming=!0;break;case"ArrowLeft":t?(a=i.rotateLeft(s),l.isRotating=!0):(a=i.moveLeft(n),l.isPanning=!0);break;case"ArrowRight":t?(a=i.rotateRight(s),l.isRotating=!0):(a=i.moveRight(n),l.isPanning=!0);break;case"ArrowUp":t?(a=i.rotateUp(o),l.isRotating=!0):(a=i.moveUp(n),l.isPanning=!0);break;case"ArrowDown":t?(a=i.rotateDown(o),l.isRotating=!0):(a=i.moveDown(n),l.isPanning=!0);break;default:return!1}return this.updateViewport(a,this._getTransitionProps(),l),!0}_getTransitionProps(e){const{_transition:t}=this;return t?e?{...t,transitionInterpolator:new a.default({...e,transitionProps:this.linearTransitionProps,makeViewport:this.controllerState.makeViewport})}:t:l}}},{"./transition-manager":"j4lPx","../transitions/linear-interpolator":"23Kgs","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],j4lPx:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"TRANSITION_EVENTS",(()=>a));var s=e("../transitions/transition"),o=n.interopDefault(s);const i=()=>{},a={BREAK:1,SNAP_TO_END:2,IGNORE:3},l={transitionEasing:e=>e,transitionInterruption:a.BREAK,onTransitionStart:i,onTransitionInterrupt:i,onTransitionEnd:i};r.default=class{constructor(e,t={}){this.ControllerState=e,this.props={...l,...t},this.propsInTransition=null,this.transition=new o.default(t.timeline),this.onViewStateChange=t.onViewStateChange||i,this.onStateChange=t.onStateChange||i,this._onTransitionUpdate=this._onTransitionUpdate.bind(this)}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let t=!1;const r=this.props;if(e={...l,...e},this.props=e,this._shouldIgnoreViewportChange(r,e))return t;if(this._isTransitionEnabled(e)){const{interruption:n,endProps:s}=this.transition.settings,o={...r,...n===a.SNAP_TO_END?s:this.propsInTransition||r};this._triggerTransition(o,e),t=!0}else this.transition.cancel();return t}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:t,transitionInterpolator:r}=e;return(t>0||"auto"===t)&&Boolean(r)}_isUpdateDueToCurrentTransition(e){return!!this.transition.inProgress&&this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition)}_shouldIgnoreViewportChange(e,t){return this.transition.inProgress?this.transition.settings.interruption===a.IGNORE||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}_triggerTransition(e,t){const r=new this.ControllerState(e),n=new this.ControllerState(t).shortestPathFrom(r),{transitionInterpolator:s}=t,o=s.getDuration?s.getDuration(e,t):t.transitionDuration;if(0===o)return;const i=t.transitionInterpolator.initializeProps(e,n);this.propsInTransition={},this.duration=o,this.transition.start({duration:o,easing:t.transitionEasing,interpolator:t.transitionInterpolator,interruption:t.transitionInterruption,startProps:i.start,endProps:i.end,onStart:t.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(t.onTransitionInterrupt),onEnd:this._onTransitionEnd(t.onTransitionEnd)}),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return t=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),e(t)}}_onTransitionUpdate(e){const{time:t,settings:{interpolator:r,startProps:n,endProps:s,duration:o,easing:i}}=e,a=i(t/o),l=r.interpolateProps(n,s,a);this.propsInTransition=new this.ControllerState({...this.props,...l}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})}}},{"../transitions/transition":"j6G1m","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],j6G1m:[function(e,t,r){function n(){}e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);const s={onStart:n,onUpdate:n,onInterrupt:n,onEnd:n};r.default=class{constructor(e){this._inProgress=!1,this._handle=null,this.timeline=e,this.settings={}}get inProgress(){return this._inProgress}start(e){this.cancel(),this.settings={...s,...e},this._inProgress=!0,this.settings.onStart(this)}end(){this._inProgress&&(this.timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,this.settings.onEnd(this))}cancel(){this._inProgress&&(this.settings.onInterrupt(this),this.timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){if(!this._inProgress)return!1;if(null===this._handle){const{timeline:e,settings:t}=this;this._handle=e.addChannel({delay:e.getTime(),duration:t.duration})}return this.time=this.timeline.getTime(this._handle),this._onUpdate(),this.settings.onUpdate(this),this.timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"23Kgs":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./transition-interpolator"),o=n.interopDefault(s),i=e("math.gl");const a=["longitude","latitude","zoom","bearing","pitch"],l=["longitude","latitude","zoom"];class c extends o.default{constructor(e={}){super((Array.isArray(e)?e:e.transitionProps)||{compare:a,extract:a,required:l}),this.opts=e}initializeProps(e,t){const r=super.initializeProps(e,t),{makeViewport:n,around:s}=this.opts;if(n&&s){const o=n(e),i=n(t),a=o.unproject(s);r.start.around=s,Object.assign(r.end,{around:i.project(a),aroundPosition:a,width:t.width,height:t.height})}return r}interpolateProps(e,t,r){const n={};for(const s of this._propsToExtract)n[s]=i.lerp(e[s]||0,t[s]||0,r);if(t.aroundPosition){const s=this.opts.makeViewport({...t,...n});Object.assign(n,s.panByPosition(t.aroundPosition,i.lerp(e.around,t.around,r)))}return n}}r.default=c},{"./transition-interpolator":"4GSC4","math.gl":"dhC89","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"4GSC4":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("math.gl"),o=e("../utils/assert"),i=n.interopDefault(o);r.default=class{constructor(e={}){Array.isArray(e)&&(e={compare:e,extract:e,required:e});const{compare:t,extract:r,required:n}=e;this._propsToCompare=t,this._propsToExtract=r,this._requiredProps=n}arePropsEqual(e,t){for(const r of this._propsToCompare||Object.keys(t))if(!(r in e)||!(r in t)||!s.equals(e[r],t[r]))return!1;return!0}initializeProps(e,t){let r;if(this._propsToExtract){const n={},s={};for(const r of this._propsToExtract)n[r]=e[r],s[r]=t[r];r={start:n,end:s}}else r={start:e,end:t};return this._checkRequiredProps(r.start),this._checkRequiredProps(r.end),r}interpolateProps(e,t,r){return t}getDuration(e,t){return t.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach((t=>{const r=e[t];i.default(Number.isFinite(r)||Array.isArray(r),"".concat(t," is required for transition"))}))}}},{"math.gl":"dhC89","../utils/assert":"ag0x0","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],QhvOa:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);r.default=class{constructor(e){this._viewportProps=this._applyConstraints(e)}getViewportProps(){return this._viewportProps}getState(){return this._state}shortestPathFrom(e){return this._viewportProps}_applyConstraints(e){return e}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"4FzNn":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../utils/deep-equal"),o=e("../effects/lighting/lighting-effect"),i=n.interopDefault(o);const a=new i.default;r.default=class{constructor(){this.effects=[],this._internalEffects=[],this._needsRedraw="Initial render",this.setEffects()}setProps(e){"effects"in e&&(e.effects.length===this.effects.length&&s.deepEqual(e.effects,this.effects)||(this.setEffects(e.effects),this._needsRedraw="effects changed"))}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}getEffects(){return this._internalEffects}finalize(){this.cleanup()}setEffects(e=[]){this.cleanup(),this.effects=e,this._createInternalEffects()}cleanup(){for(const e of this.effects)e.cleanup();for(const e of this._internalEffects)e.cleanup();this.effects.length=0,this._internalEffects.length=0}_createInternalEffects(){this._internalEffects=this.effects.slice(),this.effects.some((e=>e instanceof i.default))||this._internalEffects.push(a)}}},{"../utils/deep-equal":"iKLcQ","../effects/lighting/lighting-effect":"b93pG","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lA17x:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../debug"),o=n.interopDefault(s),i=e("../passes/draw-layers-pass"),a=n.interopDefault(i),l=e("../passes/pick-layers-pass"),c=n.interopDefault(l),u=e("@luma.gl/core");r.default=class{constructor(e){this.gl=e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new a.default(e),this.pickLayersPass=new c.default(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){"layerFilter"in e&&this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),"drawPickingColors"in e&&this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){const t=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass;e.layerFilter=e.layerFilter||this.layerFilter,e.effects=e.effects||[],e.target=e.target||u.Framebuffer.getDefaultFramebuffer(this.gl),this._preRender(e.effects,e);const r=this.lastPostProcessEffect?this.renderBuffers[0]:e.target,n=t.render({...e,target:r});this._postRender(e.effects,e),this.renderCount++,o.default("deckRenderer.renderLayers",this,n,e)}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}finalize(){const{renderBuffers:e}=this;for(const t of e)t.delete();e.length=0}_preRender(e,t){let r=null;for(const n of e)n.preRender(this.gl,t),n.postRender&&(r=n);r&&this._resizeRenderBuffers(),this.lastPostProcessEffect=r}_resizeRenderBuffers(){const{renderBuffers:e}=this;0===e.length&&e.push(new u.Framebuffer(this.gl),new u.Framebuffer(this.gl));for(const t of e)t.resize()}_postRender(e,t){const{renderBuffers:r}=this,n={inputBuffer:r[0],swapBuffer:r[1],target:null};for(const s of e)if(s.postRender){if(s===this.lastPostProcessEffect){n.target=t.target,s.postRender(this.gl,n);break}const e=s.postRender(this.gl,n);n.inputBuffer=e,n.swapBuffer=e===r[0]?r[1]:r[0]}}}},{"../debug":"2nXIZ","../passes/draw-layers-pass":"3wdly","../passes/pick-layers-pass":"crdb3","@luma.gl/core":"e4zBo","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3wdly":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./layers-pass"),o=n.interopDefault(s);class i extends o.default{}r.default=i},{"./layers-pass":"2KBcN","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],crdb3:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./layers-pass"),o=n.interopDefault(s),i=e("@luma.gl/core"),a=e("../utils/log"),l=n.interopDefault(a);const c={blendFunc:[1,0,32771,0],blendEquation:32774};class u extends o.default{render(e){return e.pickingFBO?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer({layers:e,layerFilter:t,views:r,viewports:n,onViewportActive:s,pickingFBO:o,deviceRect:{x:a,y:l,width:u,height:d},pass:h="picking",redrawReason:f,pickZ:m}){const g=this.gl;this.pickZ=m;const y=!m&&{byLayer:new Map,byAlpha:[]};this._colors=y;const b=i.withParameters(g,{scissorTest:!0,scissor:[a,l,u,d],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0],...c,blend:!m},(()=>super.render({target:o,layers:e,layerFilter:t,views:r,viewports:n,onViewportActive:s,pass:h,redrawReason:f})));this._colors=null;return{decodePickingColor:y&&p.bind(null,y),stats:b}}shouldDrawLayer(e){return e.props.pickable}getModuleParameters(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}getLayerParameters(e,t,r){const n={...e.props.parameters};return this.pickZ?n.blend=!1:(Object.assign(n,c),n.blend=!0,n.blendColor=function(e,t,r){const{byLayer:n,byAlpha:s}=e;let o;if(n.has(t)){const e=n.get(t);e.viewports.push(r),o=e.a}else if(o=n.size+1,o<=255){const e={a:o,layer:t,viewports:[r]};n.set(t,e),s[o]=e}else l.default.warn("Too many pickable layers, only picking the first 255")(),o=0;return[0,0,0,o/255]}(this._colors,e,r)),n}}function p(e,t){const r=e.byAlpha[t[3]];return r&&{pickedLayer:r.layer,pickedViewports:r.viewports,pickedObjectIndex:r.layer.decodePickingColor(t)}}r.default=u},{"./layers-pass":"2KBcN","@luma.gl/core":"e4zBo","../utils/log":"aMqim","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],bab2c:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@luma.gl/core"),o=e("../passes/pick-layers-pass"),i=n.interopDefault(o),a=e("./picking/query-object"),l=e("./picking/pick-info");r.default=class{constructor(e){this.gl=e,this.pickingFBO=null,this.pickLayersPass=new i.default(e),this.layerFilter=null,this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject({x:e,y:t,layers:r,viewports:n},s=this.lastPickedInfo.info){const o=s&&s.layer&&s.layer.id,i=s&&s.viewport&&s.viewport.id,a=o?r.find((e=>e.id===o)):null,l=i&&n.find((e=>e.id===i))||n[0],c=l&&l.unproject([e-l.x,t-l.y]),u={x:e,y:t,viewport:l,coordinate:c,layer:a};return a?{...s,...u}:Object.assign(u,{color:null,object:null,index:-1})}_resizeBuffer(){const{gl:e}=this;return this.pickingFBO||(this.pickingFBO=new s.Framebuffer(e),s.Framebuffer.isSupported(e,{colorBufferFloat:!0})&&(this.depthFBO=new s.Framebuffer(e),this.depthFBO.attach({36064:new s.Texture2D(e,{format:s.isWebGL2(e)?34836:6408,type:5126})}))),this.pickingFBO.resize({width:e.canvas.width,height:e.canvas.height}),this.depthFBO&&this.depthFBO.resize({width:e.canvas.width,height:e.canvas.height}),this.pickingFBO}_getPickable(e){if(!1===this._pickable)return null;const t=e.filter((e=>e.isPickable()&&!e.isComposite));return t.length?t:null}_pickClosestObject({layers:e,views:t,viewports:r,x:n,y:o,radius:i=0,depth:c=1,mode:u="query",unproject3D:p,onViewportActive:d}){if(!(e=this._getPickable(e)))return{result:[],emptyInfo:l.getEmptyPickingInfo({viewports:r,x:n,y:o})};this._resizeBuffer();const h=s.cssToDeviceRatio(this.gl),f=s.cssToDevicePixels(this.gl,[n,o],!0),m=[f.x+Math.floor(f.width/2),f.y+Math.floor(f.height/2)],g=Math.round(i*h),{width:y,height:b}=this.pickingFBO,v=this._getPickingRect({deviceX:m[0],deviceY:m[1],deviceRadius:g,deviceWidth:y,deviceHeight:b});let x;const _=[],w={};for(let s=0;s<c;s++){const i=v&&this._drawAndSample({layers:e,views:t,viewports:r,onViewportActive:d,deviceRect:v,pass:"picking:".concat(u),redrawReason:u}),f=a.getClosestObject({...i,deviceX:m[0],deviceY:m[1],deviceRadius:g,deviceRect:v});let y;if(f.pickedLayer&&p&&this.depthFBO){y=this._drawAndSample({layers:[f.pickedLayer],views:t,viewports:r,onViewportActive:d,deviceRect:{x:f.pickedX,y:f.pickedY,width:1,height:1},pass:"picking:".concat(u),redrawReason:"pick-z",pickZ:!0}).pickedColors[0]*r[0].distanceScales.metersPerUnit[2]+r[0].position[2]}if(f.pickedColor&&s+1<c){const t=f.pickedColor[3]-1;w[t]=!0,e[t].disablePickingIndex(f.pickedObjectIndex)}x=l.processPickInfo({pickInfo:f,lastPickedInfo:this.lastPickedInfo,mode:u,layers:e,viewports:r,x:n,y:o,z:y,pixelRatio:h});for(const e of x.values())e.layer&&_.push(e);if(!f.pickedColor)break}for(const t in w)e[t].restorePickingColors();return{result:_,emptyInfo:x&&x.get(null)}}_pickVisibleObjects({layers:e,views:t,viewports:r,x:n,y:o,width:i=1,height:c=1,mode:u="query",maxObjects:p=null,onViewportActive:d}){if(!(e=this._getPickable(e)))return[];this._resizeBuffer();const h=s.cssToDeviceRatio(this.gl),f=s.cssToDevicePixels(this.gl,[n,o],!0),m=f.x,g=f.y+f.height,y=s.cssToDevicePixels(this.gl,[n+i,o+c],!0),b=y.x+y.width,v=y.y,x={x:m,y:v,width:b-m,height:g-v},_=this._drawAndSample({layers:e,views:t,viewports:r,onViewportActive:d,deviceRect:x,pass:"picking:".concat(u),redrawReason:u}),w=a.getUniqueObjects(_),P=new Map,E=Number.isFinite(p);for(let e=0;e<w.length&&!(E&&P.size>=p);e++){const t=w[e];let r={color:t.pickedColor,layer:null,index:t.pickedObjectIndex,picked:!0,x:n,y:o,width:i,height:c,pixelRatio:h};r=l.getLayerPickingInfo({layer:t.pickedLayer,info:r,mode:u}),P.has(r.object)||P.set(r.object,r)}return Array.from(P.values())}_drawAndSample({layers:e,views:t,viewports:r,onViewportActive:n,deviceRect:o,pass:i,redrawReason:a,pickZ:l}){const c=l?this.depthFBO:this.pickingFBO,{decodePickingColor:u}=this.pickLayersPass.render({layers:e,layerFilter:this.layerFilter,views:t,viewports:r,onViewportActive:n,pickingFBO:c,deviceRect:o,pass:i,redrawReason:a,pickZ:l}),{x:p,y:d,width:h,height:f}=o,m=new(l?Float32Array:Uint8Array)(h*f*4);return s.readPixelsToArray(c,{sourceX:p,sourceY:d,sourceWidth:h,sourceHeight:f,target:m}),{pickedColors:m,decodePickingColor:u}}_getPickingRect({deviceX:e,deviceY:t,deviceRadius:r,deviceWidth:n,deviceHeight:s}){const o=Math.max(0,e-r),i=Math.max(0,t-r),a=Math.min(n,e+r+1)-o,l=Math.min(s,t+r+1)-i;return a<=0||l<=0?null:{x:o,y:i,width:a,height:l}}}},{"@luma.gl/core":"e4zBo","../passes/pick-layers-pass":"crdb3","./picking/query-object":"f7fhb","./picking/pick-info":"b7QHI","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],f7fhb:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getClosestObject",(()=>a)),n.export(r,"getUniqueObjects",(()=>l));var s=e("../../utils/log"),o=n.interopDefault(s);const i={pickedColor:null,pickedLayer:null,pickedObjectIndex:-1};function a({pickedColors:e,decodePickingColor:t,deviceX:r,deviceY:n,deviceRadius:s,deviceRect:a}){if(e){const{x:i,y:l,width:c,height:u}=a;let p=s*s,d=-1,h=0;for(let t=0;t<u;t++){const s=t+l-n,o=s*s;if(o>p)h+=4*c;else for(let t=0;t<c;t++){if(e[h+3]-1>=0){const e=t+i-r,n=e*e+o;n<=p&&(p=n,d=h)}h+=4}}if(d>=0){const r=e.slice(d,d+4),n=t(r);if(n){const e=Math.floor(d/4/c),t=d/4-e*c;return{...n,pickedColor:r,pickedX:i+t,pickedY:l+e}}o.default.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return i}function l({pickedColors:e,decodePickingColor:t}){const r=new Map;if(e)for(let n=0;n<e.length;n+=4){if(e[n+3]-1>=0){const s=e.slice(n,n+4),i=s.join(",");if(!r.has(i)){const e=t(s);e?r.set(i,{...e,pickedColor:s}):o.default.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(r.values())}},{"../../utils/log":"aMqim","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],b7QHI:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s({pickInfo:e,viewports:t,pixelRatio:r,x:n,y:s,z:o}){let i=t[0];t.length>1&&(i=function(e,t){for(let r=e.length-1;r>=0;r--){const n=e[r];if(n.containsPixel(t))return n}return e[0]}((null==e?void 0:e.pickedViewports)||t,{x:n,y:s}));const a=i&&i.unproject([n-i.x,s-i.y],{targetZ:o});return{color:null,layer:null,viewport:i,index:-1,picked:!1,x:n,y:s,pixel:[n,s],coordinate:a,devicePixel:e&&[e.pickedX,e.pickedY],pixelRatio:r}}function o(e){const{pickInfo:t,lastPickedInfo:r,mode:n,layers:o}=e,{pickedColor:a,pickedLayer:l,pickedObjectIndex:c}=t,u=l?[l]:[];if("hover"===n){const e=r.index,t=r.layerId,n=l&&l.props.id;if(n!==t||c!==e){if(n!==t){const e=o.find((e=>e.props.id===t));e&&u.unshift(e)}r.layerId=n,r.index=c,r.info=null}}const p=s(e),d=new Map;return d.set(null,p),u.forEach((e=>{let t={...p};e===l&&(t.color=a,t.index=c,t.picked=!0),t=i({layer:e,info:t,mode:n}),e===l&&"hover"===n&&(r.info=t),d.set(t.layer.id,t),"hover"===n&&t.layer.updateAutoHighlight(t)})),d}function i({layer:e,info:t,mode:r}){for(;e&&t;){const n=t.layer||null;t.sourceLayer=n,t.layer=e,t=e.getPickingInfo({info:t,mode:r,sourceLayer:n}),e=e.parent}return t}n.defineInteropFlag(r),n.export(r,"getEmptyPickingInfo",(()=>s)),n.export(r,"processPickInfo",(()=>o)),n.export(r,"getLayerPickingInfo",(()=>i))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],kXeG4:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);const n={zIndex:1,position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:0,left:0,display:"none"};r.default=class{constructor(e){const t=e.parentElement;t&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,n),t.appendChild(this.el)),this.isVisible=!1}setTooltip(e,t,r){const n=this.el;if("string"==typeof e)n.innerText=e;else{if(!e)return this.isVisible=!1,void(n.style.display="none");"text"in e&&(n.innerText=e.text),"html"in e&&(n.innerHTML=e.html),"className"in e&&(n.className=e.className),Object.assign(n.style,e.style)}this.isVisible=!0,n.style.display="block",n.style.transform="translate(".concat(t,"px, ").concat(r,"px)")}remove(){this.el&&this.el.remove()}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],k7Zbv:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"EventManager",(()=>o.default));var s=e("./event-manager"),o=n.interopDefault(s)},{"./event-manager":"2FNPV","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"2FNPV":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"default",(()=>A));var s=e("@babel/runtime/helpers/esm/slicedToArray"),o=n.interopDefault(s),i=e("@babel/runtime/helpers/esm/classCallCheck"),a=n.interopDefault(i),l=e("@babel/runtime/helpers/esm/createClass"),c=n.interopDefault(l),u=e("./utils/hammer"),p=e("./inputs/wheel-input"),d=n.interopDefault(p),h=e("./inputs/move-input"),f=n.interopDefault(h),m=e("./inputs/key-input"),g=n.interopDefault(m),y=e("./inputs/contextmenu-input"),b=n.interopDefault(y),v=e("./utils/event-registrar"),x=n.interopDefault(v),_=e("./constants");function w(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var E={events:null,recognizers:null,recognizerOptions:{},Manager:u.Manager,touchAction:"none",tabIndex:0},A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.default(this,e),this.options=Object.assign({},E,r),this.events=new Map,this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(t);var n=r.events;n&&this.on(n)}return c.default(e,[{key:"setElement",value:function(e){var t=this;if(this.element&&this.destroy(),this.element=e,e){var r=this.options,n=r.Manager;for(var s in this.manager=new n(e,{touchAction:r.touchAction,recognizers:r.recognizers||_.RECOGNIZERS}).on("hammer.input",this._onBasicInput),r.recognizers||Object.keys(_.RECOGNIZER_COMPATIBLE_MAP).forEach((function(e){var r=t.manager.get(e);r&&_.RECOGNIZER_COMPATIBLE_MAP[e].forEach((function(e){r.recognizeWith(e)}))})),r.recognizerOptions){var i=this.manager.get(s);if(i){var a=r.recognizerOptions[s];delete a.enable,i.set(a)}}this.wheelInput=new d.default(e,this._onOtherEvent,{enable:!1}),this.moveInput=new f.default(e,this._onOtherEvent,{enable:!1}),this.keyInput=new g.default(e,this._onOtherEvent,{enable:!1,tabIndex:r.tabIndex}),this.contextmenuInput=new b.default(e,this._onOtherEvent,{enable:!1});var l,c=w(this.events);try{for(c.s();!(l=c.n()).done;){var u=o.default(l.value,2),p=u[0],h=u[1];h.isEmpty()||(this._toggleRecognizer(h.recognizerName,!0),this.manager.on(p,h.handleEvent))}}catch(e){c.e(e)}finally{c.f()}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(e,t,r){this._addEventHandler(e,t,r,!1)}},{key:"once",value:function(e,t,r){this._addEventHandler(e,t,r,!0)}},{key:"watch",value:function(e,t,r){this._addEventHandler(e,t,r,!1,!0)}},{key:"off",value:function(e,t){this._removeEventHandler(e,t)}},{key:"_toggleRecognizer",value:function(e,t){var r=this.manager;if(r){var n=r.get(e);if(n&&n.options.enable!==t){n.set({enable:t});var s=_.RECOGNIZER_FALLBACK_MAP[e];s&&!this.options.recognizers&&s.forEach((function(s){var o=r.get(s);t?(o.requireFailure(e),n.dropRequireFailure(s)):o.dropRequireFailure(e)}))}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}}},{key:"_addEventHandler",value:function(e,t,r,n,s){if("string"==typeof e){var o=this.manager,i=this.events,a=_.GESTURE_EVENT_ALIASES[e]||e,l=i.get(a);l||(l=new x.default(this),i.set(a,l),l.recognizerName=_.EVENT_RECOGNIZER_MAP[a]||a,o&&o.on(a,l.handleEvent)),l.add(e,t,r,n,s),l.isEmpty()||this._toggleRecognizer(l.recognizerName,!0)}else for(var c in r=t,e)this._addEventHandler(c,e[c],r,n,s)}},{key:"_removeEventHandler",value:function(e,t){if("string"==typeof e){var r=this.events,n=_.GESTURE_EVENT_ALIASES[e]||e,s=r.get(n);if(s&&(s.remove(e,t),s.isEmpty())){var o,i=s.recognizerName,a=!1,l=w(r.values());try{for(l.s();!(o=l.n()).done;){var c=o.value;if(c.recognizerName===i&&!c.isEmpty()){a=!0;break}}}catch(e){l.e(e)}finally{l.f()}a||this._toggleRecognizer(i,!1)}}else for(var u in e)this._removeEventHandler(u,e[u])}},{key:"_onBasicInput",value:function(e){var t=e.srcEvent,r=_.BASIC_EVENT_ALIASES[t.type];r&&this.manager.emit(r,e)}},{key:"_onOtherEvent",value:function(e){this.manager.emit(e.type,e)}}]),e}()},{"@babel/runtime/helpers/esm/slicedToArray":"5KD4D","@babel/runtime/helpers/esm/classCallCheck":"9usj2","@babel/runtime/helpers/esm/createClass":"8rTSa","./utils/hammer":"5iehV","./inputs/wheel-input":"hAaHa","./inputs/move-input":"49NCg","./inputs/key-input":"9jfV7","./inputs/contextmenu-input":"40IDi","./utils/event-registrar":"hKSV5","./constants":"d44aD","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"5KD4D":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./arrayWithHoles.js"),o=n.interopDefault(s),i=e("./iterableToArrayLimit.js"),a=n.interopDefault(i),l=e("./unsupportedIterableToArray.js"),c=n.interopDefault(l),u=e("./nonIterableRest.js"),p=n.interopDefault(u);r.default=function(e,t){return o.default(e)||a.default(e,t)||c.default(e,t)||p.default()}},{"./arrayWithHoles.js":"04yGs","./iterableToArrayLimit.js":"lsIOQ","./unsupportedIterableToArray.js":"70iEu","./nonIterableRest.js":"zRNCu","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"04yGs":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e){if(Array.isArray(e))return e}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lsIOQ:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,s=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){s=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(s)throw o}}return r}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"70iEu":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./arrayLikeToArray.js"),o=n.interopDefault(s);r.default=function(e,t){if(e){if("string"==typeof e)return o.default(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o.default(e,t):void 0}}},{"./arrayLikeToArray.js":"6mZ6P","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"6mZ6P":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],zRNCu:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"9usj2":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"8rTSa":[function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"5iehV":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"Manager",(()=>a));var s=e("hammerjs"),o=n.interopDefault(s),i=e("./hammer-overrides");i.enhancePointerEventInput(o.default.PointerEventInput),i.enhanceMouseInput(o.default.MouseInput);var a=o.default.Manager;r.default=o.default},{hammerjs:"7A6dB","./hammer-overrides":"8AF2a","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"7A6dB":[function(e,t,r){
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(e,r,n,s){var o,i=["","webkit","Moz","MS","ms","o"],a=r.createElement("div"),l=Math.round,c=Math.abs,u=Date.now;function p(e,t,r){return setTimeout(b(e,r),t)}function d(e,t,r){return!!Array.isArray(e)&&(h(e,r[t],r),!0)}function h(e,t,r){var n;if(e)if(e.forEach)e.forEach(t,r);else if(e.length!==s)for(n=0;n<e.length;)t.call(r,e[n],n,e),n++;else for(n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n,e)}function f(t,r,n){var s="DEPRECATED METHOD: "+r+"\n"+n+" AT \n";return function(){var r=new Error("get-stack-trace"),n=r&&r.stack?r.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=e.console&&(e.console.warn||e.console.log);return o&&o.call(e.console,s,n),t.apply(this,arguments)}}o="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!==s&&null!==n)for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t}:Object.assign;var m=f((function(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;)(!r||r&&e[n[o]]===s)&&(e[n[o]]=t[n[o]]),o++;return e}),"extend","Use `assign`."),g=f((function(e,t){return m(e,t,!0)}),"merge","Use `assign`.");function y(e,t,r){var n,s=t.prototype;(n=e.prototype=Object.create(s)).constructor=e,n._super=s,r&&o(n,r)}function b(e,t){return function(){return e.apply(t,arguments)}}function v(e,t){return"function"==typeof e?e.apply(t&&t[0]||s,t):e}function x(e,t){return e===s?t:e}function _(e,t,r){h(A(t),(function(t){e.addEventListener(t,r,!1)}))}function w(e,t,r){h(A(t),(function(t){e.removeEventListener(t,r,!1)}))}function P(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function E(e,t){return e.indexOf(t)>-1}function A(e){return e.trim().split(/\s+/g)}function T(e,t,r){if(e.indexOf&&!r)return e.indexOf(t);for(var n=0;n<e.length;){if(r&&e[n][r]==t||!r&&e[n]===t)return n;n++}return-1}function S(e){return Array.prototype.slice.call(e,0)}function j(e,t,r){for(var n=[],s=[],o=0;o<e.length;){var i=t?e[o][t]:e[o];T(s,i)<0&&n.push(e[o]),s[o]=i,o++}return r&&(n=t?n.sort((function(e,r){return e[t]>r[t]})):n.sort()),n}function C(e,t){for(var r,n,o=t[0].toUpperCase()+t.slice(1),a=0;a<i.length;){if((n=(r=i[a])?r+o:t)in e)return n;a++}return s}var I=1;function M(t){var r=t.ownerDocument||t;return r.defaultView||r.parentWindow||e}var k="ontouchstart"in e,L=C(e,"PointerEvent")!==s,F=k&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),R="touch",O="mouse",N=24,D=["x","y"],B=["clientX","clientY"];function U(e,t){var r=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){v(e.options.enable,[e])&&r.handler(t)},this.init()}function z(e,t,r){var n=r.pointers.length,o=r.changedPointers.length,i=1&t&&n-o==0,a=12&t&&n-o==0;r.isFirst=!!i,r.isFinal=!!a,i&&(e.session={}),r.eventType=t,function(e,t){var r=e.session,n=t.pointers,o=n.length;r.firstInput||(r.firstInput=H(t));o>1&&!r.firstMultiple?r.firstMultiple=H(t):1===o&&(r.firstMultiple=!1);var i=r.firstInput,a=r.firstMultiple,l=a?a.center:i.center,p=t.center=V(n);t.timeStamp=u(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=X(l,p),t.distance=Y(l,p),function(e,t){var r=t.center,n=e.offsetDelta||{},s=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(s=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=e.offsetDelta={x:r.x,y:r.y});t.deltaX=s.x+(r.x-n.x),t.deltaY=s.y+(r.y-n.y)}(r,t),t.offsetDirection=W(t.deltaX,t.deltaY);var d=G(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=d.x,t.overallVelocityY=d.y,t.overallVelocity=c(d.x)>c(d.y)?d.x:d.y,t.scale=a?(h=a.pointers,f=n,Y(f[0],f[1],B)/Y(h[0],h[1],B)):1,t.rotation=a?function(e,t){return X(t[1],t[0],B)+X(e[1],e[0],B)}(a.pointers,n):0,t.maxPointers=r.prevInput?t.pointers.length>r.prevInput.maxPointers?t.pointers.length:r.prevInput.maxPointers:t.pointers.length,function(e,t){var r,n,o,i,a=e.lastInterval||t,l=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(l>25||a.velocity===s)){var u=t.deltaX-a.deltaX,p=t.deltaY-a.deltaY,d=G(l,u,p);n=d.x,o=d.y,r=c(d.x)>c(d.y)?d.x:d.y,i=W(u,p),e.lastInterval=t}else r=a.velocity,n=a.velocityX,o=a.velocityY,i=a.direction;t.velocity=r,t.velocityX=n,t.velocityY=o,t.direction=i}(r,t);var h,f;var m=e.element;P(t.srcEvent.target,m)&&(m=t.srcEvent.target);t.target=m}(e,r),e.emit("hammer.input",r),e.recognize(r),e.session.prevInput=r}function H(e){for(var t=[],r=0;r<e.pointers.length;)t[r]={clientX:l(e.pointers[r].clientX),clientY:l(e.pointers[r].clientY)},r++;return{timeStamp:u(),pointers:t,center:V(t),deltaX:e.deltaX,deltaY:e.deltaY}}function V(e){var t=e.length;if(1===t)return{x:l(e[0].clientX),y:l(e[0].clientY)};for(var r=0,n=0,s=0;s<t;)r+=e[s].clientX,n+=e[s].clientY,s++;return{x:l(r/t),y:l(n/t)}}function G(e,t,r){return{x:t/e||0,y:r/e||0}}function W(e,t){return e===t?1:c(e)>=c(t)?e<0?2:4:t<0?8:16}function Y(e,t,r){r||(r=D);var n=t[r[0]]-e[r[0]],s=t[r[1]]-e[r[1]];return Math.sqrt(n*n+s*s)}function X(e,t,r){r||(r=D);var n=t[r[0]]-e[r[0]],s=t[r[1]]-e[r[1]];return 180*Math.atan2(s,n)/Math.PI}U.prototype={handler:function(){},init:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(M(this.element),this.evWin,this.domHandler)}};var q={mousedown:1,mousemove:2,mouseup:4},Z="mousedown",Q="mousemove mouseup";function K(){this.evEl=Z,this.evWin=Q,this.pressed=!1,U.apply(this,arguments)}y(K,U,{handler:function(e){var t=q[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:O,srcEvent:e}))}});var $={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},J={2:R,3:"pen",4:O,5:"kinect"},ee="pointerdown",te="pointermove pointerup pointercancel";function re(){this.evEl=ee,this.evWin=te,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}e.MSPointerEvent&&!e.PointerEvent&&(ee="MSPointerDown",te="MSPointerMove MSPointerUp MSPointerCancel"),y(re,U,{handler:function(e){var t=this.store,r=!1,n=e.type.toLowerCase().replace("ms",""),s=$[n],o=J[e.pointerType]||e.pointerType,i=o==R,a=T(t,e.pointerId,"pointerId");1&s&&(0===e.button||i)?a<0&&(t.push(e),a=t.length-1):12&s&&(r=!0),a<0||(t[a]=e,this.callback(this.manager,s,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),r&&t.splice(a,1))}});var ne={touchstart:1,touchmove:2,touchend:4,touchcancel:8},se="touchstart",oe="touchstart touchmove touchend touchcancel";function ie(){this.evTarget=se,this.evWin=oe,this.started=!1,U.apply(this,arguments)}function ae(e,t){var r=S(e.touches),n=S(e.changedTouches);return 12&t&&(r=j(r.concat(n),"identifier",!0)),[r,n]}y(ie,U,{handler:function(e){var t=ne[e.type];if(1===t&&(this.started=!0),this.started){var r=ae.call(this,e,t);12&t&&r[0].length-r[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:r[0],changedPointers:r[1],pointerType:R,srcEvent:e})}}});var le={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ce="touchstart touchmove touchend touchcancel";function ue(){this.evTarget=ce,this.targetIds={},U.apply(this,arguments)}function pe(e,t){var r=S(e.touches),n=this.targetIds;if(3&t&&1===r.length)return n[r[0].identifier]=!0,[r,r];var s,o,i=S(e.changedTouches),a=[],l=this.target;if(o=r.filter((function(e){return P(e.target,l)})),1===t)for(s=0;s<o.length;)n[o[s].identifier]=!0,s++;for(s=0;s<i.length;)n[i[s].identifier]&&a.push(i[s]),12&t&&delete n[i[s].identifier],s++;return a.length?[j(o.concat(a),"identifier",!0),a]:void 0}y(ue,U,{handler:function(e){var t=le[e.type],r=pe.call(this,e,t);r&&this.callback(this.manager,t,{pointers:r[0],changedPointers:r[1],pointerType:R,srcEvent:e})}});function de(){U.apply(this,arguments);var e=b(this.handler,this);this.touch=new ue(this.manager,e),this.mouse=new K(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function he(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,fe.call(this,t)):12&e&&fe.call(this,t)}function fe(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY};this.lastTouches.push(r);var n=this.lastTouches;setTimeout((function(){var e=n.indexOf(r);e>-1&&n.splice(e,1)}),2500)}}function me(e){for(var t=e.srcEvent.clientX,r=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var s=this.lastTouches[n],o=Math.abs(t-s.x),i=Math.abs(r-s.y);if(o<=25&&i<=25)return!0}return!1}y(de,U,{handler:function(e,t,r){var n=r.pointerType==R,s=r.pointerType==O;if(!(s&&r.sourceCapabilities&&r.sourceCapabilities.firesTouchEvents)){if(n)he.call(this,t,r);else if(s&&me.call(this,r))return;this.callback(e,t,r)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ge=C(a.style,"touchAction"),ye=ge!==s,be="compute",ve="auto",xe="manipulation",_e="none",we="pan-x",Pe="pan-y",Ee=function(){if(!ye)return!1;var t={},r=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!r||e.CSS.supports("touch-action",n)})),t}();function Ae(e,t){this.manager=e,this.set(t)}Ae.prototype={set:function(e){e==be&&(e=this.compute()),ye&&this.manager.element.style&&Ee[e]&&(this.manager.element.style[ge]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return h(this.manager.recognizers,(function(t){v(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(E(e,_e))return _e;var t=E(e,we),r=E(e,Pe);return t&&r?_e:t||r?t?we:Pe:E(e,xe)?xe:ve}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,r=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var n=this.actions,s=E(n,_e)&&!Ee.none,o=E(n,Pe)&&!Ee["pan-y"],i=E(n,we)&&!Ee["pan-x"];if(s){var a=1===e.pointers.length,l=e.distance<2,c=e.deltaTime<250;if(a&&l&&c)return}if(!i||!o)return s||o&&6&r||i&&r&N?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Te=32;function Se(e){this.options=o({},this.defaults,e||{}),this.id=I++,this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function je(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Ce(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Ie(e,t){var r=t.manager;return r?r.get(e):e}function Me(){Se.apply(this,arguments)}function ke(){Me.apply(this,arguments),this.pX=null,this.pY=null}function Le(){Me.apply(this,arguments)}function Fe(){Se.apply(this,arguments),this._timer=null,this._input=null}function Re(){Me.apply(this,arguments)}function Oe(){Me.apply(this,arguments)}function Ne(){Se.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function De(e,t){return(t=t||{}).recognizers=x(t.recognizers,De.defaults.preset),new Be(e,t)}Se.prototype={defaults:{},set:function(e){return o(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(d(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ie(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return d(e,"dropRecognizeWith",this)||(e=Ie(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(d(e,"requireFailure",this))return this;var t=this.requireFail;return-1===T(t,e=Ie(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(d(e,"dropRequireFailure",this))return this;e=Ie(e,this);var t=T(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,r=this.state;function n(r){t.manager.emit(r,e)}r<8&&n(t.options.event+je(r)),n(t.options.event),e.additionalEvent&&n(e.additionalEvent),r>=8&&n(t.options.event+je(r))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Te},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=o({},e);if(!v(this.options.enable,[this,t]))return this.reset(),void(this.state=Te);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},y(Me,Se,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,r=e.eventType,n=6&t,s=this.attrTest(e);return n&&(8&r||!s)?16|t:n||s?4&r?8|t:2&t?4|t:2:Te}}),y(ke,Me,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(Pe),e&N&&t.push(we),t},directionTest:function(e){var t=this.options,r=!0,n=e.distance,s=e.direction,o=e.deltaX,i=e.deltaY;return s&t.direction||(6&t.direction?(s=0===o?1:o<0?2:4,r=o!=this.pX,n=Math.abs(e.deltaX)):(s=0===i?1:i<0?8:16,r=i!=this.pY,n=Math.abs(e.deltaY))),e.direction=s,r&&n>t.threshold&&s&t.direction},attrTest:function(e){return Me.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Ce(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),y(Le,Me,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[_e]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),y(Fe,Se,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ve]},process:function(e){var t=this.options,r=e.pointers.length===t.pointers,n=e.distance<t.threshold,s=e.deltaTime>t.time;if(this._input=e,!n||!r||12&e.eventType&&!s)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return Te},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}}),y(Re,Me,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[_e]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),y(Oe,Me,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return ke.prototype.getTouchAction.call(this)},attrTest:function(e){var t,r=this.options.direction;return 30&r?t=e.overallVelocity:6&r?t=e.overallVelocityX:r&N&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&r&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&c(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Ce(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),y(Ne,Se,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[xe]},process:function(e){var t=this.options,r=e.pointers.length===t.pointers,n=e.distance<t.threshold,s=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(n&&s&&r){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,i=!this.pCenter||Y(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,i&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Te},failTimeout:function(){return this._timer=p((function(){this.state=Te}),this.options.interval,this),Te},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),De.VERSION="2.0.7",De.defaults={domEvents:!1,touchAction:be,enable:!0,inputTarget:null,inputClass:null,preset:[[Re,{enable:!1}],[Le,{enable:!1},["rotate"]],[Oe,{direction:6}],[ke,{direction:6},["swipe"]],[Ne],[Ne,{event:"doubletap",taps:2},["tap"]],[Fe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Be(e,t){var r;this.options=o({},De.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((r=this).options.inputClass||(L?re:F?ue:k?de:K))(r,z),this.touchAction=new Ae(this,this.options.touchAction),Ue(this,!0),h(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ue(e,t){var r,n=e.element;n.style&&(h(e.options.cssProps,(function(s,o){r=C(n.style,o),t?(e.oldCssProps[r]=n.style[r],n.style[r]=s):n.style[r]=e.oldCssProps[r]||""})),t||(e.oldCssProps={}))}Be.prototype={set:function(e){return o(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var r;this.touchAction.preventDefaults(e);var n=this.recognizers,s=t.curRecognizer;(!s||s&&8&s.state)&&(s=t.curRecognizer=null);for(var o=0;o<n.length;)r=n[o],2===t.stopped||s&&r!=s&&!r.canRecognizeWith(s)?r.reset():r.recognize(e),!s&&14&r.state&&(s=t.curRecognizer=r),o++}},get:function(e){if(e instanceof Se)return e;for(var t=this.recognizers,r=0;r<t.length;r++)if(t[r].options.event==e)return t[r];return null},add:function(e){if(d(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(d(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,r=T(t,e);-1!==r&&(t.splice(r,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var r=this.handlers;return h(A(e),(function(e){r[e]=r[e]||[],r[e].push(t)})),this}},off:function(e,t){if(e!==s){var r=this.handlers;return h(A(e),(function(e){t?r[e]&&r[e].splice(T(r[e],t),1):delete r[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=r.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var s=0;s<n.length;)n[s](t),s++}},destroy:function(){this.element&&Ue(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},o(De,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Te,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:N,DIRECTION_ALL:30,Manager:Be,Input:U,TouchAction:Ae,TouchInput:ue,MouseInput:K,PointerEventInput:re,TouchMouseInput:de,SingleTouchInput:ie,Recognizer:Se,AttrRecognizer:Me,Tap:Ne,Pan:ke,Swipe:Oe,Pinch:Le,Rotate:Re,Press:Fe,on:_,off:w,each:h,merge:g,extend:m,assign:o,inherit:y,bindFn:b,prefixed:C}),(void 0!==e?e:"undefined"!=typeof self?self:{}).Hammer=De,"function"==typeof define&&define.amd?define((function(){return De})):void 0!==t&&t.exports?t.exports=De:e.Hammer=De}(window,document)},{}],"8AF2a":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"enhancePointerEventInput",(()=>o)),n.export(r,"enhanceMouseInput",(()=>i));var s={mousedown:1,mousemove:2,mouseup:4};function o(e){var t=e.prototype.handler;e.prototype.handler=function(e){var r=this.store;e.button>0&&(function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return!0;return!1}(r,(function(t){return t.pointerId===e.pointerId}))||r.push(e)),t.call(this,e)}}function i(e){e.prototype.handler=function(e){var t=s[e.type];1&t&&e.button>=0&&(this.pressed=!0),2&t&&0===e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hAaHa:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"default",(()=>f));var s=e("@babel/runtime/helpers/esm/classCallCheck"),o=n.interopDefault(s),i=e("@babel/runtime/helpers/esm/createClass"),a=n.interopDefault(i),l=e("../constants"),c=e("../utils/globals"),u=-1!==c.userAgent.indexOf("firefox"),p=l.INPUT_EVENT_TYPES.WHEEL_EVENTS,d="wheel",h=4.000244140625,f=function(){function e(t,r){var n=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o.default(this,e),this.element=t,this.callback=r,this.options=Object.assign({enable:!0},s),this.events=p.concat(s.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(e){return t.addEventListener(e,n.handleEvent,!!c.passiveSupported&&{passive:!1})}))}return a.default(e,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===d&&(this.options.enable=t)}},{key:"handleEvent",value:function(e){if(this.options.enable){var t=e.deltaY;c.window.WheelEvent&&(u&&e.deltaMode===c.window.WheelEvent.DOM_DELTA_PIXEL&&(t/=c.window.devicePixelRatio),e.deltaMode===c.window.WheelEvent.DOM_DELTA_LINE&&(t*=40));var r={x:e.clientX,y:e.clientY};0!==t&&t%h==0&&(t=Math.floor(t/h)),e.shiftKey&&t&&(t*=.25),this._onWheel(e,-t,r)}}},{key:"_onWheel",value:function(e,t,r){this.callback({type:d,center:r,delta:t,srcEvent:e,pointerType:"mouse",target:e.target})}}]),e}()},{"@babel/runtime/helpers/esm/classCallCheck":"9usj2","@babel/runtime/helpers/esm/createClass":"8rTSa","../constants":"d44aD","../utils/globals":"jl6NU","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],d44aD:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"RECOGNIZERS",(()=>i)),n.export(r,"RECOGNIZER_COMPATIBLE_MAP",(()=>a)),n.export(r,"RECOGNIZER_FALLBACK_MAP",(()=>l)),n.export(r,"BASIC_EVENT_ALIASES",(()=>c)),n.export(r,"INPUT_EVENT_TYPES",(()=>u)),n.export(r,"EVENT_RECOGNIZER_MAP",(()=>p)),n.export(r,"GESTURE_EVENT_ALIASES",(()=>d));var s=e("./utils/hammer"),o=n.interopDefault(s),i=o.default?[[o.default.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[o.default.Rotate,{enable:!1}],[o.default.Pinch,{enable:!1}],[o.default.Swipe,{enable:!1}],[o.default.Pan,{threshold:0,enable:!1}],[o.default.Press,{enable:!1}],[o.default.Tap,{event:"doubletap",taps:2,enable:!1}],[o.default.Tap,{event:"anytap",enable:!1}],[o.default.Tap,{enable:!1}]]:null,a={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},l={doubletap:["tap"]},c={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},u={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel","DOMMouseScroll"]},p={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},d={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"}},{"./utils/hammer":"5iehV","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jl6NU:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"userAgent",(()=>o)),n.export(r,"window",(()=>i)),n.export(r,"global",(()=>a)),n.export(r,"document",(()=>l)),n.export(r,"passiveSupported",(()=>c));var s=arguments[3],o="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",i="undefined"!=typeof window?window:s,a=void 0!==s?s:window,l="undefined"!=typeof document?document:{},c=!1;try{var u={get passive(){return c=!0,!0}};i.addEventListener("test",u,u),i.removeEventListener("test",u,u)}catch(e){}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"49NCg":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"default",(()=>h));var s=e("@babel/runtime/helpers/esm/classCallCheck"),o=n.interopDefault(s),i=e("@babel/runtime/helpers/esm/createClass"),a=n.interopDefault(i),l=e("../constants").INPUT_EVENT_TYPES.MOUSE_EVENTS,c="pointermove",u="pointerover",p="pointerout",d="pointerleave",h=function(){function e(t,r){var n=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o.default(this,e),this.element=t,this.callback=r,this.pressed=!1,this.options=Object.assign({enable:!0},s),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.enableOutEvent=this.options.enable,this.enableOverEvent=this.options.enable,this.events=l.concat(s.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(e){return t.addEventListener(e,n.handleEvent)}))}return a.default(e,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===c&&(this.enableMoveEvent=t),e===u&&(this.enableOverEvent=t),e===p&&(this.enableOutEvent=t),e===d&&(this.enableLeaveEvent=t)}},{key:"handleEvent",value:function(e){this.handleOverEvent(e),this.handleOutEvent(e),this.handleLeaveEvent(e),this.handleMoveEvent(e)}},{key:"handleOverEvent",value:function(e){this.enableOverEvent&&"mouseover"===e.type&&this.callback({type:u,srcEvent:e,pointerType:"mouse",target:e.target})}},{key:"handleOutEvent",value:function(e){this.enableOutEvent&&"mouseout"===e.type&&this.callback({type:p,srcEvent:e,pointerType:"mouse",target:e.target})}},{key:"handleLeaveEvent",value:function(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this.callback({type:d,srcEvent:e,pointerType:"mouse",target:e.target})}},{key:"handleMoveEvent",value:function(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this.callback({type:c,srcEvent:e,pointerType:"mouse",target:e.target});break;case"mouseup":this.pressed=!1}}}]),e}()},{"@babel/runtime/helpers/esm/classCallCheck":"9usj2","@babel/runtime/helpers/esm/createClass":"8rTSa","../constants":"d44aD","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"9jfV7":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"default",(()=>p));var s=e("@babel/runtime/helpers/esm/classCallCheck"),o=n.interopDefault(s),i=e("@babel/runtime/helpers/esm/createClass"),a=n.interopDefault(i),l=e("../constants").INPUT_EVENT_TYPES.KEY_EVENTS,c="keydown",u="keyup",p=function(){function e(t,r){var n=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o.default(this,e),this.element=t,this.callback=r,this.options=Object.assign({enable:!0},s),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=l.concat(s.events||[]),this.handleEvent=this.handleEvent.bind(this),t.tabIndex=s.tabIndex||0,t.style.outline="none",this.events.forEach((function(e){return t.addEventListener(e,n.handleEvent)}))}return a.default(e,[{key:"destroy",value:function(){var e=this;this.events.forEach((function(t){return e.element.removeEventListener(t,e.handleEvent)}))}},{key:"enableEventType",value:function(e,t){e===c&&(this.enableDownEvent=t),e===u&&(this.enableUpEvent=t)}},{key:"handleEvent",value:function(e){var t=e.target||e.srcElement;"INPUT"===t.tagName&&"text"===t.type||"TEXTAREA"===t.tagName||(this.enableDownEvent&&"keydown"===e.type&&this.callback({type:c,srcEvent:e,key:e.key,target:e.target}),this.enableUpEvent&&"keyup"===e.type&&this.callback({type:u,srcEvent:e,key:e.key,target:e.target}))}}]),e}()},{"@babel/runtime/helpers/esm/classCallCheck":"9usj2","@babel/runtime/helpers/esm/createClass":"8rTSa","../constants":"d44aD","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"40IDi":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"default",(()=>c));var s=e("@babel/runtime/helpers/esm/classCallCheck"),o=n.interopDefault(s),i=e("@babel/runtime/helpers/esm/createClass"),a=n.interopDefault(i),l="contextmenu",c=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o.default(this,e),this.element=t,this.callback=r,this.options=Object.assign({enable:!0},n),this.handleEvent=this.handleEvent.bind(this),t.addEventListener("contextmenu",this.handleEvent)}return a.default(e,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(e,t){e===l&&(this.options.enable=t)}},{key:"handleEvent",value:function(e){this.options.enable&&this.callback({type:l,center:{x:e.clientX,y:e.clientY},srcEvent:e,pointerType:"mouse",target:e.target})}}]),e}()},{"@babel/runtime/helpers/esm/classCallCheck":"9usj2","@babel/runtime/helpers/esm/createClass":"8rTSa","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hKSV5:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"default",(()=>d));var s=e("@babel/runtime/helpers/esm/typeof"),o=n.interopDefault(s),i=e("@babel/runtime/helpers/esm/classCallCheck"),a=n.interopDefault(i),l=e("@babel/runtime/helpers/esm/createClass"),c=n.interopDefault(l),u=e("./event-utils"),p={srcElement:"root",priority:0},d=function(){function e(t){a.default(this,e),this.eventManager=t,this.handlers=[],this.handlersByElement=new Map,this.handleEvent=this.handleEvent.bind(this),this._active=!1}return c.default(e,[{key:"isEmpty",value:function(){return!this._active}},{key:"add",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=this.handlers,a=this.handlersByElement;r&&("object"!==o.default(r)||r.addEventListener)&&(r={srcElement:r}),r=r?Object.assign({},p,r):p;var l=a.get(r.srcElement);l||(l=[],a.set(r.srcElement,l));var c={type:e,handler:t,srcElement:r.srcElement,priority:r.priority};n&&(c.once=!0),s&&(c.passive=!0),i.push(c),this._active=this._active||!c.passive;for(var u=l.length-1;u>=0&&!(l[u].priority>=c.priority);)u--;l.splice(u+1,0,c)}},{key:"remove",value:function(e,t){for(var r=this.handlers,n=this.handlersByElement,s=r.length-1;s>=0;s--){var o=r[s];if(o.type===e&&o.handler===t){r.splice(s,1);var i=n.get(o.srcElement);i.splice(i.indexOf(o),1),0===i.length&&n.delete(o.srcElement)}}this._active=r.some((function(e){return!e.passive}))}},{key:"handleEvent",value:function(e){if(!this.isEmpty()){for(var t=this._normalizeEvent(e),r=e.srcEvent.target;r&&r!==t.rootElement;){if(this._emit(t,r),t.handled)return;r=r.parentNode}this._emit(t,"root")}}},{key:"_emit",value:function(e,t){var r=this.handlersByElement.get(t);if(r){for(var n=!1,s=function(){e.handled=!0},o=function(){e.handled=!0,n=!0},i=[],a=0;a<r.length;a++){var l=r[a],c=l.type,u=l.handler,p=l.once;if(u(Object.assign({},e,{type:c,stopPropagation:s,stopImmediatePropagation:o})),p&&i.push(r[a]),n)break}for(var d=0;d<i.length;d++){var h=i[d],f=h.type,m=h.handler;this.remove(f,m)}}}},{key:"_normalizeEvent",value:function(e){var t=this.eventManager.element;return Object.assign({},e,u.whichButtons(e),u.getOffsetPosition(e,t),{handled:!1,rootElement:t})}}]),e}()},{"@babel/runtime/helpers/esm/typeof":"kPJwE","@babel/runtime/helpers/esm/classCallCheck":"9usj2","@babel/runtime/helpers/esm/createClass":"8rTSa","./event-utils":"j7SLE","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],kPJwE:[function(e,t,r){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=n},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],j7SLE:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"whichButtons",(()=>o)),n.export(r,"getOffsetPosition",(()=>i));var s={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};function o(e){var t=s[e.srcEvent.type];if(!t)return null;var r=e.srcEvent,n=r.buttons,o=r.button,i=r.which,a=!1,l=!1,c=!1;return 4===t||2===t&&!Number.isFinite(n)?(a=1===i,l=2===i,c=3===i):2===t?(a=Boolean(1&n),l=Boolean(4&n),c=Boolean(2&n)):1===t&&(a=0===o,l=1===o,c=2===o),{leftButton:a,middleButton:l,rightButton:c}}function i(e,t){var r=e.srcEvent;if(!e.center&&!Number.isFinite(r.clientX))return null;var n=e.center||{x:r.clientX,y:r.clientY},s=t.getBoundingClientRect(),o=s.width/t.offsetWidth,i=s.height/t.offsetHeight;return{center:n,offsetCenter:{x:(n.x-s.left-t.clientLeft)/o,y:(n.y-s.top-t.clientTop)/i}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],kc7Vl:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./constants"),o=e("./attribute/attribute-manager"),i=n.interopDefault(o),a=e("./uniform-transition-manager"),l=n.interopDefault(a),c=e("../lifecycle/props"),u=e("../utils/count"),p=e("../utils/log"),d=n.interopDefault(p),h=e("../debug"),f=n.interopDefault(h),m=e("@luma.gl/core"),g=e("../utils/assert"),y=n.interopDefault(g),b=e("../utils/memoize"),v=n.interopDefault(b),x=e("../utils/shader"),_=e("../shaderlib/project/project-functions"),w=e("../utils/typed-array-manager"),P=n.interopDefault(w),E=e("../lifecycle/component"),A=n.interopDefault(E),T=e("./layer-state"),S=n.interopDefault(T),j=e("@math.gl/web-mercator"),C=e("@loaders.gl/core");const I=2**24-1,M=Object.freeze([]),k=v.default((({oldViewport:e,viewport:t})=>e.equals(t)));let L=new Uint8ClampedArray(0);const F={data:{type:"data",value:M,async:!0},dataComparator:null,_dataDiff:{type:"function",value:e=>e&&e.__diff,compare:!1,optional:!0},dataTransform:{type:"function",value:null,compare:!1,optional:!0},onDataLoad:{type:"function",value:null,compare:!1,optional:!0},onError:{type:"function",value:null,compare:!1,optional:!0},fetch:{type:"function",value:(e,{propName:t,layer:r,loaders:n,loadOptions:s,signal:o})=>{const{resourceManager:i}=r.context;var a;(s=s||r.getLoadOptions(),n=n||r.props.loaders,o)&&(s={...s,fetch:{...null===(a=s)||void 0===a?void 0:a.fetch,signal:o}});let l=i.contains(e);return l||s||(i.add({resourceId:e,data:C.load(e,n),persistent:!1}),l=!0),l?i.subscribe({resourceId:e,onChange:e=>r.internalState.reloadAsyncProp(t,e),consumerId:r.id,requestId:t}):C.load(e,n,s)},compare:!1},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:s.COORDINATE_SYSTEM.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,compare:!0},getPolygonOffset:{type:"function",value:({layerIndex:e})=>[0,100*-e],compare:!1},highlightedObjectIndex:-1,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class R extends A.default{toString(){const e=this.constructor.layerName||this.constructor.name;return"".concat(e,"({id: '").concat(this.props.id,"'})")}raiseError(e,t){var r,n,s,o;(t&&(e.message="".concat(t,": ").concat(e.message)),null===(r=(n=this.props).onError)||void 0===r?void 0:r.call(n,e))||(null===(s=this.context)||void 0===s||null===(o=s.onError)||void 0===o||o.call(s,e,this))}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(e=!0){this.internalState&&(this.internalState.needsRedraw=e)}setNeedsUpdate(){this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0}getNeedsRedraw(e={clearRedrawFlags:!1}){return this._getNeedsRedraw(e)}needsUpdate(){return this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams())}hasUniformTransition(){return this.internalState.uniformTransitions.active}get isLoaded(){return this.internalState&&!this.internalState.isAsyncPropLoading()}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){return this.state&&(this.state.models||(this.state.model?[this.state.model]:[]))}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}project(e){const{viewport:t}=this.context,r=_.getWorldPosition(e,{viewport:t,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[n,s,o]=j.worldToPixels(r,t.pixelProjectionMatrix);return 2===e.length?[n,s]:[n,s,o]}unproject(e){const{viewport:t}=this.context;return t.unproject(e)}projectPosition(e){return _.projectPosition(e,{viewport:this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem})}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===s.COORDINATE_SYSTEM.DEFAULT||e===s.COORDINATE_SYSTEM.LNGLAT||e===s.COORDINATE_SYSTEM.CARTESIAN}onHover(e,t){return!!this.props.onHover&&this.props.onHover(e,t)}onClick(e,t){return!!this.props.onClick&&this.props.onClick(e,t)}nullPickingColor(){return[0,0,0]}encodePickingColor(e,t=[]){return t[0]=e+1&255,t[1]=e+1>>8&255,t[2]=e+1>>8>>8&255,t}decodePickingColor(e){y.default(e instanceof Uint8Array);const[t,r,n]=e;return t+256*r+65536*n-1}initializeState(){throw new Error("Layer ".concat(this," has not defined initializeState"))}getShaders(e){for(const t of this.props.extensions)e=x.mergeShaders(e,t.getShaders.call(this,t));return e}shouldUpdateState({oldProps:e,props:t,context:r,changeFlags:n}){return n.propsOrDataChanged}updateState({oldProps:e,props:t,context:r,changeFlags:n}){const s=this.getAttributeManager();if(n.dataChanged&&s){const{dataChanged:e}=n;if(Array.isArray(e))for(const t of e)s.invalidateAll(t);else s.invalidateAll()}const o=e.highlightedObjectIndex>=0||e.pickable,i=t.highlightedObjectIndex>=0||t.pickable;if(o!==i&&s){const{pickingColors:e,instancePickingColors:t}=s.attributes,r=e||t;r&&(i&&r.constant&&(r.constant=!1,s.invalidate(r.id)),r.value||i||(r.constant=!0,r.value=[0,0,0]))}}finalizeState(){for(const e of this.getModels())e.delete();const e=this.getAttributeManager();e&&e.finalize(),this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState.uniformTransitions.clear(),this.internalState.finalize()}draw(e){for(const t of this.getModels())t.draw(e)}getPickingInfo({info:e,mode:t}){const{index:r}=e;return r>=0&&Array.isArray(this.props.data)&&(e.object=this.props.data[r]),e}activateViewport(e){const t=this.internalState.viewport;this.internalState.viewport=e,t&&k({oldViewport:t,viewport:e})||(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(e="all",t=""){const r=this.getAttributeManager();r&&("all"===e?r.invalidateAll():r.invalidate(e))}updateAttributes(e){for(const t of this.getModels())this._setModelAttributes(t,e)}_updateAttributes(e){const t=this.getAttributeManager();if(!t)return;const r=this.getNumInstances(e),n=this.getStartIndices(e);t.update({data:e.data,numInstances:r,startIndices:n,props:e,transitions:e.transitions,buffers:e.data.attributes,context:this,ignoreUnknownAttributes:!0});const s=t.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(s)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const t=e.update(),r=Object.create(this.props);for(const e in t)Object.defineProperty(r,e,{value:t[e]});return r}return this.props}calculateInstancePickingColors(e,{numInstances:t}){if(e.constant)return;const r=Math.floor(L.length/3);if(this.internalState.usesPickingColorCache=!0,r<t){t>I&&d.default.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),L=P.default.allocate(L,t,{size:3,copy:!0,maxCount:Math.max(t,I)});const e=Math.floor(L.length/3),n=[];for(let t=r;t<e;t++)this.encodePickingColor(t,n),L[3*t+0]=n[0],L[3*t+1]=n[1],L[3*t+2]=n[2]}e.value=L.subarray(0,3*t)}_setModelAttributes(e,t){const r=this.getAttributeManager(),n=e.userData.excludeAttributes||{},s=r.getShaderAttributes(t,n);e.setAttributes(s)}disablePickingIndex(e){this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:t,instancePickingColors:r}=this.getAttributeManager().attributes,n=t||r,s=n.getVertexOffset(e),o=n.getVertexOffset(e+1);n.buffer.subData({data:new Uint8Array(o-s),offset:s})}restorePickingColors(){const{pickingColors:e,instancePickingColors:t}=this.getAttributeManager().attributes,r=e||t;this.internalState.usesPickingColorCache&&r.value.buffer!==L.buffer&&(r.value=L.subarray(0,r.value.length)),r.updateSubBuffer({startOffset:0})}getNumInstances(e){return void 0!==(e=e||this.props).numInstances?e.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:u.count(e.data)}getStartIndices(e){return void 0!==(e=e||this.props).startIndices?e.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}_initialize(){f.default("layer.initialize",this),this._initState(),this.initializeState(this.context);for(const e of this.props.extensions)e.initializeState.call(this,this.context,e);this.setChangeFlags({dataChanged:!0,propsChanged:!0,viewportChanged:!0,extensionsChanged:!0}),this._updateState()}_update(){const e=this.needsUpdate();f.default("layer.update",this,e),e&&this._updateState()}_updateState(){const e=this.props,t=this.context.viewport,r=this._updateUniformTransition();this.internalState.propsInTransition=r,this.context.viewport=this.internalState.viewport||t,this.props=r;try{const r=this._getUpdateParams(),n=this.getModels();if(this.context.gl)this.updateState(r);else try{this.updateState(r)}catch(e){}for(const e of this.props.extensions)e.updateState.call(this,r,e);const s=this.getModels()[0]!==n[0];this._updateModules(r,s),this.isComposite?this._renderLayers(r):(this.setNeedsRedraw(),this._updateAttributes(this.props),this.state.model&&this.state.model.setInstanceCount(this.getNumInstances()))}finally{this.context.viewport=t,this.props=e,this.clearChangeFlags(),this.internalState.needsUpdate=!1,this.internalState.resetOldProps()}}_finalize(){f.default("layer.finalize",this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,e)}drawLayer({moduleParameters:e=null,uniforms:t={},parameters:r={}}){this._updateAttributeTransition();const n=this.props;this.props=this.internalState.propsInTransition||n;const{opacity:s}=this.props;t.opacity=Math.pow(s,1/2.2);try{e&&this.setModuleParameters(e);const{getPolygonOffset:s}=this.props,o=s&&s(t)||[0,0];m.setParameters(this.context.gl,{polygonOffset:o}),m.withParameters(this.context.gl,r,(()=>{const n={moduleParameters:e,uniforms:t,parameters:r,context:this.context};for(const e of this.props.extensions)e.draw.call(this,n,e);this.draw(n)}))}finally{this.props=n}}getChangeFlags(){return this.internalState.changeFlags}setChangeFlags(e){const{changeFlags:t}=this.internalState;for(const r in e)if(e[r]){let n=!1;"dataChanged"===r&&Array.isArray(t[r])&&(t[r]=Array.isArray(e[r])?t[r].concat(e[r]):e[r],n=!0),t[r]||(t[r]=e[r],n=!0),n&&f.default("layer.changeFlag",this,r,e)}const r=t.dataChanged||t.updateTriggersChanged||t.propsChanged||t.extensionsChanged;t.propsOrDataChanged=r,t.somethingChanged=r||e.viewportChanged||e.stateChanged}clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}diffProps(e,t){const r=c.diffProps(e,t);if(r.updateTriggersChanged)for(const e in r.updateTriggersChanged)r.updateTriggersChanged[e]&&this.invalidateAttribute(e);if(r.transitionsChanged)for(const n in r.transitionsChanged)this.internalState.uniformTransitions.add(n,t[n],e[n],e.transitions[n]);return this.setChangeFlags(r)}validateProps(){c.validateProps(this.props)}setModuleParameters(e){for(const t of this.getModels())t.updateModuleSettings(e)}updateAutoHighlight(e){this.props.autoHighlight&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const t={pickingSelectedColor:e.picked?e.color:null},{highlightColor:r}=this.props;e.picked&&"function"==typeof r&&(t.pickingHighlightColor=r(e)),this.setModuleParameters(t),this.setNeedsRedraw()}_updateModules({props:e,oldProps:t},r){const{autoHighlight:n,highlightedObjectIndex:s,highlightColor:o}=e;if(r||t.autoHighlight!==n||t.highlightedObjectIndex!==s||t.highlightColor!==o){const e={};n||(e.pickingSelectedColor=null),Array.isArray(o)&&(e.pickingHighlightColor=o),Number.isInteger(s)&&(e.pickingSelectedColor=s>=0?this.encodePickingColor(s):null),this.setModuleParameters(e)}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let t=!1;t=t||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags;const r=this.getAttributeManager(),n=r&&r.getNeedsRedraw(e);return t=t||n,t}_getAttributeManager(){return new i.default(this.context.gl,{id:this.props.id,stats:this.context.stats,timeline:this.context.timeline})}_initState(){y.default(!this.internalState&&!this.state),y.default(isFinite(this.props.coordinateSystem));const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new S.default({attributeManager:e,layer:this}),this.clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(d.default.deprecated("layer.state.attributeManager","layer.getAttributeManager()"),e)}),this.internalState.layer=this,this.internalState.uniformTransitions=new l.default(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props)}_transferState(e){f.default("layer.matched",this,this===e);const{state:t,internalState:r}=e;this!==e&&(this.internalState=r,this.internalState.layer=this,this.state=t,this.internalState.setAsyncProps(this.props),this.diffProps(this.props,this.internalState.getOldProps()))}_onAsyncPropUpdated(){this.diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}r.default=R,R.layerName="Layer",R.defaultProps=F},{"./constants":"ewpM3","./attribute/attribute-manager":"2PHBE","./uniform-transition-manager":"jNkPk","../lifecycle/props":"ja24T","../utils/count":"kd37r","../utils/log":"aMqim","../debug":"2nXIZ","@luma.gl/core":"e4zBo","../utils/assert":"ag0x0","../utils/memoize":"3VYtJ","../utils/shader":"511XU","../shaderlib/project/project-functions":"4bcKH","../utils/typed-array-manager":"gI2W7","../lifecycle/component":"2YEp9","./layer-state":"bF0RZ","@math.gl/web-mercator":"hl0Lf","@loaders.gl/core":"3xrRN","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"2PHBE":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./attribute"),o=n.interopDefault(s),i=e("../../utils/log"),a=n.interopDefault(i),l=e("../../debug"),c=n.interopDefault(l),u=e("./attribute-transition-manager"),p=n.interopDefault(u);const d="attributeManager.invalidate";r.default=class{constructor(e,{id:t="attribute-manager",stats:r,timeline:n}={}){this.id=t,this.gl=e,this.attributes={},this.updateTriggers={},this.accessors={},this.needsRedraw=!0,this.userData={},this.stats=r,this.attributeTransitionManager=new p.default(e,{id:"".concat(t,"-transitions"),timeline:n}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(e={clearRedrawFlags:!1}){const t=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,t&&this.id}setNeedsRedraw(e=!0){return this.needsRedraw=!0,this}add(e,t){this._add(e,t)}addInstanced(e,t){this._add(e,t,{instanced:1})}remove(e){for(let t=0;t<e.length;t++){const r=e[t];void 0!==this.attributes[r]&&(this.attributes[r].delete(),delete this.attributes[r])}}invalidate(e,t){const r=this._invalidateTrigger(e,t);c.default(d,this,e,r)}invalidateAll(e){for(const t in this.attributes)this.attributes[t].setNeedsUpdate(t,e);c.default(d,this,"all")}update({data:e,numInstances:t,startIndices:r=null,transitions:n,props:s={},buffers:o={},context:i={}}={}){let l=!1;c.default("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const n in this.attributes){const c=this.attributes[n],u=c.settings.accessor;c.startIndices=r,s[n]&&a.default.removed("props.".concat(n),"data.attributes.".concat(n))(),c.setExternalBuffer(o[n])||c.setBinaryValue(o[u],e.startIndices)||!o[u]&&c.setConstantValue(s[u])||c.needsUpdate()&&(l=!0,this._updateAttribute({attribute:c,numInstances:t,data:e,props:s,context:i})),this.needsRedraw|=c.needsRedraw()}l&&c.default("attributeManager.updateEnd",this,t),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:t,transitions:n})}updateTransition(){const{attributeTransitionManager:e}=this,t=e.run();return this.needsRedraw=this.needsRedraw||t,t}getAttributes(){return this.attributes}getChangedAttributes(e={clearChangedFlags:!1}){const{attributes:t,attributeTransitionManager:r}=this,n={...r.getAttributes()};for(const s in t){const o=t[s];o.needsRedraw(e)&&!r.hasAttribute(s)&&(n[s]=o)}return n}getShaderAttributes(e,t={}){e||(e=this.getAttributes());const r={};for(const n in e)t[n]||Object.assign(r,e[n].getShaderAttributes());return r}getAccessors(){return this.updateTriggers}_add(e,t,r={}){t&&a.default.warn("AttributeManager.add({updaters}) - updater map no longer supported")();for(const t in e){const n=e[t];this.attributes[t]=this._createAttribute(t,n,r)}this._mapUpdateTriggersToAttributes()}_createAttribute(e,t,r){const n={...t,id:e,isIndexed:t.isIndexed||t.elements||!1,constant:t.constant||!1,size:(t.elements?1:t.size)||1,value:t.value||null,divisor:t.instanced||r.instanced?1:t.divisor||0};return new o.default(this.gl,n)}_mapUpdateTriggersToAttributes(){const e={};for(const t in this.attributes){this.attributes[t].getUpdateTriggers().forEach((r=>{e[r]||(e[r]=[]),e[r].push(t)}))}this.updateTriggers=e}_invalidateTrigger(e,t){const{attributes:r,updateTriggers:n}=this,s=n[e];return s&&s.forEach((e=>{const n=r[e];n&&n.setNeedsUpdate(n.id,t)})),s}_updateAttribute(e){const{attribute:t,numInstances:r}=e;if(c.default("attribute.updateStart",t),t.constant)return void t.setConstantValue(t.value);t.allocate(r)&&c.default("attribute.allocate",t,r);t.updateBuffer(e)&&(this.needsRedraw=!0,c.default("attribute.updateEnd",t,r))}}},{"./attribute":"idH8G","../../utils/log":"aMqim","../../debug":"2nXIZ","./attribute-transition-manager":"wDPP1","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],idH8G:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./data-column"),o=n.interopDefault(s),i=e("../../utils/assert"),a=n.interopDefault(i),l=e("../../utils/iterable-utils"),c=e("../../utils/flatten"),u=e("../../utils/range"),p=e("./attribute-transition-utils");class d extends o.default{constructor(e,t={}){super(e,t);const{transition:r=!1,noAlloc:n=!1,update:s=null,accessor:o=null,transform:i=null,startIndices:a=null}=t;Object.assign(this.settings,{transition:r,noAlloc:n,update:s||o&&this._autoUpdater,accessor:o,transform:i}),Object.assign(this.state,{lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:u.FULL,startIndices:a}),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:e=!1}={}){const t=this.state.needsRedraw;return this.state.needsRedraw=t&&!e,t}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat("function"!=typeof e&&e||[])}supportsTransition(){return Boolean(this.settings.transition)}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:t}=this.settings,r=this.settings.transition,n=Array.isArray(t)?e[t.find((t=>e[t]))]:e[t];return p.normalizeTransitionSettings(n,r)}setNeedsUpdate(e=this.id,t){if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),t){const{startRow:e=0,endRow:r=1/0}=t;this.state.updateRanges=u.add(this.state.updateRanges,[e,r])}else this.state.updateRanges=u.FULL}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=u.EMPTY}setNeedsRedraw(e=this.id){this.state.needsRedraw=this.state.needsRedraw||e}update(e){this.setData(e)}allocate(e){const{state:t,settings:r}=this;return!r.noAlloc&&(!!r.update&&(super.allocate({numInstances:e,copy:t.updateRanges!==u.FULL}),!0))}updateBuffer({numInstances:e,data:t,props:r,context:n}){if(!this.needsUpdate())return!1;const{state:{updateRanges:s},settings:{update:o,noAlloc:i}}=this;let a=!0;if(o){for(const[i,a]of s)o.call(n,this,{data:t,startRow:i,endRow:a,props:r,numInstances:e});if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[t,r]of s){const n=Number.isFinite(t)?this.getVertexOffset(t):0,s=Number.isFinite(r)?this.getVertexOffset(r):i||!Number.isFinite(e)?this.value.length:e*this.size;super.updateSubBuffer({startOffset:n,endOffset:s})}else;this._checkAttributeArray()}else a=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),a}setConstantValue(e){if(void 0===e||"function"==typeof e)return!1;return this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0}setExternalBuffer(e){const{state:t}=this;return e?(this.clearNeedsUpdate(),t.lastExternalBuffer===e||(t.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(t.lastExternalBuffer=null,!1)}setBinaryValue(e,t=null){const{state:r,settings:n}=this;if(!e)return r.binaryValue=null,r.binaryAccessor=null,!1;if(n.noAlloc)return!1;if(r.binaryValue===e)return this.clearNeedsUpdate(),!0;r.binaryValue=e,this.setNeedsRedraw(),ArrayBuffer.isView(e)&&(e={value:e});if(n.transform||t!==this.startIndices){a.default(ArrayBuffer.isView(e.value),"invalid ".concat(n.accessor));const s=e.size&&e.size!==this.size;return r.binaryAccessor=l.getAccessorFromBuffer(e.value,{size:e.size||this.size,stride:e.stride,offset:e.offset,startIndices:t,nested:s}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:t}=this;return(t?t[e]:e)*this.size}getShaderAttributes(){const e=this.settings.shaderAttributes||{[this.id]:null},t={};for(const r in e)Object.assign(t,super.getShaderAttributes(r,e[r]));return t}_autoUpdater(e,{data:t,startRow:r,endRow:n,props:s,numInstances:o}){if(e.constant)return;const{settings:i,state:u,value:p,size:d,startIndices:h}=e,{accessor:f,transform:m}=i,g=u.binaryAccessor||("function"==typeof f?f:s[f]);a.default("function"==typeof g,'accessor "'.concat(f,'" is not a function'));let y=e.getVertexOffset(r);const{iterable:b,objectInfo:v}=l.createIterable(t,r,n);for(const t of b){v.index++;let r=g(t,v);if(m&&(r=m.call(this,r)),h){const t=(v.index<h.length-1?h[v.index+1]:o)-h[v.index];if(r&&Array.isArray(r[0])){let t=y;for(const n of r)e._normalizeValue(n,p,t),t+=d}else r&&r.length>d?p.set(r,y):(e._normalizeValue(r,v.target,0),c.fillArray({target:p,source:v.target,start:y,count:t}));y+=t*d}else e._normalizeValue(r,p,y),y+=d}}_validateAttributeUpdaters(){const{settings:e}=this;if(!(e.noAlloc||"function"==typeof e.update))throw new Error("Attribute ".concat(this.id," missing update or accessor"))}_checkAttributeArray(){const{value:e}=this,t=Math.min(4,this.size);if(e&&e.length>=t){let r=!0;switch(t){case 4:r=r&&Number.isFinite(e[3]);case 3:r=r&&Number.isFinite(e[2]);case 2:r=r&&Number.isFinite(e[1]);case 1:r=r&&Number.isFinite(e[0]);break;default:r=!1}if(!r)throw new Error("Illegal attribute generated for ".concat(this.id))}}}r.default=d},{"./data-column":"b6GwG","../../utils/assert":"ag0x0","../../utils/iterable-utils":"egtEn","../../utils/flatten":"3oSTR","../../utils/range":"81trz","./attribute-transition-utils":"lXiEU","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],b6GwG:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@luma.gl/core"),o=e("./shader-attribute"),i=n.interopDefault(o),a=e("./gl-utils"),l=e("../../utils/typed-array-manager"),c=n.interopDefault(l),u=e("../../utils/math-utils"),p=e("../../utils/log"),d=n.interopDefault(p);function h(e){return e.stride||e.size*e.bytesPerElement}function f(e,t){t.offset&&d.default.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const r=h(e),n=("vertexOffset"in t?t.vertexOffset:e.vertexOffset||0)*r+(t.elementOffset||0)*e.bytesPerElement+(e.offset||0);return{...t,offset:n,stride:r}}r.default=class{constructor(e,t){this.gl=e,this.id=t.id,this.size=t.size;const r=t.logicalType||t.type,n=5130===r;let{defaultValue:o}=t;o=Number.isFinite(o)?[o]:o||new Array(this.size).fill(0),t.defaultValue=o;let i=r;n?i=5126:!i&&t.isIndexed?i=e&&s.hasFeature(e,s.FEATURES.ELEMENT_INDEX_UINT32)?5125:5123:i||(i=5126),t.logicalType=r,t.type=i;let l=a.glArrayFromType(r||i||5126);this.shaderAttributes={},this.doublePrecision=n,n&&!1===t.fp64&&(l=Float32Array),t.bytesPerElement=l.BYTES_PER_ELEMENT,this.defaultType=l,this.value=null,this.settings=t,this.state={externalBuffer:null,bufferAccessor:t,allocatedValue:null,constant:!1},this._buffer=null,this.setData(t)}get buffer(){if(!this._buffer){const{isIndexed:e,type:t}=this.settings;this._buffer=new s.Buffer(this.gl,{id:this.id,target:e?34963:34962,accessor:{type:t}})}return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*h(e):0}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),c.default.release(this.state.allocatedValue)}getShaderAttributes(e,t){if(this.doublePrecision){const r={},n=this.value instanceof Float64Array,s=function(e,t){const r=f(e,t);return{high:r,low:{...r,offset:r.offset+4*e.size}}}(this.getAccessor(),t||{});return r[e]=new i.default(this,s.high),r["".concat(e,"64Low")]=n?new i.default(this,s.low):new Float32Array(this.size),r}if(t){const r=f(this.getAccessor(),t);return{[e]:new i.default(this,r)}}return{[e]:this}}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}getAccessor(){return this.state.bufferAccessor}setData(e){const{state:t}=this;ArrayBuffer.isView(e)?e={value:e}:e instanceof s.Buffer&&(e={buffer:e});const r={...this.settings,...e};if(t.bufferAccessor=r,e.constant){let r=e.value;r=this._normalizeValue(r,[],0),this.settings.normalized&&(r=this._normalizeConstant(r));if(!(!t.constant||!this._areValuesEqual(r,this.value)))return!1;t.externalBuffer=null,t.constant=!0,this.value=r}else if(e.buffer){const n=e.buffer;t.externalBuffer=n,t.constant=!1,this.value=e.value;const s=e.value instanceof Float64Array;r.type=e.type||n.accessor.type,r.bytesPerElement=n.accessor.BYTES_PER_ELEMENT*(s?2:1),r.stride=h(r)}else if(e.value){this._checkExternalBuffer(e);let n=e.value;t.externalBuffer=null,t.constant=!1,this.value=n,r.bytesPerElement=n.BYTES_PER_ELEMENT,r.stride=h(r);const{buffer:s,byteOffset:o}=this;this.doublePrecision&&n instanceof Float64Array&&(n=u.toDoublePrecisionArray(n,r));const i=n.byteLength+o+2*r.stride;s.byteLength<i&&s.reallocate(i),s.setAccessor(null),s.subData({data:n,offset:o}),r.type=e.type||s.accessor.type}return!0}updateSubBuffer(e={}){const{value:t}=this,{startOffset:r=0,endOffset:n}=e;this.buffer.subData({data:this.doublePrecision&&t instanceof Float64Array?u.toDoublePrecisionArray(t,{size:this.size,startIndex:r,endIndex:n}):t.subarray(r,n),offset:r*t.BYTES_PER_ELEMENT+this.byteOffset})}allocate({numInstances:e,copy:t=!1}){const{state:r}=this,n=r.allocatedValue,s=c.default.allocate(n,e+1,{size:this.size,type:this.defaultType,copy:t});this.value=s;const{buffer:o,byteOffset:i}=this;return o.byteLength<s.byteLength+i&&(o.reallocate(s.byteLength+i),t&&n&&o.subData({data:n instanceof Float64Array?u.toDoublePrecisionArray(n,this):n,offset:i})),r.allocatedValue=s,r.constant=!1,r.externalBuffer=null,r.bufferAccessor=this.settings,!0}_checkExternalBuffer(e){const{value:t}=e;if(!e.constant&&t){const r=this.defaultType;let n=!1;if(this.doublePrecision&&(n=t.BYTES_PER_ELEMENT<4),n)throw new Error("Attribute ".concat(this.id," does not support ").concat(t.constructor.name));t instanceof r||!this.settings.normalized||"normalized"in e||d.default.warn("Attribute ".concat(this.id," is normalized"))()}}_normalizeConstant(e){switch(this.settings.type){case 5120:return new Float32Array(e).map((e=>(e+128)/255*2-1));case 5122:return new Float32Array(e).map((e=>(e+32768)/65535*2-1));case 5121:return new Float32Array(e).map((e=>e/255));case 5123:return new Float32Array(e).map((e=>e/65535));default:return e}}_normalizeValue(e,t,r){const{defaultValue:n,size:s}=this.settings;if(Number.isFinite(e))return t[r]=e,t;if(!e)return t[r]=n[0],t;switch(s){case 4:t[r+3]=Number.isFinite(e[3])?e[3]:n[3];case 3:t[r+2]=Number.isFinite(e[2])?e[2]:n[2];case 2:t[r+1]=Number.isFinite(e[1])?e[1]:n[1];case 1:t[r+0]=Number.isFinite(e[0])?e[0]:n[0];break;default:let o=s;for(;--o>=0;)t[r+o]=Number.isFinite(e[o])?e[o]:n[o]}return t}_areValuesEqual(e,t){if(!e||!t)return!1;const{size:r}=this;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}}},{"@luma.gl/core":"e4zBo","./shader-attribute":"l7ovt","./gl-utils":"arWbP","../../utils/typed-array-manager":"gI2W7","../../utils/math-utils":"3gUfz","../../utils/log":"aMqim","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],l7ovt:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);r.default=class{constructor(e,t){this.opts=t,this.source=e}get value(){return this.source.value}getValue(){const e=this.source.getBuffer(),t=this.getAccessor();if(e)return[e,t];const{value:r}=this.source,{size:n}=t;let s=r;if(r&&r.length!==n){s=new Float32Array(n);const e=t.elementOffset||0;for(let t=0;t<n;++t)s[t]=r[e+t]}return s}getAccessor(){return{...this.source.getAccessor(),...this.opts}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],arWbP:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){switch(e){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}n.defineInteropFlag(r),n.export(r,"glArrayFromType",(()=>s))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],egtEn:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"createIterable",(()=>i)),n.export(r,"isAsyncIterable",(()=>a)),n.export(r,"getAccessorFromBuffer",(()=>l));const s=[],o=[];function i(e,t=0,r=1/0){let n=s;const i={index:-1,data:e,target:[]};return e?"function"==typeof e[Symbol.iterator]?n=e:e.length>0&&(o.length=e.length,n=o):n=s,(t>0||Number.isFinite(r))&&(n=(Array.isArray(n)?n:Array.from(n)).slice(t,r),i.index=t-1),{iterable:n,objectInfo:i}}function a(e){return e&&e[Symbol.asyncIterator]}function l(e,{size:t,stride:r,offset:n,startIndices:s,nested:o}){const i=e.BYTES_PER_ELEMENT,a=r?r/i:t,l=n?n/i:0,c=Math.floor((e.length-l)/a);return(r,{index:n,target:i})=>{if(!s){const r=n*a+l;for(let n=0;n<t;n++)i[n]=e[r+n];return i}const u=s[n],p=s[n+1]||c;let d;if(o){d=new Array(p-u);for(let r=u;r<p;r++){const n=r*a+l;i=new Array(t);for(let r=0;r<t;r++)i[r]=e[n+r];d[r-u]=i}}else if(a===t)d=e.subarray(u*t+l,p*t+l);else{d=new e.constructor((p-u)*t);let r=0;for(let n=u;n<p;n++){const s=n*a+l;for(let n=0;n<t;n++)d[r++]=e[s+n]}}return d}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"81trz":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"EMPTY",(()=>s)),n.export(r,"FULL",(()=>o)),n.export(r,"add",(()=>i));const s=[],o=[[0,1/0]];function i(e,t){if(e===o)return e;if(t[0]<0&&(t[0]=0),t[0]>=t[1])return e;const r=[],n=e.length;let s=0;for(let o=0;o<n;o++){const n=e[o];n[1]<t[0]?(r.push(n),s=o+1):n[0]>t[1]?r.push(n):t=[Math.min(n[0],t[0]),Math.max(n[1],t[1])]}return r.splice(s,0,t),r}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lXiEU:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"normalizeTransitionSettings",(()=>i)),n.export(r,"getSourceBufferAttribute",(()=>a)),n.export(r,"getAttributeTypeFromSize",(()=>l)),n.export(r,"cycleBuffers",(()=>c)),n.export(r,"getAttributeBufferLength",(()=>u)),n.export(r,"padBuffer",(()=>p));var s=e("../../utils/array-utils");const o={interpolation:{duration:0,easing:e=>e},spring:{stiffness:.05,damping:.5}};function i(e,t){return e?(Number.isFinite(e)&&(e={duration:e}),e.type=e.type||"interpolation",{...o[e.type],...t,...e}):null}function a(e,t){return t.getBuffer()?[t.getBuffer(),{divisor:0,size:t.size,normalized:t.settings.normalized}]:t.value}function l(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(e,'"'))}}function c(e){e.push(e.shift())}function u(e,t){const{doublePrecision:r,settings:n,value:s,size:o}=e,i=r&&s instanceof Float64Array?2:1;return(n.noAlloc?s.length:t*o)*i}function p({buffer:e,numInstances:t,attribute:r,fromLength:n,fromStartIndices:o,getData:i=(e=>e)}){const a=r.doublePrecision&&r.value instanceof Float64Array?2:1,l=r.size*a,c=r.byteOffset,p=r.startIndices,d=o&&p,h=u(r,t),f=r.state.constant;if(!d&&n>=h)return;const m=f?r.value:r.getBuffer().getData({srcByteOffset:c});if(r.settings.normalized&&!f){const e=i;i=(t,n)=>r._normalizeConstant(e(t,n))}const g=f?(e,t)=>i(m,t):(e,t)=>i(m.subarray(e,e+l),t),y=e.getData({length:n}),b=new Float32Array(h);s.padArray({source:y,target:b,sourceStartIndices:o,targetStartIndices:p,size:l,getData:g}),e.byteLength<b.byteLength+c&&e.reallocate(b.byteLength+c),e.subData({data:b,offset:c})}},{"../../utils/array-utils":"LIMAj","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],LIMAj:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s({source:e,target:t,start:r=0,end:n,size:s,getData:o}){n=n||t.length;const i=e.length,a=n-r;if(i>a)return void t.set(e.subarray(0,a),r);if(t.set(e,r),!o)return;let l=i;for(;l<a;){const n=o(l,e);for(let e=0;e<s;e++)t[r+l]=n[e]||0,l++}}function o({source:e,target:t,size:r,getData:n,sourceStartIndices:o,targetStartIndices:i}){if(!Array.isArray(i))return s({source:e,target:t,size:r,getData:n}),t;let a=0,l=0;const c=n&&((e,t)=>n(e+l,t)),u=Math.min(o.length,i.length);for(let n=1;n<u;n++){const u=o[n]*r,p=i[n]*r;s({source:e.subarray(a,u),target:t,start:l,end:p,size:r,getData:c}),a=u,l=p}return l<t.length&&s({source:[],target:t,start:l,size:r,getData:c}),t}n.defineInteropFlag(r),n.export(r,"padArray",(()=>o))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],wDPP1:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@luma.gl/core"),o=e("../../transitions/gpu-interpolation-transition"),i=n.interopDefault(o),a=e("../../transitions/gpu-spring-transition"),l=n.interopDefault(a),c=e("../../utils/log"),u=n.interopDefault(c);const p={interpolation:i.default,spring:l.default};r.default=class{constructor(e,{id:t,timeline:r}){this.id=t,this.gl=e,this.timeline=r,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=s.Transform.isSupported(e)}finalize(){for(const e in this.transitions)this._removeTransition(e)}update({attributes:e,transitions:t,numInstances:r}){this.numInstances=r||1;for(const r in e){const n=e[r],s=n.getTransitionSetting(t);s&&this._updateAttribute(r,n,s)}for(const r in this.transitions){const n=e[r];n&&n.getTransitionSetting(t)||this._removeTransition(r)}}hasAttribute(e){const t=this.transitions[e];return t&&t.inProgress}getAttributes(){const e={};for(const t in this.transitions){const r=this.transitions[t];r.inProgress&&(e[t]=r.attributeInTransition)}return e}run(){if(!this.isSupported||0===this.numInstances)return!1;for(const e in this.transitions){this.transitions[e].update()&&(this.needsRedraw=!0)}const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].cancel(),delete this.transitions[e]}_updateAttribute(e,t,r){const n=this.transitions[e];let s=!n||n.type!==r.type;if(s){if(!this.isSupported)return void u.default.warn("WebGL2 not supported by this browser. Transition for ".concat(e," is disabled."))();n&&this._removeTransition(e);const o=p[r.type];o?this.transitions[e]=new o({attribute:t,timeline:this.timeline,gl:this.gl}):(u.default.error("unsupported transition type '".concat(r.type,"'"))(),s=!1)}(s||t.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(r,this.numInstances))}}},{"@luma.gl/core":"e4zBo","../../transitions/gpu-interpolation-transition":"fRLI2","../../transitions/gpu-spring-transition":"i6SEu","../../utils/log":"aMqim","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],fRLI2:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@luma.gl/core"),o=e("../lib/attribute/attribute"),i=n.interopDefault(o),a=e("../lib/attribute/attribute-transition-utils"),l=e("./transition"),c=n.interopDefault(l);r.default=class{constructor({gl:e,attribute:t,timeline:r}){this.gl=e,this.type="interpolation",this.transition=new c.default(r),this.attribute=t,this.attributeInTransition=new i.default(e,t.settings),this.currentStartIndices=t.startIndices,this.currentLength=0,this.transform=function(e,t){const r=a.getAttributeTypeFromSize(t.size);return new s.Transform(e,{vs:u,defines:{ATTRIBUTE_TYPE:r},varyings:["vCurrent"]})}(e,t);const n={byteLength:0,usage:35050};this.buffers=[new s.Buffer(e,n),new s.Buffer(e,n)]}get inProgress(){return this.transition.inProgress}start(e,t){if(e.duration<=0)return void this.transition.cancel();const{gl:r,buffers:n,attribute:s}=this;a.cycleBuffers(n);const o={numInstances:t,attribute:s,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const e of n)a.padBuffer({buffer:e,...o});this.currentStartIndices=s.startIndices,this.currentLength=a.getAttributeBufferLength(s,t),this.attributeInTransition.update({buffer:n[1],value:s.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/s.size),sourceBuffers:{aFrom:n[0],aTo:a.getSourceBufferAttribute(r,s)},feedbackBuffers:{vCurrent:n[1]}})}update(){const e=this.transition.update();if(e){const{time:e,settings:{duration:t,easing:r}}=this.transition,n=r(e/t);this.transform.run({uniforms:{time:n}})}return e}cancel(){for(this.transition.cancel(),this.transform.delete();this.buffers.length;)this.buffers.pop().delete()}};const u="\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n"},{"@luma.gl/core":"e4zBo","../lib/attribute/attribute":"idH8G","../lib/attribute/attribute-transition-utils":"lXiEU","./transition":"j6G1m","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],i6SEu:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@luma.gl/core"),o=e("../lib/attribute/attribute-transition-utils"),i=e("../lib/attribute/attribute"),a=n.interopDefault(i),l=e("./transition"),c=n.interopDefault(l);r.default=class{constructor({gl:e,attribute:t,timeline:r}){this.gl=e,this.type="spring",this.transition=new c.default(r),this.attribute=t,this.attributeInTransition=new a.default(e,{...t.settings,normalized:!1}),this.currentStartIndices=t.startIndices,this.currentLength=0,this.texture=function(e){return new s.Texture2D(e,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}(e),this.framebuffer=function(e,t){return new s.Framebuffer(e,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:{36064:t}})}(e,this.texture),this.transform=function(e,t,r){const n=o.getAttributeTypeFromSize(t.size);return new s.Transform(e,{framebuffer:r,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:n},varyings:["vNext"]})}(e,t,this.framebuffer);const n={byteLength:0,usage:35050};this.buffers=[new s.Buffer(e,n),new s.Buffer(e,n),new s.Buffer(e,n)]}get inProgress(){return this.transition.inProgress}start(e,t){const{gl:r,buffers:n,attribute:s}=this,i={numInstances:t,attribute:s,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const e of n)o.padBuffer({buffer:e,...i});this.currentStartIndices=s.startIndices,this.currentLength=o.getAttributeBufferLength(s,t),this.attributeInTransition.update({buffer:n[1],value:s.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/s.size),sourceBuffers:{aTo:o.getSourceBufferAttribute(r,s)}})}update(){const{buffers:e,transform:t,framebuffer:r,transition:n}=this;if(!n.update())return!1;t.update({sourceBuffers:{aPrev:e[0],aCur:e[1]},feedbackBuffers:{vNext:e[2]}}),t.run({framebuffer:r,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:n.settings.stiffness,damping:n.settings.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),o.cycleBuffers(e),this.attributeInTransition.update({buffer:e[1],value:this.attribute.value});return s.readPixelsToArray(r)[0]>0||n.end(),!0}cancel(){for(this.transition.cancel(),this.transform.delete();this.buffers.length;)this.buffers.pop().delete();this.texture.delete(),this.texture=null,this.framebuffer.delete(),this.framebuffer=null}}},{"@luma.gl/core":"e4zBo","../lib/attribute/attribute-transition-utils":"lXiEU","../lib/attribute/attribute":"idH8G","./transition":"j6G1m","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jNkPk:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./attribute/attribute-transition-utils"),o=e("../transitions/cpu-interpolation-transition"),i=n.interopDefault(o),a=e("../transitions/cpu-spring-transition"),l=n.interopDefault(a),c=e("../utils/log"),u=n.interopDefault(c);const p={interpolation:i.default,spring:l.default};r.default=class{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,t,r,n){const{transitions:o}=this;if(o.has(e)){const r=o.get(e),{value:n=r.settings.fromValue}=r;t=n,this.remove(e)}if(!(n=s.normalizeTransitionSettings(n)))return;const i=p[n.type];if(!i)return void u.default.error("unsupported transition type '".concat(n.type,"'"))();const a=new i(this.timeline);a.start({...n,fromValue:t,toValue:r}),o.set(e,a)}remove(e){const{transitions:t}=this;t.has(e)&&(t.get(e).cancel(),t.delete(e))}update(){const e={};for(const[t,r]of this.transitions)r.update(),e[t]=r.value,r.inProgress||this.remove(t);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}},{"./attribute/attribute-transition-utils":"lXiEU","../transitions/cpu-interpolation-transition":"8nat3","../transitions/cpu-spring-transition":"25AN5","../utils/log":"aMqim","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"8nat3":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("math.gl"),o=e("./transition"),i=n.interopDefault(o);class a extends i.default{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:t,toValue:r,duration:n,easing:o}}=this,i=o(e/n);this._value=s.lerp(t,r,i)}}r.default=a},{"math.gl":"dhC89","./transition":"j6G1m","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"25AN5":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./transition"),o=n.interopDefault(s);const i=1e-5;function a(e,t,r,n,s){const o=t-e;return(r-t)*s+-o*n+o+t}function l(e,t){if(Array.isArray(e)){let r=0;for(let n=0;n<e.length;n++){const s=e[n]-t[n];r+=s*s}return Math.sqrt(r)}return Math.abs(e-t)}class c extends o.default{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:t,damping:r,stiffness:n}=this.settings,{_prevValue:s=e,_currValue:o=e}=this;let c=function(e,t,r,n,s){if(Array.isArray(r)){const o=[];for(let i=0;i<r.length;i++)o[i]=a(e[i],t[i],r[i],n,s);return o}return a(e,t,r,n,s)}(s,o,t,r,n);const u=l(c,t),p=l(c,o);u<i&&p<i&&(c=t,this.end()),this._prevValue=o,this._currValue=c}}r.default=c},{"./transition":"j6G1m","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ja24T:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"validateProps",(()=>i)),n.export(r,"diffProps",(()=>a)),n.export(r,"compareProps",(()=>c));var s=e("./constants");const{COMPONENT:o}=s.PROP_SYMBOLS;function i(e){const t=h(e);for(const r in t){const n=t[r],{validate:s}=n;if(s&&!s(e[r],n))throw new Error("Invalid prop ".concat(r,": ").concat(e[r]))}}function a(e,t){const r=c({newProps:e,oldProps:t,propTypes:h(e),ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),n=function(e,t){if(null===t)return"oldProps is null, initial diff";let r=null;const{dataComparator:n,_dataDiff:s}=e;n?n(e.data,t.data)||(r="Data comparator detected a change"):e.data!==t.data&&(r="A new data container was supplied");r&&s&&(r=s(e.data,t.data)||r);return r}(e,t);let s=!1;return n||(s=function(e,t){if(null===t)return"oldProps is null, initial diff";if("all"in e.updateTriggers){if(d(e,t,"all"))return{all:!0}}const r={};let n=!1;for(const s in e.updateTriggers)if("all"!==s){d(e,t,s)&&(r[s]=!0,n=r)}return n}(e,t)),{dataChanged:n,propsChanged:r,updateTriggersChanged:s,extensionsChanged:p(e,t),transitionsChanged:l(e,t)}}function l(e,t){if(!e.transitions)return null;const r={},n=h(e);for(const s in e.transitions){const o=n[s],i=o&&o.type;("number"===i||"color"===i||"array"===i)&&u(e[s],t[s],o)&&(r[s]=!0)}return r}function c({newProps:e,oldProps:t,ignoreProps:r={},propTypes:n={},triggerName:s="props"}={}){if(t===e)return null;if("object"!=typeof e||null===e)return"".concat(s," changed shallowly");if("object"!=typeof t||null===t)return"".concat(s," changed shallowly");for(const o of Object.keys(e))if(!(o in r)){if(!(o in t))return"".concat(s,".").concat(o," added");const r=u(e[o],t[o],n[o]);if(r)return"".concat(s,".").concat(o," ").concat(r)}for(const o of Object.keys(t))if(!(o in r)){if(!(o in e))return"".concat(s,".").concat(o," dropped");if(!Object.hasOwnProperty.call(e,o)){const r=u(e[o],t[o],n[o]);if(r)return"".concat(s,".").concat(o," ").concat(r)}}return null}function u(e,t,r){let n=r&&r.equal;return n&&!n(e,t,r)?"changed deeply":n||(n=e&&t&&e.equals,!n||n.call(e,t))?n||t===e?null:"changed shallowly":"changed deeply"}function p(e,t){if(null===t)return"oldProps is null, initial diff";const r=t.extensions,{extensions:n}=e;if(n===r)return!1;if(n.length!==r.length)return!0;for(let e=0;e<n.length;e++)if(!n[e].equals(r[e]))return!0;return!1}function d(e,t,r){let n=e.updateTriggers[r];n=null==n?{}:n;let s=t.updateTriggers[r];s=null==s?{}:s;return c({oldProps:s,newProps:n,triggerName:r})}function h(e){const t=e[o],r=t&&t.constructor;return r?r._propTypes:{}}},{"./constants":"66pQ8","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],kd37r:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"count",(()=>s));function s(e){if(null===(t=e)||"object"!=typeof t)throw new Error("count(): argument not an object");var t;if("function"==typeof e.count)return e.count();if(Number.isFinite(e.size))return e.size;if(Number.isFinite(e.length))return e.length;if(function(e){return null!==e&&"object"==typeof e&&e.constructor===Object}(e))return Object.keys(e).length;throw new Error("count(): argument not a container")}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"511XU":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t){if(!t)return e;const r={...e,...t};if("defines"in t&&(r.defines={...e.defines,...t.defines}),"modules"in t&&(r.modules=(e.modules||[]).concat(t.modules),t.modules.some((e=>"project64"===e.name)))){const e=r.modules.findIndex((e=>"project32"===e.name));e>=0&&r.modules.splice(e,1)}if("inject"in t)if(e.inject){const n={...e.inject};for(const e in t.inject)n[e]=(n[e]||"")+t.inject[e];r.inject=n}else r.inject=t.inject;return r}n.defineInteropFlag(r),n.export(r,"mergeShaders",(()=>s))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"2YEp9":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../lifecycle/constants"),o=e("./create-props"),i=e("./constants"),a=e("./component-state"),l=n.interopDefault(a);const{ASYNC_ORIGINAL:c,ASYNC_RESOLVED:u,ASYNC_DEFAULTS:p}=i.PROP_SYMBOLS;let d=0;class h{constructor(){this.props=o.createProps.apply(this,arguments),this.id=this.props.id,this.count=d++,this.lifecycle=s.LIFECYCLE.NO_STATE,this.parent=null,this.context=null,this.state=null,this.internalState=null,Object.seal(this)}get root(){let e=this;for(;e.parent;)e=e.parent;return e}clone(e){const{props:t}=this,r={};for(const e in t[p])e in t[u]?r[e]=t[u][e]:e in t[c]&&(r[e]=t[c][e]);return new this.constructor({...t,...r,...e})}get stats(){return this.internalState.stats}_initState(){this.internalState=new l.default({})}}r.default=h,h.componentName="Component",h.defaultProps={}},{"../lifecycle/constants":"66pQ8","./create-props":"flEjl","./constants":"66pQ8","./component-state":"3xddT","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],flEjl:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"createProps",(()=>h));var s=e("../utils/log"),o=n.interopDefault(s),i=e("../utils/iterable-utils"),a=e("./prop-types"),l=e("./constants");const{COMPONENT:c,ASYNC_ORIGINAL:u,ASYNC_RESOLVED:p,ASYNC_DEFAULTS:d}=l.PROP_SYMBOLS;function h(){const e=this,t=f(e.constructor),r=Object.create(t);r[c]=e,r[u]={},r[p]={};for(let e=0;e<arguments.length;++e){const t=arguments[e];for(const e in t)r[e]=t[e]}return Object.freeze(r),r}function f(e){const t=y(e,"_mergedDefaultProps");return t||(function(e){if(!e.prototype)return;const t=Object.getPrototypeOf(e),r=f(t),n=y(e,"defaultProps")||{},s=a.parsePropTypes(n),i=function(e,t,r){const n=Object.create(null);Object.assign(n,t,e);const s=function(e){const t=y(e,"layerName")||y(e,"componentName");t||o.default.once(0,"".concat(e.name,".componentName not specified"))();return t||e.name}(r);return delete e.id,Object.defineProperties(n,{id:{writable:!0,value:s}}),n}(s.defaultProps,r,e),l={...t._propTypes,...s.propTypes};!function(e,t){const r={},n={};for(const e in t){const s=t[e],{name:o,value:i}=s;s.async&&(r[o]=i,n[o]=m(o))}e[d]=r,e[u]={},Object.defineProperties(e,n)}(i,l);const c={...t._deprecatedProps,...s.deprecatedProps};(function(e,t){for(const r in t)Object.defineProperty(e,r,{enumerable:!1,set(e){const n="".concat(this.id,": ").concat(r);for(const n of t[r])g(this,n)||(this[n]=e);o.default.deprecated(n,t[r].join("/"))()}})})(i,c),e._mergedDefaultProps=i,e._propTypes=l,e._deprecatedProps=c}(e),e._mergedDefaultProps)}function m(e){return{enumerable:!0,set(t){"string"==typeof t||t instanceof Promise||i.isAsyncIterable(t)?this[u][e]=t:this[p][e]=t},get(){if(this[p]){if(e in this[p]){return this[p][e]||this[d][e]}if(e in this[u]){const t=this[c]&&this[c].internalState;if(t&&t.hasAsyncProp(e))return t.getAsyncProp(e)||this[d][e]}}return this[d][e]}}}function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function y(e,t){return g(e,t)&&e[t]}},{"../utils/log":"aMqim","../utils/iterable-utils":"egtEn","./prop-types":"3dTP8","./constants":"66pQ8","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3dTP8":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"parsePropTypes",(()=>a));var s=e("../utils/texture");const o={boolean:{validate:(e,t)=>!0,equal:(e,t,r)=>Boolean(e)===Boolean(t)},number:{validate:(e,t)=>Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)},color:{validate:(e,t)=>t.optional&&!e||u(e)&&(3===e.length||4===e.length),equal:(e,t,r)=>i(e,t)},accessor:{validate(e,t){const r=p(e);return"function"===r||r===p(t.value)},equal:(e,t,r)=>"function"==typeof t||i(e,t)},array:{validate:(e,t)=>t.optional&&!e||u(e),equal:(e,t,r)=>r.compare?i(e,t):e===t},function:{validate:(e,t)=>t.optional&&!e||"function"==typeof e,equal:(e,t,r)=>!r.compare||e===t},data:{transform:(e,t,r)=>{const{dataTransform:n}=r?r.props:{};return n&&e?n(e):e}},image:{transform:(e,t,r)=>s.createTexture(r,e),release:e=>{s.destroyTexture(e)}}};function i(e,t){if(e===t)return!0;if(!u(e)||!u(t))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function a(e){const t={},r={},n={};for(const[s,o]of Object.entries(e))if(o&&o.deprecatedFor)n[s]=Array.isArray(o.deprecatedFor)?o.deprecatedFor:[o.deprecatedFor];else{const e=l(s,o);t[s]=e,r[s]=e.value}return{propTypes:t,defaultProps:r,deprecatedProps:n}}function l(e,t){switch(p(t)){case"object":return c(e,t);case"array":return c(e,{type:"array",value:t,compare:!1});case"boolean":return c(e,{type:"boolean",value:t});case"number":return c(e,{type:"number",value:t});case"function":return c(e,{type:"function",value:t,compare:!0});default:return{name:e,type:"unknown",value:t}}}function c(e,t){return"type"in t?{name:e,...o[t.type],...t}:"value"in t?{name:e,type:p(t.value),...t}:{name:e,type:"object",value:t}}function u(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function p(e){return u(e)?"array":null===e?"null":typeof e}},{"../utils/texture":"hPKsy","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hPKsy:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"createTexture",(()=>a)),n.export(r,"destroyTexture",(()=>l));var s=e("@luma.gl/core");const o={10241:9987,10240:9729,10242:33071,10243:33071},i={};function a(e,t){const r=e.context&&e.context.gl;if(!r||!t)return null;if(t instanceof s.Texture2D)return t;t.constructor&&"Object"!==t.constructor.name&&(t={data:t});let n=null;t.compressed&&(n={10241:t.data.length>1?9985:9729});const a=new s.Texture2D(r,{...t,parameters:{...o,...n,...e.props.textureParameters}});return i[a.id]=!0,a}function l(e){e&&e instanceof s.Texture2D&&i[e.id]&&(e.delete(),delete i[e.id])}},{"@luma.gl/core":"e4zBo","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"3xddT":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("../utils/iterable-utils"),s=e("./constants");const{ASYNC_ORIGINAL:o,ASYNC_RESOLVED:i,ASYNC_DEFAULTS:a}=s.PROP_SYMBOLS,l=Object.freeze({});r.default=class{constructor(e=null){this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=l,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const t=this.asyncProps[e];t.type&&t.type.release&&t.type.release(t.resolvedValue,t.type,this.component)}}getOldProps(){return this.oldAsyncProps||this.oldProps}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component.props}freezeAsyncOldProps(){if(!this.oldAsyncProps){this.oldProps=this.oldProps||this.component.props,this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const t=this.asyncProps[e];return t&&t.resolvedValue}isAsyncPropLoading(e){if(e){const t=this.asyncProps[e];return Boolean(t&&t.pendingLoadCount>0&&t.pendingLoadCount!==t.resolvedLoadCount)}for(const e in this.asyncProps)if(this.isAsyncPropLoading(e))return!0;return!1}reloadAsyncProp(e,t){this._watchPromise(e,Promise.resolve(t))}setAsyncProps(e){const t=e[i]||{},r=e[o]||e,n=e[a]||{};for(const e in t){const r=t[e];this._createAsyncPropData(e,n[e]),this._updateAsyncProp(e,r),t[e]=this.getAsyncProp(e)}for(const e in r){const t=r[e];this._createAsyncPropData(e,n[e]),this._updateAsyncProp(e,t)}}_updateAsyncProp(e,t){if(this._didAsyncInputValueChange(e,t)){if("string"==typeof t){var r;const n=null===(r=this.layer)||void 0===r?void 0:r.props.fetch,s=t;n&&(t=n(s,{propName:e,layer:this.layer}))}t instanceof Promise?this._watchPromise(e,t):n.isAsyncIterable(t)?this._resolveAsyncIterable(e,t):this._setPropValue(e,t)}}_didAsyncInputValueChange(e,t){const r=this.asyncProps[e];return t!==r.resolvedValue&&t!==r.lastValue&&(r.lastValue=t,!0)}_setPropValue(e,t){this.freezeAsyncOldProps();const r=this.asyncProps[e];t=this._postProcessValue(r,t),r.resolvedValue=t,r.pendingLoadCount++,r.resolvedLoadCount=r.pendingLoadCount}_setAsyncPropValue(e,t,r){const n=this.asyncProps[e];n&&r>=n.resolvedLoadCount&&void 0!==t&&(this.freezeAsyncOldProps(),n.resolvedValue=t,n.resolvedLoadCount=r,this.onAsyncPropUpdated(e,t))}_watchPromise(e,t){const r=this.asyncProps[e];r.pendingLoadCount++;const n=r.pendingLoadCount;t.then((t=>{var s;t=this._postProcessValue(r,t),this._setAsyncPropValue(e,t,n);const o=null===(s=this.layer)||void 0===s?void 0:s.props.onDataLoad;"data"===e&&o&&o(t,{propName:e,layer:this.layer})})).catch((t=>{var r;null===(r=this.layer)||void 0===r||r.raiseError(t,"loading ".concat(e," of ").concat(this.layer))}))}async _resolveAsyncIterable(e,t){var r;"data"!==e&&this._setPropValue(e,t);const n=this.asyncProps[e];n.pendingLoadCount++;const s=n.pendingLoadCount;let o=[],i=0;for await(const r of t){const{dataTransform:t}=this.component?this.component.props:{};o=t?t(r,o):o.concat(r),Object.defineProperty(o,"__diff",{enumerable:!1,value:[{startRow:i,endRow:o.length}]}),i=o.length,this._setAsyncPropValue(e,o,s)}const a=null===(r=this.layer)||void 0===r?void 0:r.props.onDataLoad;a&&a(o,{propName:e,layer:this.layer})}_postProcessValue(e,t){const r=e.type;return r&&(r.release&&r.release(e.resolvedValue,r,this.component),r.transform)?r.transform(t,r,this.component):t}_createAsyncPropData(e,t){if(!this.asyncProps[e]){const r=this.component&&this.component.constructor._propTypes;this.asyncProps[e]={type:r&&r[e],lastValue:null,resolvedValue:t,pendingLoadCount:0,resolvedLoadCount:0}}}}},{"../utils/iterable-utils":"egtEn","./constants":"66pQ8","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],bF0RZ:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../lifecycle/component-state"),o=n.interopDefault(s);class i extends o.default{constructor({attributeManager:e,layer:t}){super(t),this.attributeManager=e,this.model=null,this.needsRedraw=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}set layer(e){this.component=e}}r.default=i},{"../lifecycle/component-state":"3xddT","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ctFEo:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./layer"),o=n.interopDefault(s),i=e("../debug"),a=n.interopDefault(i),l=e("../utils/flatten");class c extends o.default{get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every((e=>e.isLoaded))}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(){}setState(e){super.setState(e),this.setNeedsUpdate()}getPickingInfo({info:e}){const{object:t}=e;return t&&t.__source&&t.__source.parent&&t.__source.parent.id===this.id?(e.object=t.__source.object,e.index=t.__source.index,e):e}renderLayers(){return null}filterSubLayer(e){return!0}shouldRenderSubLayer(e,t){return t&&t.length}getSubLayerClass(e,t){const{_subLayerProps:r}=this.props;return r&&r[e]&&r[e].type||t}getSubLayerRow(e,t,r){return e.__source={parent:this,object:t,index:r},e}getSubLayerAccessor(e){if("function"==typeof e){const t={data:this.props.data,target:[]};return(r,n)=>r&&r.__source?(t.index=r.__source.index,e(r.__source.object,t)):e(r,n)}return e}getSubLayerProps(e={}){const{opacity:t,pickable:r,visible:n,parameters:s,getPolygonOffset:o,highlightedObjectIndex:i,autoHighlight:a,highlightColor:l,coordinateSystem:c,coordinateOrigin:u,wrapLongitude:p,positionFormat:d,modelMatrix:h,extensions:f,fetch:m,_subLayerProps:g}=this.props,y={opacity:t,pickable:r,visible:n,parameters:s,getPolygonOffset:o,highlightedObjectIndex:i,autoHighlight:a,highlightColor:l,coordinateSystem:c,coordinateOrigin:u,wrapLongitude:p,positionFormat:d,modelMatrix:h,extensions:f,fetch:m},b=g&&g[e.id],v=b&&b.updateTriggers,x=e.id||"sublayer";if(b){const t=this.constructor._propTypes,r=e.type?e.type._propTypes:{};for(const e in b){const n=r[e]||t[e];n&&"accessor"===n.type&&(b[e]=this.getSubLayerAccessor(b[e]))}}Object.assign(y,e,b),y.id="".concat(this.props.id,"-").concat(x),y.updateTriggers={all:this.props.updateTriggers.all,...e.updateTriggers,...v};for(const e of f){const t=e.getSubLayerProps.call(this,e);t&&Object.assign(y,t,{updateTriggers:Object.assign(y.updateTriggers,t.updateTriggers)})}return y}_updateAutoHighlight(e){for(const t of this.getSubLayers())t.updateAutoHighlight(e)}_getAttributeManager(){return null}_renderLayers(){let{subLayers:e}=this.internalState;const t=!e||this.needsUpdate();t&&(e=this.renderLayers(),e=l.flatten(e,Boolean),this.internalState.subLayers=e),a.default("compositeLayer.renderLayers",this,t,e);for(const t of e)t.parent=this}}r.default=c,c.layerName="CompositeLayer"},{"./layer":"kc7Vl","../debug":"2nXIZ","../utils/flatten":"3oSTR","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"2qfbT":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("../utils/deep-equal");r.default=class{constructor(e={}){this.opts=e}equals(e){return this===e||this.constructor===e.constructor&&n.deepEqual(this.opts,e.opts)}getShaders(e){return null}getSubLayerProps(e){const{defaultProps:t={}}=e.constructor,r={updateTriggers:{}};for(const e in t)if(e in this.props){const n=t[e],s=this.props[e];r[e]=s,n&&"accessor"===n.type&&(r.updateTriggers[e]=this.props.updateTriggers[e],"function"==typeof s&&(r[e]=this.getSubLayerAccessor(s,!0)))}return r}initializeState(e,t){}updateState(e,t){}draw(e,t){}finalizeState(e){}}},{"../utils/deep-equal":"iKLcQ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"213Q8":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("./point-light"),s=e("../../shaderlib/project/viewport-uniforms");class o extends n.PointLight{getProjectedLight({layer:e}){const{projectedLight:t}=this,r=e.context.viewport,{coordinateSystem:n,coordinateOrigin:o,modelMatrix:i}=e.props,{project_uCameraPosition:a}=s.getUniformsFromViewport({viewport:r,modelMatrix:i,coordinateSystem:n,coordinateOrigin:o});return t.color=this.color,t.intensity=this.intensity,t.position=a,t}}r.default=o},{"./point-light":"cGIEb","../../shaderlib/project/viewport-uniforms":"rRw4N","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],iZPzV:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("./directional-light"),s=e("./suncalc");class o extends n.DirectionalLight{constructor({timestamp:e,...t}){super(t),this.timestamp=e}getProjectedLight({layer:e}){const{viewport:t}=e.context;if(t.resolution>0){const[e,t,r]=s.getSunlightDirection(this.timestamp,0,0);this.direction=[e,-r,t]}else{const{latitude:e,longitude:r}=t;this.direction=s.getSunlightDirection(this.timestamp,e,r)}return this}}r.default=o},{"./directional-light":"ettPi","./suncalc":"6fPCZ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"6fPCZ":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getSolarPosition",(()=>h)),n.export(r,"getSunlightDirection",(()=>f));const s=Math.PI/180,o=864e5,i=2440588,a=2451545,l=23.4397*s,c=357.5291,u=.98560028,p=280.147,d=360.9856235;function h(e,t,r){const n=s*-r,l=s*t,h=function(e){return function(e){return e/o-.5+i}(e)-a}(e),f=function(e){const t=function(e){const t=e,r=s*(1.9148*Math.sin(t)+.02*Math.sin(2*t)+3e-4*Math.sin(3*t));return t+r+102.9372*s+Math.PI}((r=e,s*(c+u*r)));var r;return{declination:g(t,0),rightAscension:m(t,0)}}(h),v=function(e,t){return s*(p+d*e)-t}(h,n)-f.rightAscension;return{azimuth:y(v,l,f.declination),altitude:b(v,l,f.declination)}}function f(e,t,r){const{azimuth:n,altitude:s}=h(e,t,r);return[Math.sin(n)*Math.cos(s),Math.cos(n)*Math.cos(s),-Math.sin(s)]}function m(e,t){const r=e;return Math.atan2(Math.sin(r)*Math.cos(l)-Math.tan(t)*Math.sin(l),Math.cos(r))}function g(e,t){const r=e;return Math.asin(Math.sin(t)*Math.cos(l)+Math.cos(t)*Math.sin(l)*Math.sin(r))}function y(e,t,r){const n=e,s=t,o=r;return Math.atan2(Math.sin(n),Math.cos(n)*Math.sin(s)-Math.tan(o)*Math.cos(s))}function b(e,t,r){const n=e,s=t,o=r;return Math.asin(Math.sin(s)*Math.sin(o)+Math.cos(s)*Math.cos(o)*Math.cos(n))}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lNFDD:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("../lib/effect"),o=n.interopDefault(s),i=e("../passes/screen-pass"),a=n.interopDefault(i),l=e("@luma.gl/core");class c extends o.default{constructor(e,t={}){super(t),this.id="".concat(e.name,"-pass"),l.normalizeShaderModule(e),this.module=e}postRender(e,t){this.passes||(this.passes=function(e,t,r,n){if(t.filter||t.sampler){const s=u(t);return[new a.default(e,{id:r,module:t,fs:s,moduleSettings:n})]}return(t.passes||[]).map(((s,o)=>{const i=u(t,s),l="".concat(r,"-").concat(o);return new a.default(e,{id:l,module:t,fs:i,moduleSettings:n})}))}(e,this.module,this.id,this.props));const{target:r}=t;let n=t.inputBuffer,s=t.swapBuffer;for(let e=0;e<this.passes.length;e++){r&&e===this.passes.length-1&&(s=r),this.passes[e].render({inputBuffer:n,outputBuffer:s});const t=s;s=n,n=t}return n}cleanup(){if(this.passes){for(const e of this.passes)e.delete();this.passes=null}}}r.default=c;function u(e,t=e){if(t.filter){return(e=>"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = texture2D(texture, texCoord);\n  gl_FragColor = ".concat(e,"(gl_FragColor, texSize, texCoord);\n}\n"))("string"==typeof t.filter?t.filter:"".concat(e.name,"_filterColor"))}if(t.sampler){return(e=>"uniform sampler2D texture;\nuniform vec2 texSize;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main() {\n  vec2 texCoord = coordinate;\n\n  gl_FragColor = ".concat(e,"(texture, texSize, texCoord);\n}\n"))("string"==typeof t.sampler?t.sampler:"".concat(e.name,"_sampleColor"))}return null}},{"../lib/effect":"5oG8a","../passes/screen-pass":"6Yu5X","@luma.gl/core":"e4zBo","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"6Yu5X":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@luma.gl/core"),o=e("./pass"),i=n.interopDefault(o);class a extends i.default{constructor(e,t={}){super(e,t);const{module:r,fs:n,id:o}=t;this.model=new s.ClipSpace(e,{id:o,fs:n,modules:[r]})}render(e){const t=this.gl;s.setParameters(t,{viewport:[0,0,t.drawingBufferWidth,t.drawingBufferHeight]}),s.withParameters(t,{framebuffer:e.outputBuffer,clearColor:[0,0,0,0]},(()=>this._renderPass(t,e)))}delete(){this.model.delete(),this.model=null}_renderPass(e,{inputBuffer:t,outputBuffer:r}){s.clear(e,{color:!0}),this.model.draw({moduleSettings:this.props.moduleSettings,uniforms:{texture:t,texSize:[t.width,t.height]},parameters:{depthWrite:!1,depthTest:!1}})}}r.default=a},{"@luma.gl/core":"e4zBo","./pass":"fqrye","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hesAn:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("math.gl"),o=e("./viewport"),i=n.interopDefault(o),a=e("../lib/constants"),l=e("gl-matrix/vec3"),c=e("gl-matrix/vec4");const u=Math.PI/180,p=180/Math.PI,d=6370972,h=256;class f extends i.default{constructor(e={}){const{latitude:t=0,longitude:r=0,zoom:n=11,nearZMultiplier:o=.1,farZMultiplier:i=2,resolution:a=10}=e;let{width:l,height:c,altitude:p=1.5}=e;l=l||1,c=c||1,p=Math.max(.75,p);const d=(new s.Matrix4).lookAt({eye:[0,-p,0],up:[0,0,1]}),f=Math.pow(2,n);d.rotateX(t*u),d.rotateZ(-r*u),d.scale(f/c);const m=Math.atan(.5/p),g=512*f/c;super({...e,width:l,height:c,viewMatrix:d,longitude:r,latitude:t,zoom:n,fovyRadians:2*m,aspect:l/c,focalDistance:p,near:o,far:Math.min(2,1/g+1)*p*i}),this.resolution=a,this.distanceScales=function(){const e=4018225162502676e-20,t=Math.PI/180*h;return{unitsPerMeter:[e,e,e],unitsPerMeter2:[0,0,0],metersPerUnit:[24886.609375,24886.609375,24886.609375],unitsPerDegree:[t,t,e],unitsPerDegree2:[0,0,0],degreesPerUnit:[1/t,1/t,24886.609375]}}()}get projectionMode(){return a.PROJECTION_MODE.GLOBE}getDistanceScales(){return this.distanceScales}getBounds(e={}){const t={targetZ:e.z||0},r=this.unproject([0,this.height/2],t),n=this.unproject([this.width/2,0],t),s=this.unproject([this.width,this.height/2],t),o=this.unproject([this.width/2,this.height],t);return s[0]<this.longitude&&(s[0]+=360),r[0]>this.longitude&&(r[0]-=360),[Math.min(r[0],s[0],n[0],o[0]),Math.min(r[1],s[1],n[1],o[1]),Math.max(r[0],s[0],n[0],o[0]),Math.max(r[1],s[1],n[1],o[1])]}unproject(e,{topLeft:t=!0,targetZ:r}={}){const[n,s,o]=e,i=t?s:this.height-s,{pixelUnprojectionMatrix:a}=this;let c;if(Number.isFinite(o))c=m(a,[n,i,o,1]);else{const e=m(a,[n,i,-1,1]),t=m(a,[n,i,1,1]),s=((r||0)/d+1)*h,o=l.sqrLen(l.sub([],e,t)),u=l.sqrLen(e),p=l.sqrLen(t),f=4*((4*u*p-(o-u-p)**2)/16)/o,g=(Math.sqrt(u-f)-Math.sqrt(Math.max(0,s*s-f)))/Math.sqrt(o);c=l.lerp([],e,t,g)}const[u,p,f]=this.unprojectPosition(c);return Number.isFinite(o)?[u,p,f]:Number.isFinite(r)?[u,p,r]:[u,p]}projectPosition(e){const[t,r,n=0]=e,s=t*u,o=r*u,i=Math.cos(o),a=(n/d+1)*h;return[Math.sin(s)*i*a,-Math.cos(s)*i*a,Math.sin(o)*a]}unprojectPosition(e){const[t,r,n]=e,s=l.len(e),o=Math.asin(n/s);return[Math.atan2(t,-r)*p,o*p,(s/h-1)*d]}projectFlat(e){return e}unprojectFlat(e){return e}panByPosition(e,t){const r=this.unproject(t);return{longitude:e[0]-r[0]+this.longitude,latitude:e[1]-r[1]+this.latitude}}}function m(e,t){const r=c.transformMat4([],t,e);return c.scale(r,r,1/r[3]),r}r.default=f},{"math.gl":"dhC89","./viewport":"eKRkf","../lib/constants":"ewpM3","gl-matrix/vec3":"iJn4G","gl-matrix/vec4":"6HPef","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],l2fe6:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./view"),o=n.interopDefault(s),i=e("../viewports/viewport"),a=n.interopDefault(i),l=e("@math.gl/web-mercator"),c=e("math.gl"),u=e("../controllers/first-person-controller"),p=n.interopDefault(u);class d extends a.default{constructor(e){const{modelMatrix:t=null,bearing:r=0,pitch:n=0,up:s=[0,0,1]}=e,o=function({bearing:e,pitch:t}){return new c._SphericalCoordinates({bearing:e,pitch:t}).toVector3().normalize()}({bearing:r,pitch:-90===n?1e-4:90+n}),i=t?t.transformDirection(o):o,a=l.getMeterZoom(e),u=Math.pow(2,a),p=(new c.Matrix4).lookAt({eye:[0,0,0],center:i,up:s}).scale(u);super({...e,zoom:a,viewMatrix:p})}}class h extends o.default{constructor(e){super({...e,type:d})}get controller(){return this._getControllerProps({type:p.default})}}r.default=h,h.displayName="FirstPersonView"},{"./view":"bEwW4","../viewports/viewport":"eKRkf","@math.gl/web-mercator":"hl0Lf","math.gl":"dhC89","../controllers/first-person-controller":"36TNY","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"36TNY":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./controller"),o=n.interopDefault(s),i=e("./view-state"),a=n.interopDefault(i),l=e("../utils/math-utils"),c=e("math.gl");const u=[0,0,0],p=0,d=0,h=90,f=-90;class m extends a.default{constructor({width:e,height:t,position:r=u,bearing:n=d,pitch:s=p,longitude:o,latitude:i,maxPitch:a=h,minPitch:l=f,startRotatePos:c,startBearing:m,startPitch:g,startZoomPosition:y,startZoom:b}){super({width:e,height:t,position:r,bearing:n,pitch:s,longitude:o,latitude:i,maxPitch:a,minPitch:l}),this._state={startRotatePos:c,startBearing:m,startPitch:g,startZoomPosition:y,startZoom:b}}getDirection(e=!1){return new c._SphericalCoordinates({bearing:this._viewportProps.bearing,pitch:e?90:90+this._viewportProps.pitch}).toVector3().normalize()}panStart(){return this}pan(){return this}panEnd(){return this}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}rotate({pos:e,deltaAngleX:t=0,deltaAngleY:r=0}){const{startRotatePos:n,startBearing:s,startPitch:o}=this._state,{width:i,height:a}=this._viewportProps;if(!n||!Number.isFinite(s)||!Number.isFinite(o))return this;let l;if(e){l={bearing:s-180*((e[0]-n[0])/i),pitch:o-90*((e[1]-n[1])/a)}}else l={bearing:s-t,pitch:o-r};return this._getUpdatedState(l)}rotateEnd(){return this._getUpdatedState({startRotatePos:null,startBearing:null,startPitch:null})}zoomStart(){return this._getUpdatedState({startZoomPosition:this._viewportProps.position,startZoom:this._viewportProps.zoom})}zoom({scale:e}){let{startZoomPosition:t}=this._state;t||(t=this._viewportProps.position);const r=this.getDirection();return this._move(r,20*Math.log2(e),t)}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}moveLeft(e=20){const t=this.getDirection(!0);return this._move(t.rotateZ({radians:Math.PI/2}),e)}moveRight(e=20){const t=this.getDirection(!0);return this._move(t.rotateZ({radians:-Math.PI/2}),e)}moveUp(e=20){const t=this.getDirection(!0);return this._move(t,e)}moveDown(e=20){const t=this.getDirection(!0);return this._move(t.negate(),e)}rotateLeft(e=15){return this._getUpdatedState({bearing:this._viewportProps.bearing-e})}rotateRight(e=15){return this._getUpdatedState({bearing:this._viewportProps.bearing+e})}rotateUp(e=10){return this._getUpdatedState({pitch:this._viewportProps.pitch+e})}rotateDown(e=10){return this._getUpdatedState({pitch:this._viewportProps.pitch-e})}zoomIn(e=2){return this.zoom({scale:e})}zoomOut(e=2){return this.zoom({scale:1/e})}shortestPathFrom(e){const t=e.getViewportProps(),r={...this._viewportProps},{bearing:n,longitude:s}=r;return Math.abs(n-t.bearing)>180&&(r.bearing=n<0?n+360:n-360),Math.abs(s-t.longitude)>180&&(r.longitude=s<0?s+360:s-360),r}_move(e,t,r=this._viewportProps.position){const n=e.scale(t);return this._getUpdatedState({position:new c.Vector3(r).add(n)})}_getUpdatedState(e){return new m({...this._viewportProps,...this._state,...e})}_applyConstraints(e){const{pitch:t,maxPitch:r,minPitch:n,longitude:s,bearing:o}=e;return e.pitch=c.clamp(t,n,r),(s<-180||s>180)&&(e.longitude=l.mod(s+180,360)-180),(o<-180||o>180)&&(e.bearing=l.mod(o+180,360)-180),e}}class g extends o.default{constructor(e){super(m,e)}get linearTransitionProps(){return["position","pitch","bearing"]}}r.default=g},{"./controller":"fgpvE","./view-state":"QhvOa","../utils/math-utils":"3gUfz","math.gl":"dhC89","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hPUtu:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./view"),o=n.interopDefault(s),i=e("../viewports/viewport"),a=n.interopDefault(i),l=e("math.gl"),c=e("@math.gl/web-mercator"),u=e("../controllers/orbit-controller"),p=n.interopDefault(u);const d=Math.PI/180;function h({height:e,focalDistance:t,orbitAxis:r,rotationX:n,rotationOrbit:s,zoom:o}){const i="Z"===r?[0,0,1]:[0,1,0],a="Z"===r?[0,-t,0]:[0,0,t],c=(new l.Matrix4).lookAt({eye:a,up:i});c.rotateX(n*d),"Z"===r?c.rotateZ(s*d):c.rotateY(s*d);const u=Math.pow(2,o)/(e||1);return c.scale(u),c}class f extends a.default{constructor(e){const{height:t,projectionMatrix:r,fovy:n=50,orbitAxis:s,target:o=[0,0,0],rotationX:i=0,rotationOrbit:a=0,zoom:l=0}=e,u=r?r[5]/2:c.fovyToAltitude(n);super({...e,longitude:null,viewMatrix:h({height:t,focalDistance:u,orbitAxis:s,rotationX:i,rotationOrbit:a,zoom:l}),fovy:n,focalDistance:u,position:o,zoom:l}),this.projectedCenter=this.project(this.center)}unproject(e,{topLeft:t=!0}={}){const[r,n,s=this.projectedCenter[2]]=e,o=t?n:this.height-n,[i,a,l]=c.pixelsToWorld([r,o,s],this.pixelUnprojectionMatrix);return[i,a,l]}panByPosition(e,t){const r=this.project(e),n=[this.width/2+r[0]-t[0],this.height/2+r[1]-t[1],this.projectedCenter[2]];return{target:this.unproject(n)}}}class m extends o.default{constructor(e={}){const{orbitAxis:t="Z"}=e;super({...e,orbitAxis:t,type:f})}get controller(){return this._getControllerProps({type:p.default})}}r.default=m,m.displayName="OrbitView"},{"./view":"bEwW4","../viewports/viewport":"eKRkf","math.gl":"dhC89","@math.gl/web-mercator":"hl0Lf","../controllers/orbit-controller":"fWwyP","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],fWwyP:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"OrbitState",(()=>b));var s=e("math.gl"),o=e("./controller"),i=n.interopDefault(o),a=e("./view-state"),l=n.interopDefault(a),c=e("../utils/math-utils");const u=0,p=0,d=0,h=[0,0,0],f=-90,m=90,g=-1/0,y=1/0;class b extends l.default{constructor({makeViewport:e,width:t,height:r,rotationX:n=u,rotationOrbit:s=p,target:o=h,zoom:i=d,minRotationX:a=f,maxRotationX:l=m,minZoom:c=g,maxZoom:b=y,startPanPosition:v,startRotatePos:x,startRotationX:_,startRotationOrbit:w,startZoomPosition:P,startZoom:E}){super({width:t,height:r,rotationX:n,rotationOrbit:s,target:o,zoom:i,minRotationX:a,maxRotationX:l,minZoom:c,maxZoom:b}),this._state={startPanPosition:v,startRotatePos:x,startRotationX:_,startRotationOrbit:w,startZoomPosition:P,startZoom:E},this.makeViewport=e}panStart({pos:e}){return this._getUpdatedState({startPanPosition:this._unproject(e)})}pan({pos:e,startPosition:t}){const r=this._state.startPanPosition||t;if(!r)return this;const n=this.makeViewport(this._viewportProps).panByPosition(r,e);return this._getUpdatedState(n)}panEnd(){return this._getUpdatedState({startPanPosition:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startRotationX:this._viewportProps.rotationX,startRotationOrbit:this._viewportProps.rotationOrbit})}rotate({pos:e,deltaAngleX:t=0,deltaAngleY:r=0}){const{startRotatePos:n,startRotationX:s,startRotationOrbit:o}=this._state,{width:i,height:a}=this._viewportProps;if(!n||!Number.isFinite(s)||!Number.isFinite(o))return this;let l;if(e){let t=(e[0]-n[0])/i;const r=(e[1]-n[1])/a;(s<-90||s>90)&&(t*=-1),l={rotationX:s+180*r,rotationOrbit:o+180*t}}else l={rotationX:s+r,rotationOrbit:o+t};return this._getUpdatedState(l)}rotateEnd(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}shortestPathFrom(e){const t=e.getViewportProps(),r={...this._viewportProps},{rotationOrbit:n}=r;return Math.abs(n-t.rotationOrbit)>180&&(r.rotationOrbit=n<0?n+360:n-360),r}zoomStart({pos:e}){return this._getUpdatedState({startZoomPosition:this._unproject(e),startZoom:this._viewportProps.zoom})}zoom({pos:e,startPos:t,scale:r}){const{zoom:n}=this._viewportProps;let{startZoom:s,startZoomPosition:o}=this._state;Number.isFinite(s)||(s=n,o=this._unproject(t)||this._unproject(e));const i=this._calculateNewZoom({scale:r,startZoom:s}),a=this.makeViewport({...this._viewportProps,zoom:i});return this._getUpdatedState({zoom:i,...a.panByPosition(o,e)})}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}zoomIn(e=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:e})})}zoomOut(e=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/e})})}moveLeft(e=50){return this._panFromCenter([-e,0])}moveRight(e=50){return this._panFromCenter([e,0])}moveUp(e=50){return this._panFromCenter([0,-e])}moveDown(e=50){return this._panFromCenter([0,e])}rotateLeft(e=15){return this._getUpdatedState({rotationOrbit:this._viewportProps.rotationOrbit-e})}rotateRight(e=15){return this._getUpdatedState({rotationOrbit:this._viewportProps.rotationOrbit+e})}rotateUp(e=10){return this._getUpdatedState({rotationX:this._viewportProps.rotationX-e})}rotateDown(e=10){return this._getUpdatedState({rotationX:this._viewportProps.rotationX+e})}_unproject(e){const t=this.makeViewport(this._viewportProps);return e&&t.unproject(e)}_calculateNewZoom({scale:e,startZoom:t}){const{maxZoom:r,minZoom:n}=this._viewportProps;Number.isFinite(t)||(t=this._viewportProps.zoom);const o=t+Math.log2(e);return s.clamp(o,n,r)}_panFromCenter(e){const{width:t,height:r,target:n}=this._viewportProps;return this.pan({startPosition:n,pos:[t/2+e[0],r/2+e[1]]})}_getUpdatedState(e){return new this.constructor({...this._viewportProps,...this._state,...e})}_applyConstraints(e){const{maxZoom:t,minZoom:r,zoom:n,maxRotationX:o,minRotationX:i,rotationOrbit:a}=e;return e.zoom=s.clamp(n,r,t),e.rotationX=s.clamp(e.rotationX,i,o),(a<-180||a>180)&&(e.rotationOrbit=c.mod(a+180,360)-180),e}}class v extends i.default{constructor(e){super(b,e)}get linearTransitionProps(){return["target","zoom","rotationX","rotationOrbit"]}}r.default=v},{"math.gl":"dhC89","./controller":"fgpvE","./view-state":"QhvOa","../utils/math-utils":"3gUfz","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ank89:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./view"),o=n.interopDefault(s),i=e("../viewports/viewport"),a=n.interopDefault(i),l=e("math.gl"),c=e("@math.gl/web-mercator"),u=e("gl-matrix/vec2"),p=e("../controllers/orthographic-controller"),d=n.interopDefault(p);const h=(new l.Matrix4).lookAt({eye:[0,0,1]});function f({width:e,height:t,near:r,far:n}){return e=e||1,t=t||1,(new l.Matrix4).ortho({left:-e/2,right:e/2,bottom:-t/2,top:t/2,near:r,far:n})}class m extends a.default{constructor(e){const{width:t,height:r,near:n=.1,far:s=1e3,zoom:o=0,target:i=[0,0,0],flipY:a=!0}=e,l=Array.isArray(o)?o[0]:o,c=Array.isArray(o)?o[1]:o,u=Math.min(l,c),p=Math.pow(2,u);if(super({...e,longitude:null,position:i,viewMatrix:h.clone().scale([p,p*(a?-1:1),p]),projectionMatrix:f({width:t,height:r,near:n,far:s}),zoom:u}),l!==c){const e=Math.pow(2,l),t=Math.pow(2,c);this.distanceScales={unitsPerMeter:[e/p,t/p,1],metersPerUnit:[p/e,p/t,1]}}}projectFlat([e,t]){const{unitsPerMeter:r}=this.distanceScales;return[e*r[0],t*r[1]]}unprojectFlat([e,t]){const{metersPerUnit:r}=this.distanceScales;return[e*r[0],t*r[1]]}panByPosition(e,t){const r=c.pixelsToWorld(t,this.pixelUnprojectionMatrix),n=this.projectFlat(e),s=u.add([],n,u.negate([],r));return{target:u.add([],this.center,s)}}}class g extends o.default{constructor(e){super({...e,type:m})}get controller(){return this._getControllerProps({type:d.default})}}r.default=g,g.displayName="OrthographicView"},{"./view":"bEwW4","../viewports/viewport":"eKRkf","math.gl":"dhC89","@math.gl/web-mercator":"hl0Lf","gl-matrix/vec2":"4aqfr","../controllers/orthographic-controller":"8nvmr","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"8nvmr":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("math.gl"),o=e("./controller"),i=n.interopDefault(o),a=e("./orbit-controller");class l extends a.OrbitState{constructor(e){super(e),this.zoomAxis=e.zoomAxis||"all"}_applyConstraints(e){const{maxZoom:t,minZoom:r,zoom:n}=e;return e.zoom=Array.isArray(n)?[s.clamp(n[0],r,t),s.clamp(n[1],r,t)]:s.clamp(n,r,t),e}_calculateNewZoom({scale:e,startZoom:t}){const{maxZoom:r,minZoom:n}=this._viewportProps;t||0===t||(t=this._viewportProps.zoom);let o=Math.log2(e);if(Array.isArray(t)){let[e,i]=t;switch(this.zoomAxis){case"X":e=s.clamp(e+o,n,r);break;case"Y":i=s.clamp(i+o,n,r);break;default:let t=Math.min(e+o,i+o);t<n&&(o+=n-t),t=Math.max(e+o,i+o),t>r&&(o+=r-t),e+=o,i+=o}return[e,i]}return s.clamp(t+o,n,r)}}class c extends i.default{constructor(e){e.dragMode=e.dragMode||"pan",super(l,e)}_onPanRotate(e){return!1}get linearTransitionProps(){return["target","zoom"]}}r.default=c},{"math.gl":"dhC89","./controller":"fgpvE","./orbit-controller":"fWwyP","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],aqCPe:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./view"),o=n.interopDefault(s),i=e("../viewports/globe-viewport"),a=n.interopDefault(i),l=e("../controllers/globe-controller"),c=n.interopDefault(l);class u extends o.default{constructor(e){super({...e,type:a.default})}get controller(){return this._getControllerProps({type:c.default})}}r.default=u,u.displayName="GlobeView"},{"./view":"bEwW4","../viewports/globe-viewport":"hesAn","../controllers/globe-controller":"cTWwi","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],cTWwi:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("math.gl"),o=e("./controller"),i=n.interopDefault(o),a=e("./map-controller"),l=e("../utils/math-utils");class c extends a.MapState{_applyConstraints(e){const{maxZoom:t,minZoom:r,zoom:n}=e;e.zoom=s.clamp(n,r,t);const{longitude:o,latitude:i}=e;return(o<-180||o>180)&&(e.longitude=l.mod(o+180,360)-180),e.latitude=s.clamp(i,-89,89),e}}class u extends i.default{constructor(e){e.dragMode=e.dragMode||"pan",super(c,e)}setProps(e){super.setProps(e),this.dragRotate=!1,this.touchRotate=!1}get linearTransitionProps(){return["longitude","latitude","zoom"]}}r.default=u},{"math.gl":"dhC89","./controller":"fgpvE","./map-controller":"3DWOI","../utils/math-utils":"3gUfz","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"9QZz5":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./transition-interpolator"),o=n.interopDefault(s),i=e("math.gl"),a=e("@math.gl/web-mercator");const l=["bearing","pitch"],c={speed:1.2,curve:1.414};class u extends o.default{constructor(e={}){super({compare:["longitude","latitude","zoom","bearing","pitch"],extract:["width","height","longitude","latitude","zoom","bearing","pitch"],required:["width","height","latitude","longitude","zoom"]}),this.props={...c,...e}}interpolateProps(e,t,r){const n=a.flyToViewport(e,t,r,this.props);for(const s of l)n[s]=i.lerp(e[s]||0,t[s]||0,r);return n}getDuration(e,t){let{transitionDuration:r}=t;return"auto"===r&&(r=a.getFlyToDuration(e,t,this.props)),r}}r.default=u},{"./transition-interpolator":"4GSC4","math.gl":"dhC89","@math.gl/web-mercator":"hl0Lf","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],l85Cb:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("./iterable-utils"),o=e("./typed-array-manager"),i=n.interopDefault(o),a=e("./assert"),l=n.interopDefault(a),c=e("@luma.gl/core");r.default=class{constructor(e={}){const{attributes:t={}}=e;this.typedArrayManager=i.default,this.indexStarts=null,this.vertexStarts=null,this.vertexCount=0,this.instanceCount=0,this.attributes={},this._attributeDefs=t,this.opts=e,this.updateGeometry(e),Object.seal(this)}updateGeometry(e){Object.assign(this.opts,e);const{data:t,buffers:r={},getGeometry:n,geometryBuffer:s,positionFormat:o,dataChanged:i,normalize:a=!0}=this.opts;if(this.data=t,this.getGeometry=n,this.positionSize=s&&s.size||("XY"===o?2:3),this.buffers=r,this.normalize=a,s&&(l.default(t.startIndices),this.getGeometry=this.getGeometryFromBuffer(s),a||(r.positions=s)),this.geometryBuffer=r.positions,Array.isArray(i))for(const e of i)this._rebuildGeometry(e);else this._rebuildGeometry()}updatePartialGeometry({startRow:e,endRow:t}){this._rebuildGeometry({startRow:e,endRow:t})}normalizeGeometry(e){return e}updateGeometryAttributes(e,t,r){throw new Error("Not implemented")}getGeometrySize(e){throw new Error("Not implemented")}getGeometryFromBuffer(e){const t=e.value||e;return l.default(ArrayBuffer.isView(t)),s.getAccessorFromBuffer(t,{size:this.positionSize,offset:e.offset,stride:e.stride,startIndices:this.data.startIndices})}_allocate(e,t){const{attributes:r,buffers:n,_attributeDefs:s,typedArrayManager:o}=this;for(const i in s)if(i in n)o.release(r[i]),r[i]=null;else{const n=s[i];n.copy=t,r[i]=o.allocate(r[i],e,n)}}_forEachGeometry(e,t,r){const{data:n,getGeometry:o}=this,{iterable:i,objectInfo:a}=s.createIterable(n,t,r);for(const t of i){a.index++;e(o(t,a),a.index)}}_rebuildGeometry(e){if(!this.data||!this.getGeometry)return;let{indexStarts:t,vertexStarts:r,instanceCount:n}=this;const{data:s,geometryBuffer:o}=this,{startRow:i=0,endRow:a=1/0}=e||{},l={};if(e||(t=[0],r=[0]),this.normalize||!o)this._forEachGeometry(((e,t)=>{e=this.normalizeGeometry(e),l[t]=e,r[t+1]=r[t]+this.getGeometrySize(e)}),i,a),n=r[r.length-1];else if(o.buffer instanceof c.Buffer){const e=o.stride||4*this.positionSize;r=s.startIndices,n=r[s.length]||o.buffer.byteLength/e}else{const e=o.value||o,t=o.stride/e.BYTES_PER_ELEMENT||this.positionSize;r=s.startIndices,n=r[s.length]||e.length/t}this._allocate(n,Boolean(e)),this.indexStarts=t,this.vertexStarts=r,this.instanceCount=n;const u={};this._forEachGeometry(((e,s)=>{e=l[s]||e,u.vertexStart=r[s],u.indexStart=t[s];const o=s<r.length-1?r[s+1]:n;u.geometrySize=o-r[s],u.geometryIndex=s,this.updateGeometryAttributes(e,u)}),i,a),this.vertexCount=t[t.length-1]}}},{"./iterable-utils":"egtEn","./typed-array-manager":"gI2W7","./assert":"ag0x0","@luma.gl/core":"e4zBo","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"6SXuF":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@deck.gl/core"),o=e("@luma.gl/core"),i=e("@luma.gl/webgl"),a=e("../utils/matrix"),l=e("./simple-mesh-layer-vertex.glsl"),c=n.interopDefault(l),u=e("./simple-mesh-layer-fragment.glsl"),p=n.interopDefault(u);function d(e,t){(e.COLOR_0||e.colors)&&t||(e.colors={constant:!0,value:new Float32Array([1,1,1])}),s.log.assert(e.positions||e.POSITION,'no "postions" or "POSITION" attribute in mesh')}function h(e,t){if(e.attributes)return d(e.attributes,t),e instanceof o.Geometry?e:new o.Geometry(e);if(e.positions||e.POSITION)return d(e,t),new o.Geometry({attributes:e});throw Error("Invalid mesh")}const f={mesh:{value:null,type:"object",async:!0},texture:{type:"image",value:null,async:!0},sizeScale:{type:"number",value:1,min:0},_useMeshColors:{type:"boolean",value:!1},_instanced:!0,wireframe:!1,material:!0,getPosition:{type:"accessor",value:e=>e.position},getColor:{type:"accessor",value:[0,0,0,255]},getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]}};class m extends s.Layer{getShaders(){const e=!o.isWebGL2(this.context.gl),t={};return i.hasFeature(this.context.gl,i.FEATURES.GLSL_DERIVATIVES)&&(t.DERIVATIVES_AVAILABLE=1),super.getShaders({vs:c.default,fs:p.default,modules:[s.project32,s.phongLighting,s.picking],transpileToGLSL100:e,defines:t})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{transition:!0,type:5130,fp64:this.use64bitPositions(),size:3,accessor:"getPosition"},instanceColors:{type:5121,transition:!0,size:this.props.colorFormat.length,normalized:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceModelMatrix:a.MATRIX_ATTRIBUTES}),this.setState({emptyTexture:new o.Texture2D(this.context.gl,{data:new Uint8Array(4),width:1,height:1})})}updateState({props:e,oldProps:t,changeFlags:r}){if(super.updateState({props:e,oldProps:t,changeFlags:r}),e.mesh!==t.mesh||r.extensionsChanged){var n;if(null===(n=this.state.model)||void 0===n||n.delete(),e.mesh){this.state.model=this.getModel(e.mesh);const t=e.mesh.attributes||e.mesh;this.setState({hasNormals:Boolean(t.NORMAL||t.normals)})}this.getAttributeManager().invalidateAll()}e.texture!==t.texture&&this.setTexture(e.texture),this.state.model&&this.state.model.setDrawMode(this.props.wireframe?3:4)}finalizeState(){super.finalizeState(),this.state.emptyTexture.delete()}draw({uniforms:e}){if(!this.state.model)return;const{viewport:t}=this.context,{sizeScale:r,coordinateSystem:n,_instanced:s}=this.props;this.state.model.setUniforms(e).setUniforms({sizeScale:r,composeModelMatrix:!s||a.shouldComposeModelMatrix(t,n),flatShading:!this.state.hasNormals}).draw()}getModel(e){const t=new o.Model(this.context.gl,{...this.getShaders(),id:this.props.id,geometry:h(e,this.props._useMeshColors),isInstanced:!0}),{texture:r}=this.props,{emptyTexture:n}=this.state;return t.setUniforms({sampler:r||n,hasTexture:Boolean(r)}),t}setTexture(e){const{emptyTexture:t,model:r}=this.state;null==r||r.setUniforms({sampler:e||t,hasTexture:Boolean(e)})}}r.default=m,m.layerName="SimpleMeshLayer",m.defaultProps=f},{"@deck.gl/core":"b0xps","@luma.gl/core":"e4zBo","@luma.gl/webgl":"ktJRJ","../utils/matrix":"aE5Rc","./simple-mesh-layer-vertex.glsl":"iPts5","./simple-mesh-layer-fragment.glsl":"5wraZ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],aE5Rc:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"MATRIX_ATTRIBUTES",(()=>u)),n.export(r,"shouldComposeModelMatrix",(()=>p));var s=e("@deck.gl/core");const o=Math.PI/180,i=new Float32Array(16),a=new Float32Array(12);function l(e,t,r){const n=t[0]*o,s=t[1]*o,i=t[2]*o,a=Math.sin(i),l=Math.sin(n),c=Math.sin(s),u=Math.cos(i),p=Math.cos(n),d=Math.cos(s),h=r[0],f=r[1],m=r[2];e[0]=h*d*p,e[1]=h*c*p,e[2]=h*-l,e[3]=f*(-c*u+d*l*a),e[4]=f*(d*u+c*l*a),e[5]=f*p*a,e[6]=m*(c*a+d*l*u),e[7]=m*(-d*a+c*l*u),e[8]=m*p*u}function c(e){return e[0]=e[0],e[1]=e[1],e[2]=e[2],e[3]=e[4],e[4]=e[5],e[5]=e[6],e[6]=e[8],e[7]=e[9],e[8]=e[10],e[9]=e[12],e[10]=e[13],e[11]=e[14],e.subarray(0,12)}const u={size:12,accessor:["getOrientation","getScale","getTranslation","getTransformMatrix"],shaderAttributes:{instanceModelMatrix__LOCATION_0:{size:3,elementOffset:0},instanceModelMatrix__LOCATION_1:{size:3,elementOffset:3},instanceModelMatrix__LOCATION_2:{size:3,elementOffset:6},instanceTranslation:{size:3,elementOffset:9}},update(e,{startRow:t,endRow:r}){const{data:n,getOrientation:o,getScale:u,getTranslation:p,getTransformMatrix:d}=this.props,h=Array.isArray(d),f=h&&16===d.length,m=Array.isArray(u),g=Array.isArray(o),y=Array.isArray(p),b=f||!h&&Boolean(d(n[0]));e.constant=b?f:g&&m&&y;const v=e.value;if(e.constant){let t;if(b)i.set(d),t=c(i);else{t=a;l(t,o,u),t.set(p,9)}e.value=new Float32Array(t)}else{let h=t*e.size;const{iterable:x,objectInfo:_}=s.createIterable(n,t,r);for(const e of x){let t;if(_.index++,b)i.set(f?d:d(e,_)),t=c(i);else{t=a;l(t,g?o:o(e,_),m?u:u(e,_)),t.set(y?p:p(e,_),9)}v[h++]=t[0],v[h++]=t[1],v[h++]=t[2],v[h++]=t[3],v[h++]=t[4],v[h++]=t[5],v[h++]=t[6],v[h++]=t[7],v[h++]=t[8],v[h++]=t[9],v[h++]=t[10],v[h++]=t[11]}}}};function p(e,t){return t===s.COORDINATE_SYSTEM.CARTESIAN||t===s.COORDINATE_SYSTEM.METER_OFFSETS||t===s.COORDINATE_SYSTEM.DEFAULT&&!e.isGeospatial}},{"@deck.gl/core":"b0xps","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],iPts5:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default="#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\nuniform float sizeScale;\nuniform bool composeModelMatrix;\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = instancePickingColors;\n\n  vTexCoord = texCoords;\n  cameraPosition = project_uCameraPosition;\n  normals_commonspace = project_normal(instanceModelMatrix * normals);\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n  geometry.normal = normals_commonspace;\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale + instanceTranslation;\n\n  if (composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), position_commonspace);\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, position_commonspace);\n  }\n\n  geometry.position = position_commonspace;\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n"},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"5wraZ":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default="#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n"},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],gKPNE:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@turf/destination"),o=n.interopDefault(s),i=e("@turf/helpers");r.default=function(e,t,r){void 0===r&&(r={});for(var n=r.steps||64,s=r.properties?r.properties:!Array.isArray(e)&&"Feature"===e.type&&e.properties?e.properties:{},a=[],l=0;l<n;l++)a.push(o.default(e,t,-360*l/n,r).geometry.coordinates);return a.push(a[0]),i.polygon([a],s)}},{"@turf/destination":"lLXFb","@turf/helpers":"jjplM","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],lLXFb:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var n=e("@turf/helpers"),s=e("@turf/invariant");r.default=function(e,t,r,o){void 0===o&&(o={});var i=s.getCoord(e),a=n.degreesToRadians(i[0]),l=n.degreesToRadians(i[1]),c=n.degreesToRadians(r),u=n.lengthToRadians(t,o.units),p=Math.asin(Math.sin(l)*Math.cos(u)+Math.cos(l)*Math.sin(u)*Math.cos(c)),d=a+Math.atan2(Math.sin(c)*Math.sin(u)*Math.cos(l),Math.cos(u)-Math.sin(l)*Math.sin(p)),h=n.radiansToDegrees(d),f=n.radiansToDegrees(p);return n.point([h,f],o.properties)}},{"@turf/helpers":"jjplM","@turf/invariant":"eWBdc","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],jjplM:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"earthRadius",(()=>s)),n.export(r,"factors",(()=>o)),n.export(r,"unitsFactors",(()=>i)),n.export(r,"areaFactors",(()=>a)),n.export(r,"feature",(()=>l)),n.export(r,"geometry",(()=>c)),n.export(r,"point",(()=>u)),n.export(r,"points",(()=>p)),n.export(r,"polygon",(()=>d)),n.export(r,"polygons",(()=>h)),n.export(r,"lineString",(()=>f)),n.export(r,"lineStrings",(()=>m)),n.export(r,"featureCollection",(()=>g)),n.export(r,"multiLineString",(()=>y)),n.export(r,"multiPoint",(()=>b)),n.export(r,"multiPolygon",(()=>v)),n.export(r,"geometryCollection",(()=>x)),n.export(r,"round",(()=>_)),n.export(r,"radiansToLength",(()=>w)),n.export(r,"lengthToRadians",(()=>P)),n.export(r,"lengthToDegrees",(()=>E)),n.export(r,"bearingToAzimuth",(()=>A)),n.export(r,"radiansToDegrees",(()=>T)),n.export(r,"degreesToRadians",(()=>S)),n.export(r,"convertLength",(()=>j)),n.export(r,"convertArea",(()=>C)),n.export(r,"isNumber",(()=>I)),n.export(r,"isObject",(()=>M)),n.export(r,"validateBBox",(()=>k)),n.export(r,"validateId",(()=>L));var s=6371008.8,o={centimeters:100*s,centimetres:100*s,degrees:s/111325,feet:3.28084*s,inches:39.37*s,kilometers:s/1e3,kilometres:s/1e3,meters:s,metres:s,miles:s/1609.344,millimeters:1e3*s,millimetres:1e3*s,nauticalmiles:s/1852,radians:1,yards:1.0936*s},i={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/s,yards:1.0936133},a={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function l(e,t,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function c(e,t,r){switch(void 0===r&&(r={}),e){case"Point":return u(t).geometry;case"LineString":return f(t).geometry;case"Polygon":return d(t).geometry;case"MultiPoint":return b(t).geometry;case"MultiLineString":return y(t).geometry;case"MultiPolygon":return v(t).geometry;default:throw new Error(e+" is invalid")}}function u(e,t,r){if(void 0===r&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!I(e[0])||!I(e[1]))throw new Error("coordinates must contain numbers");return l({type:"Point",coordinates:e},t,r)}function p(e,t,r){return void 0===r&&(r={}),g(e.map((function(e){return u(e,t)})),r)}function d(e,t,r){void 0===r&&(r={});for(var n=0,s=e;n<s.length;n++){var o=s[n];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var i=0;i<o[o.length-1].length;i++)if(o[o.length-1][i]!==o[0][i])throw new Error("First and last Position are not equivalent.")}return l({type:"Polygon",coordinates:e},t,r)}function h(e,t,r){return void 0===r&&(r={}),g(e.map((function(e){return d(e,t)})),r)}function f(e,t,r){if(void 0===r&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return l({type:"LineString",coordinates:e},t,r)}function m(e,t,r){return void 0===r&&(r={}),g(e.map((function(e){return f(e,t)})),r)}function g(e,t){void 0===t&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function y(e,t,r){return void 0===r&&(r={}),l({type:"MultiLineString",coordinates:e},t,r)}function b(e,t,r){return void 0===r&&(r={}),l({type:"MultiPoint",coordinates:e},t,r)}function v(e,t,r){return void 0===r&&(r={}),l({type:"MultiPolygon",coordinates:e},t,r)}function x(e,t,r){return void 0===r&&(r={}),l({type:"GeometryCollection",geometries:e},t,r)}function _(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,t||0);return Math.round(e*r)/r}function w(e,t){void 0===t&&(t="kilometers");var r=o[t];if(!r)throw new Error(t+" units is invalid");return e*r}function P(e,t){void 0===t&&(t="kilometers");var r=o[t];if(!r)throw new Error(t+" units is invalid");return e/r}function E(e,t){return T(P(e,t))}function A(e){var t=e%360;return t<0&&(t+=360),t}function T(e){return 180*(e%(2*Math.PI))/Math.PI}function S(e){return e%360*Math.PI/180}function j(e,t,r){if(void 0===t&&(t="kilometers"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("length must be a positive number");return w(P(e,t),r)}function C(e,t,r){if(void 0===t&&(t="meters"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("area must be a positive number");var n=a[t];if(!n)throw new Error("invalid original units");var s=a[r];if(!s)throw new Error("invalid final units");return e/n*s}function I(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function M(e){return!!e&&e.constructor===Object}function k(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!I(e))throw new Error("bbox must only contain numbers")}))}function L(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],eWBdc:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getCoord",(()=>o)),n.export(r,"getCoords",(()=>i)),n.export(r,"containsNumber",(()=>a)),n.export(r,"geojsonType",(()=>l)),n.export(r,"featureOf",(()=>c)),n.export(r,"collectionOf",(()=>u)),n.export(r,"getGeom",(()=>p)),n.export(r,"getType",(()=>d));var s=e("@turf/helpers");function o(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function i(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function a(e){if(e.length>1&&s.isNumber(e[0])&&s.isNumber(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return a(e[0]);throw new Error("coordinates must only contain numbers")}function l(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}function c(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}function u(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(var n=0,s=e.features;n<s.length;n++){var o=s[n];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!o.geometry||o.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+o.geometry.type)}}function p(e){return"Feature"===e.type?e.geometry:e}function d(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}},{"@turf/helpers":"jjplM","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"5Csjn":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"DracoWriter",(()=>l.DracoWriter)),n.export(r,"DracoWorkerLoader",(()=>s.DracoLoader)),n.export(r,"DracoLoader",(()=>c)),n.export(r,"_TypecheckDracoLoader",(()=>u));var s=e("./draco-loader"),o=e("./lib/draco-parser"),i=n.interopDefault(o),a=e("./lib/draco-module-loader"),l=e("./draco-writer");const c={...s.DracoLoader,parse:async function(e,t){const{draco:r}=await a.loadDracoDecoderModule(t),n=new i.default(r);try{return n.parseSync(e,null==t?void 0:t.draco)}finally{n.destroy()}}};const u=c},{"./draco-loader":"go0N2","./lib/draco-parser":"g8iN6","./lib/draco-module-loader":"dB6ot","./draco-writer":"GyDu0","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],go0N2:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"DracoLoader",(()=>i)),n.export(r,"_TypecheckDracoLoader",(()=>a));var s=e("./lib/utils/version");const o={draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}},i={name:"Draco",id:"draco",module:"draco",version:s.VERSION,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:o},a=i},{"./lib/utils/version":"eN35j","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],eN35j:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"VERSION",(()=>s));const s="3.0.12"},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],g8iN6:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s),i=e("@loaders.gl/schema"),a=e("./utils/schema-attribute-utils");const l={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},c={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array};r.default=class{constructor(e){o.default(this,"draco",void 0),o.default(this,"decoder",void 0),o.default(this,"metadataQuerier",void 0),this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(e,t={}){const r=new this.draco.DecoderBuffer;r.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(t);const n=this.decoder.GetEncodedGeometryType(r),s=n===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let e;switch(n){case this.draco.TRIANGULAR_MESH:e=this.decoder.DecodeBufferToMesh(r,s);break;case this.draco.POINT_CLOUD:e=this.decoder.DecodeBufferToPointCloud(r,s);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!e.ok()||!s.ptr){const t=`DRACO decompression failed: ${e.error_msg()}`;throw new Error(t)}const o=this._getDracoLoaderData(s,n,t),l=this._getMeshData(s,o,t),c=i.getMeshBoundingBox(l.attributes),u=a.makeSchemaFromAttributes(l.attributes,o,l.indices);return{loader:"draco",loaderData:o,header:{vertexCount:s.num_points(),boundingBox:c},...l,schema:u}}finally{this.draco.destroy(r),s&&this.draco.destroy(s)}}_getDracoLoaderData(e,t,r){const n=this._getTopLevelMetadata(e),s=this._getDracoAttributes(e,r);return{geometry_type:t,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:n,attributes:s}}_getDracoAttributes(e,t){const r={};for(let n=0;n<e.num_attributes();n++){const s=this.decoder.GetAttribute(e,n),o=this._getAttributeMetadata(e,n);r[s.unique_id()]={unique_id:s.unique_id(),attribute_type:s.attribute_type(),data_type:s.data_type(),num_components:s.num_components(),byte_offset:s.byte_offset(),byte_stride:s.byte_stride(),normalized:s.normalized(),attribute_index:n,metadata:o};const i=this._getQuantizationTransform(s,t);i&&(r[s.unique_id()].quantization_transform=i);const a=this._getOctahedronTransform(s,t);a&&(r[s.unique_id()].octahedron_transform=a)}return r}_getMeshData(e,t,r){const n=this._getMeshAttributes(t,e,r);if(!n.POSITION)throw new Error("DRACO: No position attribute found.");if(e instanceof this.draco.Mesh){if("triangle-strip"===r.topology)return{topology:"triangle-strip",mode:4,attributes:n,indices:{value:this._getTriangleStripIndices(e),size:1}};return{topology:"triangle-list",mode:5,attributes:n,indices:{value:this._getTriangleListIndices(e),size:1}}}return{topology:"point-list",mode:0,attributes:n}}_getMeshAttributes(e,t,r){const n={};for(const s of Object.values(e.attributes)){const e=this._deduceAttributeName(s,r);s.name=e;const{value:o,size:i}=this._getAttributeValues(t,s);n[e]={value:o,size:i,byteOffset:s.byte_offset,byteStride:s.byte_stride,normalized:s.normalized}}return n}_getTriangleListIndices(e){const t=3*e.num_faces(),r=4*t,n=this.draco._malloc(r);try{return this.decoder.GetTrianglesUInt32Array(e,r,n),new Uint32Array(this.draco.HEAPF32.buffer,n,t).slice()}finally{this.draco._free(n)}}_getTriangleStripIndices(e){const t=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,t),function(e){const t=e.size(),r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=e.GetValue(n);return r}(t)}finally{this.draco.destroy(t)}}_getAttributeValues(e,t){const r=c[t.data_type],n=t.num_components,s=e.num_points()*n,o=s*r.BYTES_PER_ELEMENT,i=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32;default:return e.DT_INVALID}}(this.draco,r);let a;const l=this.draco._malloc(o);try{const n=this.decoder.GetAttribute(e,t.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,n,i,o,l),a=new r(this.draco.HEAPF32.buffer,l,s).slice()}finally{this.draco._free(l)}return{value:a,size:n}}_deduceAttributeName(e,t){const r=e.unique_id;for(const[e,n]of Object.entries(t.extraAttributes||{}))if(n===r)return e;const n=e.attribute_type;for(const e in l){if(this.draco[e]===n)return l[e]}const s=t.attributeNameEntry||"name";return e.metadata[s]?e.metadata[s].string:`CUSTOM_ATTRIBUTE_${r}`}_getTopLevelMetadata(e){const t=this.decoder.GetMetadata(e);return this._getDracoMetadata(t)}_getAttributeMetadata(e,t){const r=this.decoder.GetAttributeMetadata(e,t);return this._getDracoMetadata(r)}_getDracoMetadata(e){if(!e||!e.ptr)return{};const t={},r=this.metadataQuerier.NumEntries(e);for(let n=0;n<r;n++){const r=this.metadataQuerier.GetEntryName(e,n);t[r]=this._getDracoMetadataField(e,r)}return t}_getDracoMetadataField(e,t){const r=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,t,r);const n=function(e){const t=e.size(),r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=e.GetValue(n);return r}(r);return{int:this.metadataQuerier.GetIntEntry(e,t),string:this.metadataQuerier.GetStringEntry(e,t),double:this.metadataQuerier.GetDoubleEntry(e,t),intArray:n}}finally{this.draco.destroy(r)}}_disableAttributeTransforms(e){const{quantizedAttributes:t=[],octahedronAttributes:r=[]}=e,n=[...t,...r];for(const e of n)this.decoder.SkipAttributeTransform(this.draco[e])}_getQuantizationTransform(e,t){const{quantizedAttributes:r=[]}=t,n=e.attribute_type();if(r.map((e=>this.decoder[e])).includes(n)){const t=new this.draco.AttributeQuantizationTransform;try{if(t.InitFromAttribute(e))return{quantization_bits:t.quantization_bits(),range:t.range(),min_values:new Float32Array([1,2,3]).map((e=>t.min_value(e)))}}finally{this.draco.destroy(t)}}return null}_getOctahedronTransform(e,t){const{octahedronAttributes:r=[]}=t,n=e.attribute_type();if(r.map((e=>this.decoder[e])).includes(n)){const t=new this.draco.AttributeQuantizationTransform;try{if(t.InitFromAttribute(e))return{quantization_bits:t.quantization_bits()}}finally{this.draco.destroy(t)}}return null}}},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","@loaders.gl/schema":"8WQgS","./utils/schema-attribute-utils":"ftqio","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"8WQgS":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"TableBatchBuilder",(()=>o.default)),n.export(r,"RowTableBatchAggregator",(()=>a.default)),n.export(r,"ColumnarTableBatchAggregator",(()=>c.default)),n.export(r,"convertToObjectRow",(()=>u.convertToObjectRow)),n.export(r,"convertToArrayRow",(()=>u.convertToArrayRow)),n.export(r,"getMeshSize",(()=>p.getMeshSize)),n.export(r,"getMeshBoundingBox",(()=>p.getMeshBoundingBox)),n.export(r,"Schema",(()=>d.Schema)),n.export(r,"Field",(()=>d.Field)),n.export(r,"DataType",(()=>d.DataType)),n.export(r,"Null",(()=>d.Null)),n.export(r,"Binary",(()=>d.Binary)),n.export(r,"Bool",(()=>d.Bool)),n.export(r,"Int",(()=>d.Int)),n.export(r,"Int8",(()=>d.Int8)),n.export(r,"Int16",(()=>d.Int16)),n.export(r,"Int32",(()=>d.Int32)),n.export(r,"Int64",(()=>d.Int64)),n.export(r,"Uint8",(()=>d.Uint8)),n.export(r,"Uint16",(()=>d.Uint16)),n.export(r,"Uint32",(()=>d.Uint32)),n.export(r,"Uint64",(()=>d.Uint64)),n.export(r,"Float",(()=>d.Float)),n.export(r,"Float16",(()=>d.Float16)),n.export(r,"Float32",(()=>d.Float32)),n.export(r,"Float64",(()=>d.Float64)),n.export(r,"Utf8",(()=>d.Utf8)),n.export(r,"Date",(()=>d.Date)),n.export(r,"DateDay",(()=>d.DateDay)),n.export(r,"DateMillisecond",(()=>d.DateMillisecond)),n.export(r,"Time",(()=>d.Time)),n.export(r,"TimeMillisecond",(()=>d.TimeMillisecond)),n.export(r,"TimeSecond",(()=>d.TimeSecond)),n.export(r,"Timestamp",(()=>d.Timestamp)),n.export(r,"TimestampSecond",(()=>d.TimestampSecond)),n.export(r,"TimestampMillisecond",(()=>d.TimestampMillisecond)),n.export(r,"TimestampMicrosecond",(()=>d.TimestampMicrosecond)),n.export(r,"TimestampNanosecond",(()=>d.TimestampNanosecond)),n.export(r,"Interval",(()=>d.Interval)),n.export(r,"IntervalDayTime",(()=>d.IntervalDayTime)),n.export(r,"IntervalYearMonth",(()=>d.IntervalYearMonth)),n.export(r,"FixedSizeList",(()=>d.FixedSizeList)),n.export(r,"deduceTableSchema",(()=>h.deduceTableSchema)),n.export(r,"getTypeInfo",(()=>f.getTypeInfo)),n.export(r,"getArrowTypeFromTypedArray",(()=>m.getArrowTypeFromTypedArray)),n.export(r,"AsyncQueue",(()=>y.default));var s=e("./lib/table/table-batch-builder"),o=n.interopDefault(s),i=e("./lib/table/row-table-batch-aggregator"),a=n.interopDefault(i),l=e("./lib/table/columnar-table-batch-aggregator"),c=n.interopDefault(l),u=e("./lib/utils/row-utils"),p=e("./category/mesh/mesh-utils"),d=e("./lib/schema"),h=e("./lib/schema-utils/deduce-table-schema"),f=e("./lib/schema-utils/get-type-info"),m=e("./lib/schema-utils/type-utils"),g=e("./lib/utils/async-queue"),y=n.interopDefault(g)},{"./lib/table/table-batch-builder":"fjAKK","./lib/table/row-table-batch-aggregator":"eWOMb","./lib/table/columnar-table-batch-aggregator":"hoO0m","./lib/utils/row-utils":"4IATO","./category/mesh/mesh-utils":"g3FMX","./lib/schema":"ivhPb","./lib/schema-utils/deduce-table-schema":"eZzgw","./lib/schema-utils/get-type-info":"1ZAiS","./lib/schema-utils/type-utils":"4ckGl","./lib/utils/async-queue":"aHhBg","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],fjAKK:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s),i=e("./base-table-batch-aggregator"),a=n.interopDefault(i),l=e("./row-table-batch-aggregator"),c=n.interopDefault(l),u=e("./columnar-table-batch-aggregator"),p=n.interopDefault(u);const d={shape:"array-row-table",batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},h="TableBatchBuilder";class f{constructor(e,t){o.default(this,"schema",void 0),o.default(this,"options",void 0),o.default(this,"aggregator",null),o.default(this,"batchCount",0),o.default(this,"bytesUsed",0),o.default(this,"isChunkComplete",!1),o.default(this,"lastBatchEmittedMs",Date.now()),o.default(this,"totalLength",0),o.default(this,"totalBytes",0),o.default(this,"rowBytes",0),this.schema=e,this.options={...d,...t}}limitReached(){var e,t;return!!(Boolean(null===(e=this.options)||void 0===e?void 0:e.limit)&&this.totalLength>=this.options.limit)||!!(Boolean(null===(t=this.options)||void 0===t?void 0:t._limitMB)&&this.totalBytes/1e6>=this.options._limitMB)}addRow(e){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(e),this.totalBytes+=this.rowBytes,Array.isArray(e)?this.addArrayRow(e):this.addObjectRow(e))}addArrayRow(e){if(!this.aggregator){const e=this._getTableBatchType();this.aggregator=new e(this.schema,this.options)}this.aggregator.addArrayRow(e)}addObjectRow(e){if(!this.aggregator){const e=this._getTableBatchType();this.aggregator=new e(this.schema,this.options)}this.aggregator.addObjectRow(e)}chunkComplete(e){e instanceof ArrayBuffer&&(this.bytesUsed+=e.byteLength),"string"==typeof e&&(this.bytesUsed+=e.length),this.isChunkComplete=!0}getFullBatch(e){return this._isFull()?this._getBatch(e):null}getFinalBatch(e){return this._getBatch(e)}_estimateRowMB(e){return Array.isArray(e)?8*e.length:8*Object.keys(e).length}_isFull(){if(!this.aggregator||0===this.aggregator.rowCount())return!1;if("auto"===this.options.batchSize){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return!(this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs)&&(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),!0)}_getBatch(e){if(!this.aggregator)return null;null!=e&&e.bytesUsed&&(this.bytesUsed=e.bytesUsed);const t=this.aggregator.getBatch();return t.count=this.batchCount,t.bytesUsed=this.bytesUsed,Object.assign(t,e),this.batchCount++,this.aggregator=null,t}_getTableBatchType(){switch(this.options.shape){case"row-table":return a.default;case"array-row-table":case"object-row-table":return c.default;case"columnar-table":return p.default;case"arrow-table":if(!f.ArrowBatch)throw new Error(h);return f.ArrowBatch;default:throw new Error(h)}}}r.default=f,o.default(f,"ArrowBatch",void 0)},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","./base-table-batch-aggregator":"f68s8","./row-table-batch-aggregator":"eWOMb","./columnar-table-batch-aggregator":"hoO0m","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],f68s8:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s);r.default=class{constructor(e,t){if(o.default(this,"schema",void 0),o.default(this,"options",void 0),o.default(this,"length",0),o.default(this,"rows",null),o.default(this,"cursor",0),o.default(this,"_headers",[]),this.options=t,this.schema=e,!Array.isArray(e)){this._headers=[];for(const t in e)this._headers[e[t].index]=e[t].name}}rowCount(){return this.length}addArrayRow(e,t){Number.isFinite(t)&&(this.cursor=t),this.rows=this.rows||new Array(100),this.rows[this.length]=e,this.length++}addObjectRow(e,t){Number.isFinite(t)&&(this.cursor=t),this.rows=this.rows||new Array(100),this.rows[this.length]=e,this.length++}getBatch(){let e=this.rows;if(!e)return null;e=e.slice(0,this.length),this.rows=null;return{shape:this.options.shape,batchType:"data",data:e,length:this.length,schema:this.schema,cursor:this.cursor}}}},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],eWOMb:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s),i=e("../utils/row-utils");r.default=class{constructor(e,t){if(o.default(this,"schema",void 0),o.default(this,"options",void 0),o.default(this,"length",0),o.default(this,"objectRows",null),o.default(this,"arrayRows",null),o.default(this,"cursor",0),o.default(this,"_headers",[]),this.options=t,this.schema=e,!Array.isArray(e)){this._headers=[];for(const t in e)this._headers[e[t].index]=e[t].name}}rowCount(){return this.length}addArrayRow(e,t){switch(Number.isFinite(t)&&(this.cursor=t),this.options.shape){case"object-row-table":const r=i.convertToObjectRow(e,this._headers);this.addObjectRow(r,t);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(100),this.arrayRows[this.length]=e,this.length++}}addObjectRow(e,t){switch(Number.isFinite(t)&&(this.cursor=t),this.options.shape){case"array-row-table":const r=i.convertToArrayRow(e,this._headers);this.addArrayRow(r,t);break;case"object-row-table":this.objectRows=this.objectRows||new Array(100),this.objectRows[this.length]=e,this.length++}}getBatch(){let e=this.arrayRows||this.objectRows;return e?(e=e.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:e,length:this.length,schema:this.schema,cursor:this.cursor}):null}}},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","../utils/row-utils":"4IATO","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"4IATO":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t){if(!e)throw new Error("null row");if(!t)throw new Error("no headers");const r={};for(let n=0;n<t.length;n++)r[t[n]]=e[n];return r}function o(e,t){if(!e)throw new Error("null row");if(!t)throw new Error("no headers");const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return r}n.defineInteropFlag(r),n.export(r,"convertToObjectRow",(()=>s)),n.export(r,"convertToArrayRow",(()=>o))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],hoO0m:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s);r.default=class{constructor(e,t){o.default(this,"schema",void 0),o.default(this,"length",0),o.default(this,"allocated",0),o.default(this,"columns",{}),this.schema=e,this._reallocateColumns()}rowCount(){return this.length}addArrayRow(e){this._reallocateColumns();let t=0;for(const r in this.columns)this.columns[r][this.length]=e[t++];this.length++}addObjectRow(e){this._reallocateColumns();for(const t in e)this.columns[t][this.length]=e[t];this.length++}getBatch(){this._pruneColumns();const e=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(const t in this.schema){const r=this.schema[t];e[r.name]=this.columns[r.index]}this.columns={};return{shape:"columnar-table",batchType:"data",data:e,schema:this.schema,length:this.length}}_reallocateColumns(){if(!(this.length<this.allocated)){this.allocated=this.allocated>0?this.allocated*=2:100,this.columns={};for(const e in this.schema){const t=this.schema[e],r=t.type||Float32Array,n=this.columns[t.index];if(n&&ArrayBuffer.isView(n)){const e=new r(this.allocated);e.set(n),this.columns[t.index]=e}else n?(n.length=this.allocated,this.columns[t.index]=n):this.columns[t.index]=new r(this.allocated)}}}_pruneColumns(){for(const[e,t]of Object.entries(this.columns))this.columns[e]=t.slice(0,this.length)}}},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],g3FMX:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e){let t=0;for(const r in e){const n=e[r];ArrayBuffer.isView(n)&&(t+=n.byteLength*n.BYTES_PER_ELEMENT)}return t}function o(e){let t=1/0,r=1/0,n=1/0,s=-1/0,o=-1/0,i=-1/0;const a=e.POSITION?e.POSITION.value:[],l=a&&a.length;for(let e=0;e<l;e+=3){const l=a[e],c=a[e+1],u=a[e+2];t=l<t?l:t,r=c<r?c:r,n=u<n?u:n,s=l>s?l:s,o=c>o?c:o,i=u>i?u:i}return[[t,r,n],[s,o,i]]}n.defineInteropFlag(r),n.export(r,"getMeshSize",(()=>s)),n.export(r,"getMeshBoundingBox",(()=>o))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ivhPb:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"Schema",(()=>o.default)),n.export(r,"Field",(()=>a.default)),n.export(r,"Type",(()=>l.Type)),n.export(r,"DataType",(()=>l.DataType)),n.export(r,"Null",(()=>l.Null)),n.export(r,"Bool",(()=>l.Bool)),n.export(r,"Int",(()=>l.Int)),n.export(r,"Int8",(()=>l.Int8)),n.export(r,"Int16",(()=>l.Int16)),n.export(r,"Int32",(()=>l.Int32)),n.export(r,"Int64",(()=>l.Int64)),n.export(r,"Uint8",(()=>l.Uint8)),n.export(r,"Uint16",(()=>l.Uint16)),n.export(r,"Uint32",(()=>l.Uint32)),n.export(r,"Uint64",(()=>l.Uint64)),n.export(r,"Float",(()=>l.Float)),n.export(r,"Float16",(()=>l.Float16)),n.export(r,"Float32",(()=>l.Float32)),n.export(r,"Float64",(()=>l.Float64)),n.export(r,"Binary",(()=>l.Binary)),n.export(r,"Utf8",(()=>l.Utf8)),n.export(r,"Date",(()=>l.Date)),n.export(r,"DateDay",(()=>l.DateDay)),n.export(r,"DateMillisecond",(()=>l.DateMillisecond)),n.export(r,"Time",(()=>l.Time)),n.export(r,"TimeSecond",(()=>l.TimeSecond)),n.export(r,"TimeMillisecond",(()=>l.TimeMillisecond)),n.export(r,"Timestamp",(()=>l.Timestamp)),n.export(r,"TimestampSecond",(()=>l.TimestampSecond)),n.export(r,"TimestampMillisecond",(()=>l.TimestampMillisecond)),n.export(r,"TimestampMicrosecond",(()=>l.TimestampMicrosecond)),n.export(r,"TimestampNanosecond",(()=>l.TimestampNanosecond)),n.export(r,"Interval",(()=>l.Interval)),n.export(r,"IntervalDayTime",(()=>l.IntervalDayTime)),n.export(r,"IntervalYearMonth",(()=>l.IntervalYearMonth)),n.export(r,"FixedSizeList",(()=>l.FixedSizeList));var s=e("./impl/schema"),o=n.interopDefault(s),i=e("./impl/field"),a=n.interopDefault(i),l=e("./impl/type")},{"./impl/schema":"nn0G2","./impl/field":"gS5Td","./impl/type":"UDAR4","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],nn0G2:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s),i=e("../../utils/assert");class a{constructor(e,t){o.default(this,"fields",void 0),o.default(this,"metadata",void 0),i.assert(Array.isArray(e)),function(e){const t={};for(const r of e)t[r.name]&&console.warn("Schema: duplicated field name",r.name,r),t[r.name]=!0}(e),this.fields=e,this.metadata=t||new Map}compareTo(e){if(this.metadata!==e.metadata)return!1;if(this.fields.length!==e.fields.length)return!1;for(let t=0;t<this.fields.length;++t)if(!this.fields[t].compareTo(e.fields[t]))return!1;return!0}select(...e){const t=Object.create(null);for(const r of e)t[r]=!0;const r=this.fields.filter((e=>t[e.name]));return new a(r,this.metadata)}selectAt(...e){const t=e.map((e=>this.fields[e])).filter(Boolean);return new a(t,this.metadata)}assign(e){let t,r=this.metadata;if(e instanceof a){const n=e;t=n.fields,r=l(l(new Map,this.metadata),n.metadata)}else t=e;const n=Object.create(null);for(const e of this.fields)n[e.name]=e;for(const e of t)n[e.name]=e;const s=Object.values(n);return new a(s,r)}}function l(e,t){return new Map([...e||new Map,...t||new Map])}r.default=a},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","../../utils/assert":"iVFRa","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],iVFRa:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t){if(!e)throw new Error(t||"loader assertion failed.")}n.defineInteropFlag(r),n.export(r,"assert",(()=>s))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],gS5Td:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s);class i{constructor(e,t,r=!1,n=new Map){o.default(this,"name",void 0),o.default(this,"type",void 0),o.default(this,"nullable",void 0),o.default(this,"metadata",void 0),this.name=e,this.type=t,this.nullable=r,this.metadata=n}get typeId(){return this.type&&this.type.typeId}clone(){return new i(this.name,this.type,this.nullable,this.metadata)}compareTo(e){return this.name===e.name&&this.type===e.type&&this.nullable===e.nullable&&this.metadata===e.metadata}toString(){return`${this.type}${this.nullable?", nullable":""}${this.metadata?`, metadata: ${this.metadata}`:""}`}}r.default=i},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],UDAR4:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"Type",(()=>i.Type)),n.export(r,"DataType",(()=>f)),n.export(r,"Null",(()=>m)),n.export(r,"Bool",(()=>g)),n.export(r,"Int",(()=>y)),n.export(r,"Int8",(()=>b)),n.export(r,"Int16",(()=>v)),n.export(r,"Int32",(()=>x)),n.export(r,"Int64",(()=>_)),n.export(r,"Uint8",(()=>w)),n.export(r,"Uint16",(()=>P)),n.export(r,"Uint32",(()=>E)),n.export(r,"Uint64",(()=>A)),n.export(r,"Float",(()=>C)),n.export(r,"Float16",(()=>I)),n.export(r,"Float32",(()=>M)),n.export(r,"Float64",(()=>k)),n.export(r,"Binary",(()=>L)),n.export(r,"Utf8",(()=>F)),n.export(r,"Date",(()=>O)),n.export(r,"DateDay",(()=>N)),n.export(r,"DateMillisecond",(()=>D)),n.export(r,"Time",(()=>U)),n.export(r,"TimeSecond",(()=>z)),n.export(r,"TimeMillisecond",(()=>H)),n.export(r,"Timestamp",(()=>V)),n.export(r,"TimestampSecond",(()=>G)),n.export(r,"TimestampMillisecond",(()=>W)),n.export(r,"TimestampMicrosecond",(()=>Y)),n.export(r,"TimestampNanosecond",(()=>X)),n.export(r,"Interval",(()=>Z)),n.export(r,"IntervalDayTime",(()=>Q)),n.export(r,"IntervalYearMonth",(()=>K)),n.export(r,"FixedSizeList",(()=>$));var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s),i=e("./enum");let a,l,c,u,p,d,h;class f{static isNull(e){return e&&e.typeId===i.Type.Null}static isInt(e){return e&&e.typeId===i.Type.Int}static isFloat(e){return e&&e.typeId===i.Type.Float}static isBinary(e){return e&&e.typeId===i.Type.Binary}static isUtf8(e){return e&&e.typeId===i.Type.Utf8}static isBool(e){return e&&e.typeId===i.Type.Bool}static isDecimal(e){return e&&e.typeId===i.Type.Decimal}static isDate(e){return e&&e.typeId===i.Type.Date}static isTime(e){return e&&e.typeId===i.Type.Time}static isTimestamp(e){return e&&e.typeId===i.Type.Timestamp}static isInterval(e){return e&&e.typeId===i.Type.Interval}static isList(e){return e&&e.typeId===i.Type.List}static isStruct(e){return e&&e.typeId===i.Type.Struct}static isUnion(e){return e&&e.typeId===i.Type.Union}static isFixedSizeBinary(e){return e&&e.typeId===i.Type.FixedSizeBinary}static isFixedSizeList(e){return e&&e.typeId===i.Type.FixedSizeList}static isMap(e){return e&&e.typeId===i.Type.Map}static isDictionary(e){return e&&e.typeId===i.Type.Dictionary}get typeId(){return i.Type.NONE}compareTo(e){return this===e}}class m extends f{get typeId(){return i.Type.Null}get[Symbol.toStringTag](){return"Null"}toString(){return"Null"}}class g extends f{get typeId(){return i.Type.Bool}get[Symbol.toStringTag](){return"Bool"}toString(){return"Bool"}}a=Symbol.toStringTag;class y extends f{constructor(e,t){super(),o.default(this,"isSigned",void 0),o.default(this,"bitWidth",void 0),this.isSigned=e,this.bitWidth=t}get typeId(){return i.Type.Int}get[a](){return"Int"}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}class b extends y{constructor(){super(!0,8)}}class v extends y{constructor(){super(!0,16)}}class x extends y{constructor(){super(!0,32)}}class _ extends y{constructor(){super(!0,64)}}class w extends y{constructor(){super(!1,8)}}class P extends y{constructor(){super(!1,16)}}class E extends y{constructor(){super(!1,32)}}class A extends y{constructor(){super(!1,64)}}const T=16,S=32,j=64;l=Symbol.toStringTag;class C extends f{constructor(e){super(),o.default(this,"precision",void 0),this.precision=e}get typeId(){return i.Type.Float}get[l](){return"Float"}toString(){return`Float${this.precision}`}}class I extends C{constructor(){super(T)}}class M extends C{constructor(){super(S)}}class k extends C{constructor(){super(j)}}class L extends f{constructor(){super()}get typeId(){return i.Type.Binary}toString(){return"Binary"}get[Symbol.toStringTag](){return"Binary"}}class F extends f{get typeId(){return i.Type.Utf8}get[Symbol.toStringTag](){return"Utf8"}toString(){return"Utf8"}}const R={DAY:0,MILLISECOND:1};c=Symbol.toStringTag;class O extends f{constructor(e){super(),o.default(this,"unit",void 0),this.unit=e}get typeId(){return i.Type.Date}get[c](){return"Date"}toString(){return`Date${32*(this.unit+1)}<${R[this.unit]}>`}}class N extends O{constructor(){super(R.DAY)}}class D extends O{constructor(){super(R.MILLISECOND)}}const B={SECOND:1,MILLISECOND:1e3,MICROSECOND:1e6,NANOSECOND:1e9};u=Symbol.toStringTag;class U extends f{constructor(e,t){super(),o.default(this,"unit",void 0),o.default(this,"bitWidth",void 0),this.unit=e,this.bitWidth=t}get typeId(){return i.Type.Time}toString(){return`Time${this.bitWidth}<${B[this.unit]}>`}get[u](){return"Time"}}class z extends U{constructor(){super(B.SECOND,32)}}class H extends U{constructor(){super(B.MILLISECOND,32)}}p=Symbol.toStringTag;class V extends f{constructor(e,t=null){super(),o.default(this,"unit",void 0),o.default(this,"timezone",void 0),this.unit=e,this.timezone=t}get typeId(){return i.Type.Timestamp}get[p](){return"Timestamp"}toString(){return`Timestamp<${B[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}class G extends V{constructor(e=null){super(B.SECOND,e)}}class W extends V{constructor(e=null){super(B.MILLISECOND,e)}}class Y extends V{constructor(e=null){super(B.MICROSECOND,e)}}class X extends V{constructor(e=null){super(B.NANOSECOND,e)}}const q={DAY_TIME:0,YEAR_MONTH:1};d=Symbol.toStringTag;class Z extends f{constructor(e){super(),o.default(this,"unit",void 0),this.unit=e}get typeId(){return i.Type.Interval}get[d](){return"Interval"}toString(){return`Interval<${q[this.unit]}>`}}class Q extends Z{constructor(){super(q.DAY_TIME)}}class K extends Z{constructor(){super(q.YEAR_MONTH)}}h=Symbol.toStringTag;class $ extends f{constructor(e,t){super(),o.default(this,"listSize",void 0),o.default(this,"children",void 0),this.listSize=e,this.children=[t]}get typeId(){return i.Type.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[h](){return"FixedSizeList"}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","./enum":"87efm","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"87efm":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");let s;n.defineInteropFlag(r),n.export(r,"Type",(()=>s)),function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"}(s||(s={}))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],eZzgw:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function s(e,t){const r=Array.isArray(e)?function(e){const t={};if(e.length){const r=e[0];for(const e in r){const n=r[e];t[e]=o(n)}}return t}(e):function(e){const t={};for(const r in e){const n=e[r];if(ArrayBuffer.isView(n))t[r]=n.constructor;else if(n.length){const e=n[0];t[r]=o(e)}t[r]=t[r]||null}return t}(e);return Object.assign(r,t)}function o(e){return e instanceof Date?Date:e instanceof Number?Float32Array:"string"==typeof e?String:null}n.defineInteropFlag(r),n.export(r,"deduceTableSchema",(()=>s))},{"@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"1ZAiS":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getTypeInfo",(()=>o));var s=e("../schema");function o(e){return{typeId:e.typeId,ArrayType:e.ArrayType,typeName:e.toString(),typeEnumName:a(e.typeId),precision:e.precision}}let i=null;function a(e){if(!i){i={};for(const e in s.Type)i[s.Type[e]]=e}return i[e]}},{"../schema":"ivhPb","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"4ckGl":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"getArrowTypeFromTypedArray",(()=>o));var s=e("../schema");function o(e){switch(e.constructor){case Int8Array:return new s.Int8;case Uint8Array:return new s.Uint8;case Int16Array:return new s.Int16;case Uint16Array:return new s.Uint16;case Int32Array:return new s.Int32;case Uint32Array:return new s.Uint32;case Float32Array:return new s.Float32;case Float64Array:return new s.Float64;default:throw new Error("array type not supported")}}},{"../schema":"ivhPb","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],aHhBg:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"takeAsync",(()=>l));var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s);let i;class a extends Array{enqueue(e){return this.push(e)}dequeue(){return this.shift()}}i=Symbol.asyncIterator;async function l(e,t=1/0){const r=[],n=e[Symbol.asyncIterator]();for(;r.length<t;){const{value:e,done:t}=await n.next();if(t)break;r.push(e)}return r}r.default=class{constructor(){o.default(this,"_values",void 0),o.default(this,"_settlers",void 0),o.default(this,"_closed",void 0),this._values=new a,this._settlers=new a,this._closed=!1}close(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}[i](){return this}enqueue(e){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const t=this._settlers.dequeue();e instanceof Error?t.reject(e):t.resolve({value:e})}else this._values.enqueue(e)}next(){if(this._values.length>0){const e=this._values.dequeue();return e instanceof Error?Promise.reject(e):Promise.resolve({value:e})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise(((e,t)=>{this._settlers.enqueue({resolve:e,reject:t})}))}}},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ftqio:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"makeSchemaFromAttributes",(()=>o));var s=e("@loaders.gl/schema");function o(e,t,r){const n=a(t.metadata),o=[],l=function(e){const t={};for(const r in e){const n=e[r];t[n.name||"undefined"]=n}return t}(t.attributes);for(const t in e){const r=i(t,e[t],l[t]);o.push(r)}if(r){const e=i("indices",r);o.push(e)}return new s.Schema(o,n)}function i(e,t,r){const n=r?a(r.metadata):void 0,o=s.getArrowTypeFromTypedArray(t.value);return new s.Field(e,new s.FixedSizeList(t.size,new s.Field("value",o)),!1,n)}function a(e){const t=new Map;for(const r in e)t.set(`${r}.string`,JSON.stringify(e[r]));return t}},{"@loaders.gl/schema":"8WQgS","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],dB6ot:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"loadDracoDecoderModule",(()=>p)),n.export(r,"loadDracoEncoderModule",(()=>d));var s=e("@loaders.gl/worker-utils");const o="https://www.gstatic.com/draco/versioned/decoders/1.4.1/draco_decoder.js",i="https://www.gstatic.com/draco/versioned/decoders/1.4.1/draco_wasm_wrapper.js",a="https://www.gstatic.com/draco/versioned/decoders/1.4.1/draco_decoder.wasm",l="https://raw.githubusercontent.com/google/draco/1.4.1/javascript/draco_encoder.js";let c,u;async function p(e){const t=e.modules||{};return c=t.draco3d?c||t.draco3d.createDecoderModule({}).then((e=>({draco:e}))):c||async function(e){let t,r;if("js"===(e.draco&&e.draco.decoderType))t=await s.loadLibrary(o,"draco",e);else[t,r]=await Promise.all([await s.loadLibrary(i,"draco",e),await s.loadLibrary(a,"draco",e)]);return t=t||globalThis.DracoDecoderModule,await function(e,t){const r={};t&&(r.wasmBinary=t);return new Promise((t=>{e({...r,onModuleLoaded:e=>t({draco:e})})}))}(t,r)}(e),await c}async function d(e){const t=e.modules||{};return u=t.draco3d?u||t.draco3d.createEncoderModule({}).then((e=>({draco:e}))):u||async function(e){let t=await s.loadLibrary(l,"draco",e);return t=t||globalThis.DracoEncoderModule,new Promise((e=>{t({onModuleLoaded:t=>e({draco:t})})}))}(e),await u}},{"@loaders.gl/worker-utils":"e1ju8","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],GyDu0:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"DracoWriter",(()=>a));var s=e("./lib/draco-builder"),o=n.interopDefault(s),i=e("./lib/draco-module-loader");const a={name:"DRACO",id:"draco",module:"draco",version:e("./lib/utils/version").VERSION,extensions:["drc"],encode:async function(e,t={}){const{draco:r}=await i.loadDracoEncoderModule(t),n=new o.default(r);try{return n.encodeSync(e,t.draco)}finally{n.destroy()}},options:{draco:{pointcloud:!1,attributeNameEntry:"name"}}}},{"./lib/draco-builder":"ijXZr","./lib/draco-module-loader":"dB6ot","./lib/utils/version":"eN35j","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],ijXZr:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r);var s=e("@babel/runtime/helpers/esm/defineProperty"),o=n.interopDefault(s);const i={POSITION:"POSITION",NORMAL:"NORMAL",COLOR_0:"COLOR",TEXCOORD_0:"TEX_COORD"},a=()=>{};function l(e){const t=e.size(),r=new ArrayBuffer(t),n=new Int8Array(r);for(let r=0;r<t;++r)n[r]=e.GetValue(r);return r}r.default=class{constructor(e){o.default(this,"draco",void 0),o.default(this,"dracoEncoder",void 0),o.default(this,"dracoMeshBuilder",void 0),o.default(this,"dracoMetadataBuilder",void 0),o.default(this,"log",void 0),this.draco=e,this.dracoEncoder=new this.draco.Encoder,this.dracoMeshBuilder=new this.draco.MeshBuilder,this.dracoMetadataBuilder=new this.draco.MetadataBuilder}destroy(){this.destroyEncodedObject(this.dracoMeshBuilder),this.destroyEncodedObject(this.dracoEncoder),this.destroyEncodedObject(this.dracoMetadataBuilder),this.dracoMeshBuilder=null,this.dracoEncoder=null,this.draco=null}destroyEncodedObject(e){e&&this.draco.destroy(e)}encodeSync(e,t={}){return this.log=a,this._setOptions(t),t.pointcloud?this._encodePointCloud(e,t):this._encodeMesh(e,t)}_getAttributesFromMesh(e){const t={...e,...e.attributes};return e.indices&&(t.indices=e.indices),t}_encodePointCloud(e,t){const r=new this.draco.PointCloud;t.metadata&&this._addGeometryMetadata(r,t.metadata);const n=this._getAttributesFromMesh(e);this._createDracoPointCloud(r,n,t);const s=new this.draco.DracoInt8Array;try{const e=this.dracoEncoder.EncodePointCloudToDracoBuffer(r,!1,s);if(!(e>0))throw new Error("Draco encoding failed.");return this.log(`DRACO encoded ${r.num_points()} points\n        with ${r.num_attributes()} attributes into ${e} bytes`),l(s)}finally{this.destroyEncodedObject(s),this.destroyEncodedObject(r)}}_encodeMesh(e,t){const r=new this.draco.Mesh;t.metadata&&this._addGeometryMetadata(r,t.metadata);const n=this._getAttributesFromMesh(e);this._createDracoMesh(r,n,t);const s=new this.draco.DracoInt8Array;try{const e=this.dracoEncoder.EncodeMeshToDracoBuffer(r,s);if(e<=0)throw new Error("Draco encoding failed.");return this.log(`DRACO encoded ${r.num_points()} points\n        with ${r.num_attributes()} attributes into ${e} bytes`),l(s)}finally{this.destroyEncodedObject(s),this.destroyEncodedObject(r)}}_setOptions(e){if("speed"in e&&this.dracoEncoder.SetSpeedOptions(...e.speed),"method"in e){const t=this.draco[e.method||"MESH_SEQUENTIAL_ENCODING"];this.dracoEncoder.SetEncodingMethod(t)}if("quantization"in e)for(const t in e.quantization){const r=e.quantization[t],n=this.draco[t];this.dracoEncoder.SetAttributeQuantization(n,r)}}_createDracoMesh(e,t,r){const n=r.attributesMetadata||{};try{const r=this._getPositionAttribute(t);if(!r)throw new Error("positions");const s=r.length/3;for(let r in t){const o=t[r];r=i[r]||r;const a=this._addAttributeToMesh(e,r,o,s);-1!==a&&this._addAttributeMetadata(e,a,{name:r,...n[r]||{}})}}catch(t){throw this.destroyEncodedObject(e),t}return e}_createDracoPointCloud(e,t,r){const n=r.attributesMetadata||{};try{const r=this._getPositionAttribute(t);if(!r)throw new Error("positions");const s=r.length/3;for(let r in t){const o=t[r];r=i[r]||r;const a=this._addAttributeToMesh(e,r,o,s);-1!==a&&this._addAttributeMetadata(e,a,{name:r,...n[r]||{}})}}catch(t){throw this.destroyEncodedObject(e),t}return e}_addAttributeToMesh(e,t,r,n){if(!ArrayBuffer.isView(r))return-1;const s=this._getDracoAttributeType(t),o=r.length/n;if("indices"===s){const n=r.length/3;return this.log(`Adding attribute ${t}, size ${n}`),this.dracoMeshBuilder.AddFacesToMesh(e,n,r),-1}this.log(`Adding attribute ${t}, size ${o}`);const i=this.dracoMeshBuilder,{buffer:a}=r;switch(r.constructor){case Int8Array:return i.AddInt8Attribute(e,s,n,o,new Int8Array(a));case Int16Array:return i.AddInt16Attribute(e,s,n,o,new Int16Array(a));case Int32Array:return i.AddInt32Attribute(e,s,n,o,new Int32Array(a));case Uint8Array:case Uint8ClampedArray:return i.AddUInt8Attribute(e,s,n,o,new Uint8Array(a));case Uint16Array:return i.AddUInt16Attribute(e,s,n,o,new Uint16Array(a));case Uint32Array:return i.AddUInt32Attribute(e,s,n,o,new Uint32Array(a));case Float32Array:default:return i.AddFloatAttribute(e,s,n,o,new Float32Array(a))}}_getDracoAttributeType(e){switch(e.toLowerCase()){case"indices":return"indices";case"position":case"positions":case"vertices":return this.draco.POSITION;case"normal":case"normals":return this.draco.NORMAL;case"color":case"colors":return this.draco.COLOR;case"texcoord":case"texcoords":return this.draco.TEX_COORD;default:return this.draco.GENERIC}}_getPositionAttribute(e){for(const t in e){const r=e[t];if(this._getDracoAttributeType(t)===this.draco.POSITION)return r}return null}_addGeometryMetadata(e,t){const r=new this.draco.Metadata;this._populateDracoMetadata(r,t),this.dracoMeshBuilder.AddMetadata(e,r)}_addAttributeMetadata(e,t,r){const n=new this.draco.Metadata;this._populateDracoMetadata(n,r),this.dracoMeshBuilder.SetMetadataForAttribute(e,t,n)}_populateDracoMetadata(e,t){for(const[n,s]of(r=t).entries&&!r.hasOwnProperty("entries")?r.entries():Object.entries(r))switch(typeof s){case"number":Math.trunc(s)===s?this.dracoMetadataBuilder.AddIntEntry(e,n,s):this.dracoMetadataBuilder.AddDoubleEntry(e,n,s);break;case"object":s instanceof Int32Array&&this.dracoMetadataBuilder.AddIntEntryArray(e,n,s,s.length);break;default:this.dracoMetadataBuilder.AddStringEntry(e,n,s)}var r}}},{"@babel/runtime/helpers/esm/defineProperty":"g2kFJ","@parcel/transformer-js/src/esmodule-helpers.js":"hHxEl"}],"7lcIW":[function(e,t,r){t.exports=JSON.parse('[{"name":"North Bridge Garden","type":"park","position":[103.86215,1.30411]},{"name":"Istana Park","type":"park","position":[103.84384,1.29926]},{"name":"Toa Payoh Town Park","type":"park","position":[103.84797,1.33058]},{"name":"Kim Seng Park","type":"park","position":[103.83496,1.29284]},{"name":"Mount Sinai Plain Playground","type":"park","position":[103.78122,1.31571]},{"name":"Thomson Park","type":"park","position":[103.83436,1.35429]},{"name":"Holland Grove View Playground","type":"park","position":[103.78123,1.31295]},{"name":"Dhoby Ghaut Green","type":"park","position":[103.84588,1.29834]},{"name":"Mount Emily Park","type":"park","position":[103.84746,1.3045]},{"name":"Coronation Park Playground","type":"park","position":[103.7964,1.32203]},{"name":"The Inglewood Playground","type":"park","position":[103.83017,1.36101]},{"name":"Duchess Park","type":"park","position":[103.80548,1.32429]},{"name":"Clover Crescent Playground","type":"park","position":[103.84462,1.35106]},{"name":"Binchang Rise Playground","type":"park","position":[103.84355,1.34867]},{"name":"Taman Permata Park","type":"park","position":[103.83517,1.35016]},{"name":"Hua Guan Crescent Playground","type":"park","position":[103.78506,1.33701]},{"name":"Central Catchment Nature Reserve","type":"park","position":[103.80547,1.3773]},{"name":"Siang Kuang Avenue Interim Park","type":"park","position":[103.87305,1.32972]},{"name":"Somme Road Playground","type":"park","position":[103.85815,1.31148]},{"name":"Stamford Green","type":"park","position":[103.84886,1.29572]},{"name":"King\'s Drive  Playground","type":"park","position":[103.80606,1.31911]},{"name":"University Road Park","type":"park","position":[103.81767,1.32545]},{"name":"Greenleaf View Park Playground","type":"park","position":[103.78808,1.32229]},{"name":"Chestnut Nature Park","type":"park","position":[103.78084,1.37097]},{"name":"Telok Ayer Green","type":"park","position":[103.84764,1.28146]},{"name":"Ann Siang Hill Park","type":"park","position":[103.84612,1.28044]},{"name":"Duxton Plain Park","type":"park","position":[103.84142,1.28112]},{"name":"Cheng Soon Garden Playground","type":"park","position":[103.77168,1.33589]},{"name":"Jalan Tekukor Playground","type":"park","position":[103.76678,1.34614]},{"name":"Namly Park","type":"park","position":[103.79658,1.3233]},{"name":"Novena Rise Park","type":"park","position":[103.84273,1.32484]},{"name":"Hooper Road Playground","type":"park","position":[103.8432,1.3124]},{"name":"Chwee Chian Playground","type":"park","position":[103.78895,1.27921]},{"name":"Esplanade Park","type":"park","position":[103.8536,1.28942]},{"name":"Bishan-Ang Mo Kio Park","type":"park","position":[103.84729,1.36146]},{"name":"Arthur Park","type":"park","position":[103.88821,1.30338]},{"name":"one-north Park: Biopolis","type":"park","position":[103.79037,1.30428]},{"name":"Katong Park","type":"park","position":[103.88637,1.29717]},{"name":"Meyer Road Playground","type":"park","position":[103.8942,1.29857]},{"name":"Thomson Road Playground","type":"park","position":[103.84385,1.31615]},{"name":"Jacob Ballas Children\'s Garden","type":"park","position":[103.81792,1.32069]},{"name":"Jupiter Playground","type":"park","position":[103.82516,1.35827]},{"name":"Gentle Drive Playground","type":"park","position":[103.8407,1.32036]},{"name":"Goldhill Avenue Playground","type":"park","position":[103.83317,1.32113]},{"name":"Lorong 40 Geylang Playground","type":"park","position":[103.88937,1.31365]},{"name":"Telok Ayer Park","type":"park","position":[103.84669,1.27818]},{"name":"Aljunied Park","type":"park","position":[103.87996,1.32914]},{"name":"Jambol Place Park","type":"park","position":[103.79018,1.27903]},{"name":"Pearl\'s Hill City Park","type":"park","position":[103.83954,1.28238]},{"name":"Oasis@Mulberry Park","type":"park","position":[103.87844,1.33232]},{"name":"Haig Walk","type":"park","position":[103.90074,1.30652]},{"name":"Jalan Pintau Playground","type":"park","position":[103.83994,1.35404]},{"name":"Joo Chiat Terrace Interim Park","type":"park","position":[103.9017,1.31441]},{"name":"Orchid Village Playground","type":"park","position":[103.80171,1.3357]},{"name":"Clementi Crescent Playground","type":"park","position":[103.77326,1.3231]},{"name":"Pemimpin Place Playground","type":"park","position":[103.84272,1.35337]},{"name":"Soo Chow Walk Playground","type":"park","position":[103.83203,1.35365]},{"name":"Highgate Walk Playground","type":"park","position":[103.76598,1.34052]},{"name":"Island Gardens Walk Playground","type":"park","position":[103.82844,1.362]},{"name":"Marina Promenade","type":"park","position":[103.86468,1.29057]},{"name":"Ang Mo Kio Town Garden East","type":"park","position":[103.85029,1.37057]},{"name":"Holland Grove View Fitness Corner","type":"park","position":[103.78278,1.31248]},{"name":"Sixth Avenue Playground","type":"park","position":[103.79128,1.32244]},{"name":"War Memorial Park","type":"park","position":[103.85482,1.29282]},{"name":"Beng Wan Road Playground","type":"park","position":[103.86583,1.32381]},{"name":"Henry Park","type":"park","position":[103.78311,1.31623]},{"name":"River Valley Road / Clemenceau Avenue Open Space","type":"park","position":[103.84491,1.29309]},{"name":"Ang Mo Kio Town Garden West","type":"park","position":[103.84289,1.37402]},{"name":"Mayfair Park","type":"park","position":[103.78089,1.3414]},{"name":"Guillemard Road Open Space","type":"park","position":[103.8924,1.31455]},{"name":"Thomson Park Estate Interim Park","type":"park","position":[103.83403,1.35656]},{"name":"Jalan Kebaya Playground","type":"park","position":[103.78025,1.31411]},{"name":"Shelford Road Playground","type":"park","position":[103.81051,1.32834]},{"name":"Malcolm Park","type":"park","position":[103.82706,1.32299]},{"name":"Singapore Botanic Gardens","type":"park","position":[103.81625,1.31105]},{"name":"The Foothills Fort Canning Park","type":"park","position":[103.84569,1.29226]},{"name":"MacPherson Linear Park","type":"park","position":[103.88171,1.3338]},{"name":"Ganges Avenue Open Space","type":"park","position":[103.8318,1.29076]},{"name":"Chempaka Avenue Playground","type":"park","position":[103.87562,1.33187]},{"name":"Geylang East Park","type":"park","position":[103.88766,1.32177]},{"name":"Fort Canning Park","type":"park","position":[103.84661,1.29178]},{"name":"Watten Heights Playground","type":"park","position":[103.80899,1.3317]},{"name":"Grove Lane Playground","type":"park","position":[103.78421,1.31376]},{"name":"Carpmael Park","type":"park","position":[103.89895,1.3115]},{"name":"Orchard Fountain Corner","type":"park","position":[103.83761,1.30159]},{"name":"Holland Village Park","type":"park","position":[103.79554,1.31173]},{"name":"Waterboat House Garden","type":"park","position":[103.85347,1.28732]},{"name":"Rowell Road Open Space","type":"park","position":[103.85485,1.30842]},{"name":"Youth Olympic Park","type":"park","position":[103.86064,1.28849]},{"name":"Greenwood Crescent Playground","type":"park","position":[103.80549,1.33551]},{"name":"Berlayer Creek","type":"park","position":[103.80269,1.27236]},{"name":"Kim Pong Park","type":"park","position":[103.82998,1.28384]},{"name":"Novena Park","type":"park","position":[103.84281,1.32231]},{"name":"Golden Rise Playground","type":"park","position":[103.76487,1.33632]},{"name":"Hoover Park","type":"park","position":[103.77304,1.34386]},{"name":"Tanjong Katong Road South Playground","type":"park","position":[103.89732,1.30017]},{"name":"Kampong Glam Park","type":"park","position":[103.863,1.30244]},{"name":"Clover Way Playground","type":"park","position":[103.84596,1.35014]},{"name":"Empress Place","type":"park","position":[103.85196,1.28682]},{"name":"Marine Parade Road Park","type":"park","position":[103.90813,1.3049]},{"name":"Butterfly Avenue Playground","type":"park","position":[103.87734,1.33443]},{"name":"Marymount Terrace Playground","type":"park","position":[103.84036,1.34895]},{"name":"Carmichael Road Playground","type":"park","position":[103.86311,1.34262]},{"name":"Greenridge Crescent Playground","type":"park","position":[103.76576,1.33428]},{"name":"Fulton Avenue Playground","type":"park","position":[103.83353,1.36212]},{"name":"Savoy Park Playground","type":"park","position":[103.76999,1.33344]},{"name":"Eng Kong Place Fitness Corner","type":"park","position":[103.76725,1.33474]},{"name":"Bougainvillea Park","type":"park","position":[103.80766,1.32672]},{"name":"Holland Green Playground","type":"park","position":[103.78281,1.32686]},{"name":"Raffles Place Park","type":"park","position":[103.85133,1.28424]},{"name":"Hong Lim Park - Speakers\' Corner","type":"park","position":[103.84658,1.28664]},{"name":"Mount Batten Rd/Old Airport Rd Open Space","type":"park","position":[103.8833,1.30573]},{"name":"Wilkinson Interim Park","type":"park","position":[103.8873,1.30157]},{"name":"Bunga Rampai Park","type":"park","position":[103.88427,1.34045]},{"name":"Handy Road Open Space","type":"park","position":[103.84777,1.29897]},{"name":"Kitchener Green Playground","type":"park","position":[103.85953,1.3073]},{"name":"Penang Road Open Space","type":"park","position":[103.84124,1.3001]},{"name":"National Orchid Garden","type":"park","position":[103.81389,1.31267]},{"name":"Eng Kong Garden Playground","type":"park","position":[103.76916,1.33692]},{"name":"Sennett Avenue Open Space","type":"park","position":[103.93942,1.31878]},{"name":"Interim Park At Lengkong Enam","type":"park","position":[103.91474,1.32736]},{"name":"Pesari Walk Playground","type":"park","position":[103.95398,1.32443]},{"name":"Changi Heights Playground","type":"park","position":[103.97216,1.36285]},{"name":"Jalan Senang Playground","type":"park","position":[103.91566,1.329]},{"name":"Seletar Terrace Playground","type":"park","position":[103.86872,1.38147]},{"name":"Tai Hwan Terrace Playground","type":"park","position":[103.86039,1.35636]},{"name":"Chuan Lane Park","type":"park","position":[103.85817,1.35223]},{"name":"Telok Kurau Park","type":"park","position":[103.91429,1.31536]},{"name":"Tamarind Road Playground","type":"park","position":[103.86019,1.3897]},{"name":"Bangsawan Park","type":"park","position":[103.92384,1.32121]},{"name":"Ellington Square Playground","type":"park","position":[103.83453,1.372]},{"name":"Thrift Drive Open Space","type":"park","position":[103.88325,1.34389]},{"name":"Cactus Road Playground","type":"park","position":[103.85224,1.39011]},{"name":"Eastwood Park Playground","type":"park","position":[103.95762,1.32311]},{"name":"Serenade Walk Playground","type":"park","position":[103.83456,1.37992]},{"name":"Gelenggang Park","type":"park","position":[103.82986,1.37348]},{"name":"Park Villas Terrace Playground","type":"park","position":[103.88004,1.36898]},{"name":"Sunrise Terrace Open Space","type":"park","position":[103.85612,1.38826]},{"name":"Sunrise Close Playground","type":"park","position":[103.85751,1.38701]},{"name":"Thomson Walk Playground","type":"park","position":[103.8325,1.376]},{"name":"Mimosa Road Playground","type":"park","position":[103.86297,1.38426]},{"name":"Chartwell Drive Park","type":"park","position":[103.86387,1.35963]},{"name":"East Coast Park","type":"park","position":[103.9206,1.30317]},{"name":"Limau Garden Playground","type":"park","position":[103.95077,1.32245]},{"name":"Meragi Road Playground","type":"park","position":[103.96028,1.34438]},{"name":"Florissa Park Playground","type":"park","position":[103.83507,1.38695]},{"name":"Realty Park Playground","type":"park","position":[103.88983,1.3673]},{"name":"Pasir Ris Town Park","type":"park","position":[103.95238,1.37169]},{"name":"Bedok Ria Crescent Playground","type":"park","position":[103.95308,1.32742]},{"name":"Sennett Avenue Playground","type":"park","position":[103.93621,1.31701]},{"name":"Haus Linear Park","type":"park","position":[103.85979,1.36449]},{"name":"Lucky Gardens Playground","type":"park","position":[103.94138,1.31929]},{"name":"Bedok Town Park","type":"park","position":[103.92087,1.33433]},{"name":"Lentor Grove Playground","type":"park","position":[103.83832,1.38638]},{"name":"Telok Kurau Lorong N Park","type":"park","position":[103.9128,1.31032]},{"name":"Dedap Place Playground","type":"park","position":[103.86841,1.3878]},{"name":"Chuan Walk Playground","type":"park","position":[103.86755,1.35722]},{"name":"Bedok Reservoir Park","type":"park","position":[103.92681,1.33909]},{"name":"Jalan Riang Playground","type":"park","position":[103.8674,1.34711]},{"name":"Richards Avenue Park","type":"park","position":[103.88213,1.36093]},{"name":"Lorong Tanggam Park","type":"park","position":[103.87385,1.39903]},{"name":"Changi West Boardwalk","type":"park","position":[103.97588,1.39004]},{"name":"Parry Avenue Interim Park","type":"park","position":[103.88128,1.36407]},{"name":"Mei Hwan Crescent Playground","type":"park","position":[103.86174,1.35277]},{"name":"Mayflower Crescent Playground","type":"park","position":[103.83957,1.37272]},{"name":"Sunrise Drive Playground 1","type":"park","position":[103.85737,1.38831]},{"name":"Elias Terrace Playground","type":"park","position":[103.94109,1.37219]},{"name":"Kew Avenue Playground","type":"park","position":[103.94845,1.32163]},{"name":"Greenfield Drive Playground","type":"park","position":[103.91766,1.31303]},{"name":"Sun Plaza Park","type":"park","position":[103.94448,1.35926]},{"name":"Changi Point Ferry Terminal","type":"park","position":[103.9873,1.39123]},{"name":"Shangri-La Playground","type":"park","position":[103.83239,1.37102]},{"name":"Opera Estate Football Field","type":"park","position":[103.92446,1.3201]},{"name":"Lentor Vale Playground","type":"park","position":[103.83615,1.38805]},{"name":"Limau Villas Playground","type":"park","position":[103.95039,1.32385]},{"name":"Paya Lebar Crescent Open Space","type":"park","position":[103.88357,1.34897]},{"name":"Mugliston Park Playground","type":"park","position":[103.87791,1.38545]},{"name":"Punggol Waterway Park","type":"park","position":[103.90481,1.411]},{"name":"Sungei Api Api Park","type":"park","position":[103.94567,1.37873]},{"name":"Yio Chu Kang Gardens Playground","type":"park","position":[103.83749,1.38068]},{"name":"Tampines Eco Green","type":"park","position":[103.94869,1.36391]},{"name":"Mimosa Terrace Playground","type":"park","position":[103.86045,1.38405]},{"name":"Neram Crescent Playground","type":"park","position":[103.86574,1.38559]},{"name":"Changi Point Waterfront Park","type":"park","position":[103.98809,1.39065]},{"name":"Aida Park","type":"park","position":[103.92793,1.31938]},{"name":"Tai Keng Gardens Playground","type":"park","position":[103.885,1.34607]},{"name":"Realty Park","type":"park","position":[103.89036,1.36796]},{"name":"Changi Point Promenade","type":"park","position":[103.98919,1.39017]},{"name":"Aroozoo Avenue Playground","type":"park","position":[103.88595,1.3552]},{"name":"St. Anne\'s Wood Playground","type":"park","position":[103.90374,1.39164]},{"name":"Bedok Terrace Playground","type":"park","position":[103.94749,1.32553]},{"name":"Jalan Pelatok Open Space","type":"park","position":[103.96086,1.34617]},{"name":"Turnhouse Park","type":"park","position":[103.97898,1.3899]},{"name":"Coney Island Park","type":"park","position":[103.92313,1.40991]},{"name":"Stratton Walk Playground","type":"park","position":[103.86697,1.37924]},{"name":"Leban Park","type":"park","position":[103.82907,1.37276]},{"name":"Punggol Park","type":"park","position":[103.89865,1.37694]},{"name":"Kew Drive Playground","type":"park","position":[103.95175,1.32071]},{"name":"Harvey Crescent Playground","type":"park","position":[103.95519,1.34066]},{"name":"Poh Huat Road Playground","type":"park","position":[103.88161,1.36694]},{"name":"Lentor Street Playground","type":"park","position":[103.83428,1.3901]},{"name":"Lilac Drive Playground","type":"park","position":[103.86115,1.3811]},{"name":"Mei Hwan Drive Playground","type":"park","position":[103.86347,1.35335]},{"name":"Chuan Green Playground","type":"park","position":[103.86601,1.36048]},{"name":"Begonia Road Playground","type":"park","position":[103.86339,1.38786]},{"name":"Fudu Walk Playground","type":"park","position":[103.83723,1.38983]},{"name":"Countryside Playground","type":"park","position":[103.83859,1.39006]},{"name":"Jalan Pari Burong Playground","type":"park","position":[103.94694,1.33385]},{"name":"St. Nicholas View Playground","type":"park","position":[103.83278,1.37163]},{"name":"Waringin Park Playground","type":"park","position":[103.91918,1.32302]},{"name":"Tai Keng Place Playground","type":"park","position":[103.88484,1.34503]},{"name":"Parry Road Playground","type":"park","position":[103.8775,1.36603]},{"name":"Garden View Playground","type":"park","position":[103.86567,1.36042]},{"name":"Jalan Naung Playground","type":"park","position":[103.89282,1.36956]},{"name":"Lentor Walk Playground","type":"park","position":[103.83838,1.38863]},{"name":"Mariam Way Playground","type":"park","position":[103.9662,1.36195]},{"name":"Mariam Walk Playground","type":"park","position":[103.96855,1.35955]},{"name":"Thomson Green Playground","type":"park","position":[103.83262,1.37869]},{"name":"Surin Avenue Neighbourhood Park","type":"park","position":[103.88411,1.35556]},{"name":"Chiltern Drive Interim Park","type":"park","position":[103.86201,1.34856]},{"name":"Kew Crescent Playground","type":"park","position":[103.94859,1.31919]},{"name":"Lentor Green Playground","type":"park","position":[103.83706,1.38529]},{"name":"Nim Crescent Open Space","type":"park","position":[103.86684,1.38308]},{"name":"Colchester Grove Open Space","type":"park","position":[103.86745,1.35758]},{"name":"Tavistock Avenue Park","type":"park","position":[103.86536,1.37021]},{"name":"Elite Terrace Park","type":"park","position":[103.92431,1.3156]},{"name":"Jalan Selaseh Playground","type":"park","position":[103.87338,1.3856]},{"name":"Jalan Geneng Interim Park","type":"park","position":[103.88087,1.35334]},{"name":"Tanah Puteh Park","type":"park","position":[103.93143,1.31587]},{"name":"Jalan Pari Dedap Playground","type":"park","position":[103.94388,1.33302]},{"name":"Jalan Limau Kasturi Playground","type":"park","position":[103.94638,1.32398]},{"name":"Dew Garden","type":"park","position":[103.87106,1.39927]},{"name":"Sunrise Way Playground","type":"park","position":[103.85675,1.38766]},{"name":"Jalan Kelichap Playground","type":"park","position":[103.88182,1.34678]},{"name":"Interim Park at Terang Bulan Avenue","type":"park","position":[103.92158,1.32163]},{"name":"Sunbird Circle Playground","type":"park","position":[103.95823,1.33904]},{"name":"Jalan Pelatok Playground","type":"park","position":[103.96034,1.34609]},{"name":"Jalan Limau Kasturi Open Space","type":"park","position":[103.94623,1.32428]},{"name":"Changi East Boardwalk","type":"park","position":[103.98634,1.39179]},{"name":"Teacher\'s Estate Playground","type":"park","position":[103.8292,1.38199]},{"name":"East Coast Terrace Park","type":"park","position":[103.92381,1.311]},{"name":"Changi Beach Park","type":"park","position":[104.00167,1.3834]},{"name":"Jalan Chempaka Kuning Playground","type":"park","position":[103.95017,1.32975]},{"name":"Saraca Road Playground","type":"park","position":[103.85876,1.38594]},{"name":"Mimosa Walk Playground","type":"park","position":[103.86146,1.3831]},{"name":"Mera Terrace Playground","type":"park","position":[103.96351,1.3474]},{"name":"Jalan Angin Laut Playground","type":"park","position":[103.95622,1.33718]},{"name":"Sunrise Drive Playground 2","type":"park","position":[103.85525,1.3903]},{"name":"Punggol Waterway","type":"park","position":[103.9154,1.40223]},{"name":"Lentor Road Playground","type":"park","position":[103.83757,1.38829]},{"name":"Pasir Ris Park","type":"park","position":[103.95217,1.37868]},{"name":"Loyang View Playground","type":"park","position":[103.96564,1.36304]},{"name":"Jalan Buloh Perindu Playground","type":"park","position":[103.91938,1.30848]},{"name":"Tanah Merah Playground","type":"park","position":[103.94688,1.32903]},{"name":"Luxus Hills Park","type":"park","position":[103.87519,1.37949]},{"name":"Banyan Villas Playground","type":"park","position":[103.83883,1.38725]},{"name":"Taman Kembangan Playground","type":"park","position":[103.9144,1.325]},{"name":"Jalan Limau Manis Playground","type":"park","position":[103.94905,1.32473]},{"name":"Sunrise Place Playground","type":"park","position":[103.8566,1.38694]},{"name":"Seletar Terrace Playground","type":"park","position":[103.86872,1.38147]},{"name":"Upper Peirce Reservoir Park","type":"park","position":[103.81135,1.37451]},{"name":"Tai Hwan Terrace Playground","type":"park","position":[103.86039,1.35636]},{"name":"Woodlands Town Park East","type":"park","position":[103.77923,1.43652]},{"name":"Sungei Buloh Wetland Reserve","type":"park","position":[103.73547,1.44021]},{"name":"Sembawang Hot Spring Park","type":"park","position":[103.82265,1.43417]},{"name":"Tamarind Road Playground","type":"park","position":[103.86019,1.3897]},{"name":"Woodlands Waterfront Park","type":"park","position":[103.78011,1.4527]},{"name":"Ellington Square Playground","type":"park","position":[103.83453,1.372]},{"name":"Thrift Drive Open Space","type":"park","position":[103.88325,1.34389]},{"name":"Cactus Road Playground","type":"park","position":[103.85224,1.39011]},{"name":"Serenade Walk Playground","type":"park","position":[103.83456,1.37992]},{"name":"Gelenggang Park","type":"park","position":[103.82986,1.37348]},{"name":"Park Villas Terrace Playground","type":"park","position":[103.88004,1.36898]},{"name":"Jalan Kemuning Park","type":"park","position":[103.82696,1.43936]},{"name":"Sunrise Terrace Open Space","type":"park","position":[103.85612,1.38826]},{"name":"Sunrise Close Playground","type":"park","position":[103.85751,1.38701]},{"name":"Thomson Walk Playground","type":"park","position":[103.8325,1.376]},{"name":"Mimosa Road Playground","type":"park","position":[103.86297,1.38426]},{"name":"Chartwell Drive Park","type":"park","position":[103.86387,1.35963]},{"name":"Springside Park","type":"park","position":[103.82061,1.40567]},{"name":"Florissa Park Playground","type":"park","position":[103.83507,1.38695]},{"name":"Kranji Marshes","type":"park","position":[103.71989,1.42023]},{"name":"Janggus Garden","type":"park","position":[103.83698,1.45754]},{"name":"Realty Park Playground","type":"park","position":[103.88983,1.3673]},{"name":"Upper Seletar Reservoir Park","type":"park","position":[103.80572,1.39975]},{"name":"Thong Soon Green Playground","type":"park","position":[103.81845,1.40003]},{"name":"Lentor Grove Playground","type":"park","position":[103.83832,1.38638]},{"name":"Dedap Place Playground","type":"park","position":[103.86841,1.3878]},{"name":"Chuan Walk Playground","type":"park","position":[103.86755,1.35722]},{"name":"Springleaf Avenue Playground","type":"park","position":[103.82238,1.40087]},{"name":"Jalan Riang Playground","type":"park","position":[103.8674,1.34711]},{"name":"Yishun Neighbourhood Park","type":"park","position":[103.83508,1.43762]},{"name":"Richards Avenue Park","type":"park","position":[103.88213,1.36093]},{"name":"Lorong Tanggam Park","type":"park","position":[103.87385,1.39903]},{"name":"Parry Avenue Interim Park","type":"park","position":[103.88128,1.36407]},{"name":"Mei Hwan Crescent Playground","type":"park","position":[103.86174,1.35277]},{"name":"Mayflower Crescent Playground","type":"park","position":[103.83957,1.37272]},{"name":"Pebble Garden","type":"park","position":[103.82949,1.45064]},{"name":"Sunrise Drive Playground 1","type":"park","position":[103.85737,1.38831]},{"name":"Shangri-La Playground","type":"park","position":[103.83239,1.37102]},{"name":"Lentor Vale Playground","type":"park","position":[103.83615,1.38805]},{"name":"Paya Lebar Crescent Open Space","type":"park","position":[103.88357,1.34897]},{"name":"Kranji Nature Trail","type":"park","position":[103.73383,1.44435]},{"name":"Sembawang Park","type":"park","position":[103.83684,1.4615]},{"name":"Sengkang Riverside Park","type":"park","position":[103.88433,1.39945]},{"name":"Brooks Park","type":"park","position":[103.82272,1.40558]},{"name":"Mugliston Park Playground","type":"park","position":[103.87791,1.38545]},{"name":"Punggol Waterway Park","type":"park","position":[103.90481,1.411]},{"name":"Yio Chu Kang Gardens Playground","type":"park","position":[103.83749,1.38068]},{"name":"Mimosa Terrace Playground","type":"park","position":[103.86045,1.38405]},{"name":"Neram Crescent Playground","type":"park","position":[103.86574,1.38559]},{"name":"Platina Road Playground","type":"park","position":[103.82612,1.42754]},{"name":"Springleaf Nature Park","type":"park","position":[103.81747,1.40116]},{"name":"Tai Keng Gardens Playground","type":"park","position":[103.885,1.34607]},{"name":"Kranji Reservoir Park","type":"park","position":[103.74006,1.43881]},{"name":"Kandis Garden","type":"park","position":[103.83567,1.45622]},{"name":"Windsor Nature Park","type":"park","position":[103.82695,1.36003]},{"name":"Aroozoo Avenue Playground","type":"park","position":[103.88595,1.3552]},{"name":"St. Anne\'s Wood Playground","type":"park","position":[103.90374,1.39164]},{"name":"Stratton Walk Playground","type":"park","position":[103.86697,1.37924]},{"name":"Leban Park","type":"park","position":[103.82907,1.37276]},{"name":"Punggol Park","type":"park","position":[103.89865,1.37694]},{"name":"Poh Huat Road Playground","type":"park","position":[103.88161,1.36694]},{"name":"Lentor Street Playground","type":"park","position":[103.83428,1.3901]},{"name":"Lilac Drive Playground","type":"park","position":[103.86115,1.3811]},{"name":"Mei Hwan Drive Playground","type":"park","position":[103.86347,1.35335]},{"name":"Chuan Green Playground","type":"park","position":[103.86601,1.36048]},{"name":"Begonia Road Playground","type":"park","position":[103.86339,1.38786]},{"name":"Fudu Walk Playground","type":"park","position":[103.83723,1.38983]},{"name":"Lower Seletar Reservoir Park","type":"park","position":[103.83217,1.40997]},{"name":"Countryside Playground","type":"park","position":[103.83859,1.39006]},{"name":"St. Nicholas View Playground","type":"park","position":[103.83278,1.37163]},{"name":"Tai Keng Place Playground","type":"park","position":[103.88484,1.34503]},{"name":"Parry Road Playground","type":"park","position":[103.8775,1.36603]},{"name":"Garden View Playground","type":"park","position":[103.86567,1.36042]},{"name":"Jalan Naung Playground","type":"park","position":[103.89282,1.36956]},{"name":"Springleaf Garden Playground","type":"park","position":[103.82232,1.39804]},{"name":"Lentor Walk Playground","type":"park","position":[103.83838,1.38863]},{"name":"Admiralty Park","type":"park","position":[103.78206,1.44417]},{"name":"Thomson Green Playground","type":"park","position":[103.83262,1.37869]},{"name":"Surin Avenue Neighbourhood Park","type":"park","position":[103.88411,1.35556]},{"name":"Yishun Pond Park","type":"park","position":[103.83949,1.4276]},{"name":"Jalan Rasok Park","type":"park","position":[103.75904,1.41651]},{"name":"Chiltern Drive Interim Park","type":"park","position":[103.86201,1.34856]},{"name":"Lentor Green Playground","type":"park","position":[103.83706,1.38529]},{"name":"Nim Crescent Open Space","type":"park","position":[103.86684,1.38308]},{"name":"Colchester Grove Open Space","type":"park","position":[103.86745,1.35758]},{"name":"Tavistock Avenue Park","type":"park","position":[103.86536,1.37021]},{"name":"Jalan Selaseh Playground","type":"park","position":[103.87338,1.3856]},{"name":"Jalan Geneng Interim Park","type":"park","position":[103.88087,1.35334]},{"name":"Dew Garden","type":"park","position":[103.87106,1.39927]},{"name":"Sunrise Way Playground","type":"park","position":[103.85675,1.38766]},{"name":"Jalan Kelichap Playground","type":"park","position":[103.88182,1.34678]},{"name":"Goodlink Park Playground","type":"park","position":[103.82535,1.42728]},{"name":"Yishun Park","type":"park","position":[103.84261,1.42438]},{"name":"Teacher\'s Estate Playground","type":"park","position":[103.8292,1.38199]},{"name":"Lower Peirce Reservoir Park","type":"park","position":[103.8263,1.36906]},{"name":"Saraca Road Playground","type":"park","position":[103.85876,1.38594]},{"name":"Mimosa Walk Playground","type":"park","position":[103.86146,1.3831]},{"name":"Sunrise Drive Playground 2","type":"park","position":[103.85525,1.3903]},{"name":"Punggol Waterway","type":"park","position":[103.9154,1.40223]},{"name":"Lentor Road Playground","type":"park","position":[103.83757,1.38829]},{"name":"Luxus Hills Park","type":"park","position":[103.87519,1.37949]},{"name":"Banyan Villas Playground","type":"park","position":[103.83883,1.38725]},{"name":"Sunrise Place Playground","type":"park","position":[103.8566,1.38694]},{"name":"Marsiling Park","type":"park","position":[103.76993,1.43763]},{"name":"Pulau Ubin and Chek Jawa","type":"park","position":[103.96542,1.40869]},{"name":"Kent Ridge Park","type":"park","position":[103.79032,1.28435]},{"name":"Sisters‚Äô Islands Marine Park","type":"park","position":[103.83481,1.21406]},{"name":"Telok Blangah Hill Park","type":"park","position":[103.81054,1.27884]},{"name":"Labrador Nature Reserve","type":"park","position":[103.80313,1.26576]},{"name":"HortPark","type":"park","position":[103.80148,1.27863]},{"name":"Kallang Riverside Park","type":"park","position":[103.86698,1.30579]},{"name":"Empress Place","type":"park","position":[103.85196,1.28682]},{"name":"Mount Faber Park","type":"park","position":[103.81822,1.27528]},{"name":"The Southern Ridges","type":"park","position":[103.80483,1.27988]},{"name":"Tiong Bahru Park","type":"park","position":[103.82403,1.28762]},{"name":"Clementi Woods Park","type":"park","position":[103.76762,1.29893]},{"name":"Jalan Mas Puteh Playground","type":"park","position":[103.76203,1.30899]},{"name":"West Coast Park","type":"park","position":[103.763,1.29615]},{"name":"one-north Park: Fusionopolis South","type":"park","position":[103.79072,1.29961]},{"name":"Cashew Crescent Fitness Corner Playground","type":"park","position":[103.76949,1.37224]},{"name":"Fuyong Interim Park","type":"park","position":[103.76854,1.35741]},{"name":"Choa Chu Kang Park","type":"park","position":[103.74843,1.38914]},{"name":"Hazel Park Open Space","type":"park","position":[103.76364,1.37163]},{"name":"Jalan Mas Kuning Playground","type":"park","position":[103.76361,1.30781]},{"name":"Sunset Heights Open Space","type":"park","position":[103.76887,1.32794]},{"name":"Almond Crescent Playground","type":"park","position":[103.77188,1.37321]},{"name":"Phoenix Heights Playground","type":"park","position":[103.75724,1.37589]},{"name":"Lakeside Grove Playground","type":"park","position":[103.71859,1.34007]},{"name":"one-north Park: Rochester West","type":"park","position":[103.78803,1.30611]},{"name":"Yunnan Park","type":"park","position":[103.6929,1.33748]},{"name":"Bukit Batok Town Park","type":"park","position":[103.75607,1.35736]},{"name":"Jalan Remaja Interim Park","type":"park","position":[103.76078,1.35758]},{"name":"Pandan Reservoir Fitness Corner","type":"park","position":[103.7487,1.31755]},{"name":"Bukit Timah Nature Reserve","type":"park","position":[103.77403,1.3532]},{"name":"one-north Park: Mediapolis","type":"park","position":[103.79283,1.29494]},{"name":"Lakeside Grove Fitness Corner","type":"park","position":[103.71716,1.3398]},{"name":"Westwood Park Playground","type":"park","position":[103.70105,1.35177]},{"name":"Cashew Road Playground","type":"park","position":[103.76467,1.3706]},{"name":"Chu Yen Playground","type":"park","position":[103.75902,1.35864]},{"name":"Hillview Crescent Playground","type":"park","position":[103.76102,1.35536]},{"name":"Sunset Way Playground","type":"park","position":[103.76641,1.32679]},{"name":"Jurong Lake Gardens","type":"park","position":[103.73116,1.33606]},{"name":"Bukit Gombak Park","type":"park","position":[103.75245,1.36729]},{"name":"one-north Park: Fusionopolis North","type":"park","position":[103.79063,1.301]},{"name":"Taman Mas Merah Playground","type":"park","position":[103.76476,1.30875]},{"name":"Cashew Link Playground","type":"park","position":[103.76892,1.37136]},{"name":"Hindhede Nature Park","type":"park","position":[103.77601,1.3502]},{"name":"Faber Hill Playground","type":"park","position":[103.75798,1.31977]},{"name":"Burgundy Crescent Playground","type":"park","position":[103.7609,1.33983]},{"name":"Lorong Kemunchup Playground","type":"park","position":[103.76096,1.36042]},{"name":"Dairy Farm Nature Park","type":"park","position":[103.77391,1.36271]},{"name":"Chestnut Drive Playground","type":"park","position":[103.76883,1.36763]},{"name":"Sunset Way Park","type":"park","position":[103.76478,1.32769]},{"name":"Pavilion Park Playground","type":"park","position":[103.75198,1.37229]},{"name":"Pasir Panjang Park","type":"park","position":[103.79202,1.27563]},{"name":"West Coast Green Playground","type":"park","position":[103.75636,1.31556]},{"name":"Jalan Dermawan Playground","type":"park","position":[103.75861,1.36064]},{"name":"one-north Park: Rochester East","type":"park","position":[103.78916,1.30558]},{"name":"Jurong Central Park","type":"park","position":[103.70788,1.33802]},{"name":"Faber Height Open Space","type":"park","position":[103.75767,1.3225]},{"name":"West Coast Place Playground","type":"park","position":[103.75845,1.31425]},{"name":"Westville Playground","type":"park","position":[103.69864,1.35424]},{"name":"Villa Verde Park","type":"park","position":[103.75141,1.38955]},{"name":"Bukit Batok Nature Park","type":"park","position":[103.76547,1.34754]},{"name":"Chestnut Close Playground","type":"park","position":[103.77336,1.36927]},{"name":"Mount Pleasant Road","type":"hroad","position":[103.83525,1.33229]},{"name":"Arcadia Road","type":"hroad","position":[103.81211,1.33384]},{"name":"South Buona Vista Road","type":"hroad","position":[103.78503,1.28711]},{"name":"Mandai Road","type":"hroad","position":[103.80731,1.40777]},{"name":"Lim Chu Kang Road","type":"hroad","position":[103.70099,1.40969]},{"name":"Balestier Point","type":"srgreenery","position":[103.85197,1.3227]},{"name":"NUS School of Design and Environment SDE1","type":"srgreenery","position":[103.77092,1.29746]},{"name":"St Andrew Autism Centre","type":"srgreenery","position":[103.88143,1.30867]},{"name":"Joo Chiat Complex","type":"srgreenery","position":[103.89876,1.31554]},{"name":"The Clift","type":"srgreenery","position":[103.84733,1.2794]},{"name":"Hotel Intercontinental Singapore","type":"srgreenery","position":[103.85487,1.29847]},{"name":"New Town Primary School","type":"srgreenery","position":[103.79835,1.30348]},{"name":"Ocean Financial Centre","type":"srgreenery","position":[103.85184,1.28298]},{"name":"Pollen, Gardens By The Bay","type":"srgreenery","position":[103.86466,1.28459]},{"name":"Hong Wen Primary School","type":"srgreenery","position":[103.85796,1.32109]},{"name":"Bras Basah Complex","type":"srgreenery","position":[103.85353,1.29701]},{"name":"Apollo Centre","type":"srgreenery","position":[103.84515,1.28715]},{"name":"Carlton Hotel","type":"srgreenery","position":[103.85252,1.29593]},{"name":"Odeon Towers","type":"srgreenery","position":[103.85325,1.29604]},{"name":"Bishan Parkinson Disease","type":"srgreenery","position":[103.85137,1.35054]},{"name":"HDB Residential","type":"srgreenery","position":[103.84312,1.27712]},{"name":"Watermark Condominium","type":"srgreenery","position":[103.83801,1.29037]},{"name":"Hilton Hotel","type":"srgreenery","position":[103.82931,1.30588]},{"name":"UE Square","type":"srgreenery","position":[103.8427,1.29203]},{"name":"Toa Payoh Polyclinic","type":"srgreenery","position":[103.85896,1.33448]},{"name":"National Junior College","type":"srgreenery","position":[103.80411,1.33029]},{"name":"NTTS Pte Ltd (Mapletree Business City)","type":"srgreenery","position":[103.79907,1.27481]},{"name":"Esplanade Mall","type":"srgreenery","position":[103.8548,1.29037]},{"name":"Mandarin Oriental Singapore","type":"srgreenery","position":[103.85832,1.29066]},{"name":"50 Scotts Road","type":"srgreenery","position":[103.83709,1.31089]},{"name":"Naumi Hotel","type":"srgreenery","position":[103.85518,1.29587]},{"name":"Geylang East Home for the Aged","type":"srgreenery","position":[103.88567,1.3213]},{"name":"Singapore Flyer","type":"srgreenery","position":[103.86292,1.28907]},{"name":"Albert Center","type":"srgreenery","position":[103.85408,1.30105]},{"name":"Duman High School","type":"srgreenery","position":[103.88294,1.29996]},{"name":"158 Cecil St","type":"srgreenery","position":[103.84804,1.27979]},{"name":"Singapore General Hospital","type":"srgreenery","position":[103.834,1.27854]},{"name":"140 Arab Street (Amaris B Clinic)","type":"srgreenery","position":[103.85812,1.30258]},{"name":"Holiday Inn Park View","type":"srgreenery","position":[103.8411,1.30228]},{"name":"Equity Plaza","type":"srgreenery","position":[103.85046,1.28305]},{"name":"Fusionopolis at One North Development","type":"srgreenery","position":[103.78735,1.29906]},{"name":"M Hotel","type":"srgreenery","position":[103.84506,1.27369]},{"name":"Bishan Junction 8","type":"srgreenery","position":[103.84848,1.35024]},{"name":"One Raffles Place","type":"srgreenery","position":[103.85098,1.28434]},{"name":"City Square Mall","type":"srgreenery","position":[103.85649,1.31139]},{"name":"Singapore polytechnic","type":"srgreenery","position":[103.77595,1.31161]},{"name":"SMU School of Accountancy","type":"srgreenery","position":[103.84973,1.29573]},{"name":"Four Seasons Hotel","type":"srgreenery","position":[103.82865,1.30521]},{"name":"Orchard Parade Hotel","type":"srgreenery","position":[103.82774,1.30657]},{"name":"City House","type":"srgreenery","position":[103.84978,1.28122]},{"name":"GMG Global","type":"srgreenery","position":[103.85121,1.27889]},{"name":"Queensway Secondary School","type":"srgreenery","position":[103.80172,1.30047]},{"name":"Craig Place","type":"srgreenery","position":[103.84237,1.27804]},{"name":"Subaru Hub","type":"srgreenery","position":[103.85908,1.34013]},{"name":"Novena Square","type":"srgreenery","position":[103.84415,1.31931]},{"name":"Conrad Centennial Singapore","type":"srgreenery","position":[103.85877,1.29352]},{"name":"Millenia Walk","type":"srgreenery","position":[103.85934,1.29296]},{"name":"CSIT Building","type":"srgreenery","position":[103.7824,1.286]},{"name":"Liberty House (Liberty Insurance Pte Ltd)","type":"srgreenery","position":[103.84601,1.28195]},{"name":"CHIJ Secondary (Toa Payoh)","type":"srgreenery","position":[103.84272,1.33246]},{"name":"Palais Renaissance","type":"srgreenery","position":[103.82959,1.30665]},{"name":"The Concourse","type":"srgreenery","position":[103.86248,1.30101]},{"name":"The Pit Building","type":"srgreenery","position":[103.86381,1.29157]},{"name":"B&B Italia @ SPACE","type":"srgreenery","position":[103.85063,1.29972]},{"name":"CISCO Centre","type":"srgreenery","position":[103.89206,1.32242]},{"name":"Far East Shopping Centre","type":"srgreenery","position":[103.82998,1.30551]},{"name":"Marina Barrage","type":"srgreenery","position":[103.86988,1.28088]},{"name":"The Garden House Preschool","type":"srgreenery","position":[103.76719,1.34455]},{"name":"The Treasury","type":"srgreenery","position":[103.84952,1.29088]},{"name":"Orchard Central Mall","type":"srgreenery","position":[103.83943,1.30084]},{"name":"886 North Bridge Road","type":"srgreenery","position":[103.86431,1.30631]},{"name":"Tanglin Trust School","type":"srgreenery","position":[103.79199,1.29689]},{"name":"Katong Plaza","type":"srgreenery","position":[103.90387,1.30416]},{"name":"SMU school of Economics and social sciences","type":"srgreenery","position":[103.84885,1.29792]},{"name":"HDB Hub @ Toa Payoh","type":"srgreenery","position":[103.84833,1.33214]},{"name":"Orchard Central","type":"srgreenery","position":[103.83943,1.30084]},{"name":"Dunman High School","type":"srgreenery","position":[103.88294,1.29996]},{"name":"Chinese Swimming Complex","type":"srgreenery","position":[103.90058,1.29929]},{"name":"People\'s Association Headquarters","type":"srgreenery","position":[103.85913,1.30863]},{"name":"Tower Fifteen","type":"srgreenery","position":[103.84189,1.27364]},{"name":"Kuo Chuan Presbyterian Primary School","type":"srgreenery","position":[103.85517,1.34938]},{"name":"The Heeren","type":"srgreenery","position":[103.83725,1.30257]},{"name":"Liang Seah Place","type":"srgreenery","position":[103.85633,1.29791]},{"name":"NUS University Health Centre","type":"srgreenery","position":[103.77643,1.2989]},{"name":"Marina Bay Sands Skypark","type":"srgreenery","position":[103.85751,1.28334]},{"name":"Mount Elizabeth Hospital/Medical Centre","type":"srgreenery","position":[103.83544,1.30516]},{"name":"One George Street","type":"srgreenery","position":[103.84777,1.28554]},{"name":"Rendezvous Hotel","type":"srgreenery","position":[103.84932,1.29858]},{"name":"Aramsa Spa @ Bishan Park","type":"srgreenery","position":[103.84748,1.36254]},{"name":"Singapore University of Technology and Design","type":"srgreenery","position":[103.78078,1.30032]},{"name":"One Marina Boulevard","type":"srgreenery","position":[103.85243,1.28229]},{"name":"Tan Tock Seng Hospital","type":"srgreenery","position":[103.84539,1.32172]},{"name":"Custom House","type":"srgreenery","position":[103.8535,1.28251]},{"name":"Suntec City Towers","type":"srgreenery","position":[103.85799,1.2945]},{"name":"Shaw Centre","type":"srgreenery","position":[103.83155,1.30648]},{"name":"Whitley Secondary School","type":"srgreenery","position":[103.84255,1.35505]},{"name":"King\'s Centre","type":"srgreenery","position":[103.83576,1.2896]},{"name":"MOM HQ at Bendemeer","type":"srgreenery","position":[103.86892,1.32629]},{"name":"SMU Lee Kong Chian School of Business","type":"srgreenery","position":[103.85057,1.29509]},{"name":"Grand Plaza Hotel City Hall","type":"srgreenery","position":[103.85012,1.29263]},{"name":"Parkroyal On Kitchener","type":"srgreenery","position":[103.85561,1.31063]},{"name":"Excelsior Hotel","type":"srgreenery","position":[103.84982,1.29195]},{"name":"SOLARIS","type":"srgreenery","position":[103.79006,1.29809]},{"name":"Peninsula Hotel","type":"srgreenery","position":[103.85016,1.29185]},{"name":"Ascott Hotel (Asia Ins Bldg)","type":"srgreenery","position":[103.85154,1.28208]},{"name":"Republic Plaza","type":"srgreenery","position":[103.8508,1.28318]},{"name":"Central Mall","type":"srgreenery","position":[103.84656,1.28886]},{"name":"Food Canopy at Raffles Building, Singapore Botanic Gardens","type":"srgreenery","position":[103.81612,1.31568]},{"name":"Manulife Centre","type":"srgreenery","position":[103.84997,1.29798]},{"name":"Paragon Shopping Centre","type":"srgreenery","position":[103.83524,1.30372]},{"name":"SAP Asia Pte Ltd, Singapore","type":"srgreenery","position":[103.83703,1.31241]},{"name":"Hotel Miramar","type":"srgreenery","position":[103.83741,1.28822]},{"name":"KK Women\'s & Children\'s Hospital","type":"srgreenery","position":[103.84665,1.31045]},{"name":"SAFRA Mount Faber","type":"srgreenery","position":[103.81721,1.27748]},{"name":"Claymore Point","type":"srgreenery","position":[103.83204,1.30763]},{"name":"BCA Academy","type":"srgreenery","position":[103.85853,1.3444]},{"name":"Sim Lim Tower","type":"srgreenery","position":[103.85464,1.30381]},{"name":"Singapore Management University (SMU) - Admin building","type":"srgreenery","position":[103.85221,1.29685]},{"name":"Marina Bay City Gallery","type":"srgreenery","position":[103.85627,1.28012]},{"name":"Pan Pacific Orchard","type":"srgreenery","position":[103.82989,1.30739]},{"name":"The Pier","type":"srgreenery","position":[103.84048,1.29129]},{"name":"The Regent Singapore","type":"srgreenery","position":[103.8249,1.30467]},{"name":"Square 2","type":"srgreenery","position":[103.84416,1.3207]},{"name":"Orchard Hotel Singapore","type":"srgreenery","position":[103.82855,1.30763]},{"name":"Marriott Hotel/ Tangs","type":"srgreenery","position":[103.83288,1.30511]},{"name":"Novotel Singapore","type":"srgreenery","position":[103.84459,1.29151]},{"name":"Nynas Pte Ltd","type":"srgreenery","position":[103.78409,1.28655]},{"name":"118 Killney Road","type":"srgreenery","position":[103.83841,1.29797]},{"name":"National Library","type":"srgreenery","position":[103.85394,1.29749]},{"name":"Environment Building","type":"srgreenery","position":[103.8361,1.31057]},{"name":"NUS Arts and Social Science AS3","type":"srgreenery","position":[103.77124,1.29476]},{"name":"Ritz Carlton Millenia Singapore","type":"srgreenery","position":[103.86005,1.29072]},{"name":"Central Police Division HQ","type":"srgreenery","position":[103.83925,1.27851]},{"name":"Furama City Centre hotel","type":"srgreenery","position":[103.84459,1.28647]},{"name":"Wisma Atria","type":"srgreenery","position":[103.83319,1.3037]},{"name":"NUS (Prince George\'s Park Residences)","type":"srgreenery","position":[103.7813,1.2908]},{"name":"Far East Plaza","type":"srgreenery","position":[103.83366,1.30725]},{"name":"Eagle Center","type":"srgreenery","position":[103.84875,1.28123]},{"name":"New Supreme Court","type":"srgreenery","position":[103.85052,1.29032]},{"name":"HortPark Visitor Centre","type":"srgreenery","position":[103.80112,1.279]},{"name":"Lippo Centre","type":"srgreenery","position":[103.85002,1.28498]},{"name":"Grand Hyatt Hotel Singapore","type":"srgreenery","position":[103.83328,1.30634]},{"name":"11-13 North Canal Road","type":"srgreenery","position":[103.84885,1.28622]},{"name":"Tan Chong Tower","type":"srgreenery","position":[103.85269,1.29801]},{"name":"Unlilever Four Acres Singapore Campus","type":"srgreenery","position":[103.78824,1.30155]},{"name":"Traders Hotel Singapore","type":"srgreenery","position":[103.83735,1.30138]},{"name":"Tanglin Club","type":"srgreenery","position":[103.8325,1.30997]},{"name":"Ministry of Home Affairs","type":"srgreenery","position":[103.84422,1.32352]},{"name":"Holiday Inn Express, Orchard Road","type":"srgreenery","position":[103.83668,1.30323]},{"name":"Canaan Centre","type":"srgreenery","position":[103.86355,1.32399]},{"name":"UOB Plaza","type":"srgreenery","position":[103.85025,1.28557]},{"name":"MND Building","type":"srgreenery","position":[103.84563,1.27904]},{"name":"UWC SEA @ Dover","type":"srgreenery","position":[103.77699,1.30323]},{"name":"Somerset 313","type":"srgreenery","position":[103.83825,1.30101]},{"name":"PURE Fitness Asia","type":"srgreenery","position":[103.85121,1.27889]},{"name":"The Pan Pacific Hotel Singapore","type":"srgreenery","position":[103.8588,1.29237]},{"name":"Vivocity","type":"srgreenery","position":[103.82181,1.26439]},{"name":"The Amara Hotel & Shopping Centre","type":"srgreenery","position":[103.84355,1.27493]},{"name":"Geylang East Public Library","type":"srgreenery","position":[103.88584,1.31744]},{"name":"Peirce Secondary School","type":"srgreenery","position":[103.82991,1.36613]},{"name":"Balestier Plaza","type":"srgreenery","position":[103.85038,1.32574]},{"name":"Tanglin Mall","type":"srgreenery","position":[103.82385,1.30484]},{"name":"Hong Leong Building","type":"srgreenery","position":[103.85091,1.28136]},{"name":"My First Skool","type":"srgreenery","position":[103.9143,1.30321]},{"name":"Hotel Clover @North Bridge Road","type":"srgreenery","position":[103.85958,1.30367]},{"name":"Marina South Pier","type":"srgreenery","position":[103.86315,1.27029]},{"name":"Wheelock Place","type":"srgreenery","position":[103.83064,1.30468]},{"name":"City Hall","type":"srgreenery","position":[103.85171,1.29065]},{"name":"HSBC Building","type":"srgreenery","position":[103.8528,1.28508]},{"name":"Marina Square","type":"srgreenery","position":[103.85701,1.29145]},{"name":"Prudential Tower","type":"srgreenery","position":[103.84987,1.28281]},{"name":"Breadtalk Pte Ltd","type":"srgreenery","position":[103.88254,1.3358]},{"name":"176 Tyrwhitt Rd","type":"srgreenery","position":[103.86086,1.312]},{"name":"Education Resource Centre","type":"srgreenery","position":[103.77349,1.30399]},{"name":"Copthorne Kings Hotel","type":"srgreenery","position":[103.83664,1.28826]},{"name":"New Phoenix Park","type":"srgreenery","position":[103.84498,1.32426]},{"name":"Orchard Point/ Somerset Orchard","type":"srgreenery","position":[103.84055,1.30137]},{"name":"National Design Centre","type":"srgreenery","position":[103.85338,1.29876]},{"name":"Sheraton Towers Hotel","type":"srgreenery","position":[103.83646,1.31195]},{"name":"Hitachi Tower","type":"srgreenery","position":[103.85245,1.28413]},{"name":"UIC Building","type":"srgreenery","position":[103.84942,1.27747]},{"name":"Shaw House","type":"srgreenery","position":[103.83148,1.30581]},{"name":"Standard Chartered Bank Building","type":"srgreenery","position":[103.85176,1.28547]},{"name":"Marina Bay Financial Centre Tower 2","type":"srgreenery","position":[103.85379,1.27944]},{"name":"Bugis+","type":"srgreenery","position":[103.85424,1.29956]},{"name":"Raffles City Tower","type":"srgreenery","position":[103.85277,1.29376]},{"name":"SMU Lia Ka Shing Library","type":"srgreenery","position":[103.85011,1.29666]},{"name":"News Centre","type":"srgreenery","position":[103.84839,1.34323]},{"name":"Forum the shopping mall","type":"srgreenery","position":[103.82851,1.3062]},{"name":"Mint Museum of Toy","type":"srgreenery","position":[103.85461,1.29628]},{"name":"Parkroyal on Beach Road","type":"srgreenery","position":[103.86007,1.29945]},{"name":"Four Seasons Gourmet Market Pte Ltd","type":"srgreenery","position":[103.85335,1.28023]},{"name":"TCA Hostal Trinity","type":"srgreenery","position":[103.8883,1.33116]},{"name":"Temasek Tower","type":"srgreenery","position":[103.84715,1.27563]},{"name":"St Regis Hotel","type":"srgreenery","position":[103.82605,1.30566]},{"name":"Madrasah Aljunied Al-Islamiah","type":"srgreenery","position":[103.85768,1.30467]},{"name":"Park Mall","type":"srgreenery","position":[103.84459,1.29805]},{"name":"Kew Hua San Poh Em Shih Temple","type":"srgreenery","position":[103.78833,1.27871]},{"name":"Keppel Towers","type":"srgreenery","position":[103.84222,1.27443]},{"name":"Lanson Place","type":"srgreenery","position":[103.84086,1.29954]},{"name":"Nguang Building","type":"srgreenery","position":[103.84855,1.28827]},{"name":"Centrepoint","type":"srgreenery","position":[103.83976,1.30198]},{"name":"United Square","type":"srgreenery","position":[103.84346,1.31733]},{"name":"333 Meritus Mandarin","type":"srgreenery","position":[103.83634,1.30206]},{"name":"Ministry of Manpower, Singapore","type":"srgreenery","position":[103.84398,1.28764]},{"name":"Furama River front","type":"srgreenery","position":[103.83609,1.28763]},{"name":"Tung Centre","type":"srgreenery","position":[103.85267,1.28468]},{"name":"Bugis Junction Towers","type":"srgreenery","position":[103.85592,1.29982]},{"name":"Fraser Place, Robertson Walk","type":"srgreenery","position":[103.84145,1.29187]},{"name":"Qinan Building","type":"srgreenery","position":[103.86021,1.31191]},{"name":"Hwa Chong Institution Boarding School","type":"srgreenery","position":[103.80078,1.32538]},{"name":"Excalibur Centre","type":"srgreenery","position":[103.89833,1.32687]},{"name":"Immigration & Checkpoints Authority (ICA Building)","type":"srgreenery","position":[103.86257,1.30654]},{"name":"22B Ann Siang","type":"srgreenery","position":[103.8456,1.28098]},{"name":"Ngee Ann Polytechnic","type":"srgreenery","position":[103.77308,1.33246]},{"name":"CapitaLand Commercial Limited (Robinson Point)","type":"srgreenery","position":[103.84955,1.27959]},{"name":"Tanglin Post Office (Wee Care)","type":"srgreenery","position":[103.82296,1.30561]},{"name":"National University Hospital, Main Building Level 6","type":"srgreenery","position":[103.78233,1.29419]},{"name":"Fuji Xerox Towers","type":"srgreenery","position":[103.84359,1.27312]},{"name":"Management Development Institute of Singapore Unicampus","type":"srgreenery","position":[103.80068,1.29725]},{"name":"Lucky Plaza","type":"srgreenery","position":[103.83384,1.30455]},{"name":"50 North Canal","type":"srgreenery","position":[103.84659,1.28754]},{"name":"MAS Building","type":"srgreenery","position":[103.8465,1.27472]},{"name":"Kuo Chuan Presbytherian Secondary School","type":"srgreenery","position":[103.85489,1.35011]},{"name":"Tanjong Pagar Community club","type":"srgreenery","position":[103.84158,1.27617]},{"name":"Anson House","type":"srgreenery","position":[103.84443,1.27388]},{"name":"NUS , SDE 1 Building","type":"srgreenery","position":[103.77075,1.29812]},{"name":"Raffles Hospital","type":"srgreenery","position":[103.85724,1.30114]},{"name":"NUS Museum","type":"srgreenery","position":[103.77201,1.30167]},{"name":"Shell House","type":"srgreenery","position":[103.8426,1.29207]},{"name":"Paradiz Center","type":"srgreenery","position":[103.84917,1.30001]},{"name":"Holland Road Shopping Centre","type":"srgreenery","position":[103.79535,1.31025]},{"name":"Winsland House I / Lanson Place","type":"srgreenery","position":[103.84018,1.29953]},{"name":"Elim Church Assembly of God","type":"srgreenery","position":[103.86425,1.32389]},{"name":"Singapore Technologies Building","type":"srgreenery","position":[103.84233,1.27329]},{"name":"Connexion Hospital","type":"srgreenery","position":[103.85393,1.31247]},{"name":"Paya Lebar Methodist Girls\' School (Secondary)","type":"srgreenery","position":[103.88512,1.35097]},{"name":"Changi Airport T1, T2, T3","type":"srgreenery","position":[103.98795,1.35868]},{"name":"EMC @ One OCC","type":"srgreenery","position":[103.96727,1.33689]},{"name":"ITE College Central","type":"srgreenery","position":[103.85641,1.37789]},{"name":"St Andrew Community Hospital","type":"srgreenery","position":[103.94876,1.34178]},{"name":"Applied Materials Building","type":"srgreenery","position":[103.96527,1.35254]},{"name":"Bedok View Secondary School","type":"srgreenery","position":[103.94347,1.324]},{"name":"Giant Building","type":"srgreenery","position":[103.93201,1.3721]},{"name":"Temasek Polytechnic","type":"srgreenery","position":[103.93122,1.34663]},{"name":"Chongzheng Primary School","type":"srgreenery","position":[103.95122,1.35059]},{"name":"CHIJ St Nicholas Girls\' School","type":"srgreenery","position":[103.83425,1.37348]},{"name":"ITE College East","type":"srgreenery","position":[103.95498,1.33455]},{"name":"Singapore Air Traffic Control","type":"srgreenery","position":[103.98368,1.39069]},{"name":"Elias Park Primary School","type":"srgreenery","position":[103.94513,1.37451]},{"name":"Bright Vision Hospital","type":"srgreenery","position":[103.87803,1.37204]},{"name":"Changi General Hospital","type":"srgreenery","position":[103.94929,1.34068]},{"name":"Teck Ghee Vista","type":"srgreenery","position":[103.84518,1.36458]},{"name":"Hwi Yoh C C","type":"srgreenery","position":[103.87389,1.3736]},{"name":"Lycee Francais de Singapour","type":"srgreenery","position":[103.8676,1.37136]},{"name":"Jing Shan Primary School","type":"srgreenery","position":[103.85181,1.37189]},{"name":"Punggol Secondary School","type":"srgreenery","position":[103.90912,1.40213]},{"name":"Anderson Secondary School","type":"srgreenery","position":[103.85143,1.37424]},{"name":"The Singapore Freeport","type":"srgreenery","position":[103.97125,1.34512]},{"name":"Nanyang Polytechnic","type":"srgreenery","position":[103.84842,1.37782]},{"name":"Hougang Primary School","type":"srgreenery","position":[103.88305,1.37264]},{"name":"Punggol Primary School","type":"srgreenery","position":[103.89451,1.37779]},{"name":"Telok Kurau Primary School","type":"srgreenery","position":[103.91135,1.33091]},{"name":"HDB MSCP","type":"srgreenery","position":[103.87759,1.39219]},{"name":"Yio Chu Kang Chapel Ltd","type":"srgreenery","position":[103.87636,1.368]},{"name":"Krislite","type":"srgreenery","position":[103.97005,1.37223]},{"name":"Greendale Primary School","type":"srgreenery","position":[103.91234,1.39649]},{"name":"Moral Home for the Disabled. Jln Eunos","type":"srgreenery","position":[103.90541,1.31903]},{"name":"Paya Lebar Methodist Girls\' School (Secondary)","type":"srgreenery","position":[103.88512,1.35097]},{"name":"ITE College Central","type":"srgreenery","position":[103.85641,1.37789]},{"name":"Mandai Columbarium","type":"srgreenery","position":[103.80967,1.41376]},{"name":"CHIJ St Nicholas Girls\' School","type":"srgreenery","position":[103.83425,1.37348]},{"name":"Bright Vision Hospital","type":"srgreenery","position":[103.87803,1.37204]},{"name":"Marsiling Secondary School","type":"srgreenery","position":[103.77601,1.43664]},{"name":"Teck Ghee Vista","type":"srgreenery","position":[103.84518,1.36458]},{"name":"Khoo Teck Puat Hospital","type":"srgreenery","position":[103.83785,1.42388]},{"name":"Hwi Yoh C C","type":"srgreenery","position":[103.87389,1.3736]},{"name":"Lycee Francais de Singapour","type":"srgreenery","position":[103.8676,1.37136]},{"name":"Wellington Primary School","type":"srgreenery","position":[103.82231,1.45189]},{"name":"Jing Shan Primary School","type":"srgreenery","position":[103.85181,1.37189]},{"name":"Punggol Secondary School","type":"srgreenery","position":[103.90912,1.40213]},{"name":"Agilent Technologies Building","type":"srgreenery","position":[103.84058,1.44032]},{"name":"Anderson Secondary School","type":"srgreenery","position":[103.85143,1.37424]},{"name":"Republic Polytechnic","type":"srgreenery","position":[103.78428,1.44376]},{"name":"Centre of Building Research Annex Building","type":"srgreenery","position":[103.80007,1.45481]},{"name":"Nanyang Polytechnic","type":"srgreenery","position":[103.84842,1.37782]},{"name":"Yishun Town Secondary School","type":"srgreenery","position":[103.83801,1.4326]},{"name":"Hougang Primary School","type":"srgreenery","position":[103.88305,1.37264]},{"name":"Punggol Primary School","type":"srgreenery","position":[103.89451,1.37779]},{"name":"Christ Church Secondary School","type":"srgreenery","position":[103.79297,1.42646]},{"name":"Singapore American School","type":"srgreenery","position":[103.77442,1.42538]},{"name":"Innova Primary School","type":"srgreenery","position":[103.79056,1.42918]},{"name":"HDB MSCP","type":"srgreenery","position":[103.87759,1.39219]},{"name":"Naval Base Secondary School","type":"srgreenery","position":[103.83104,1.41924]},{"name":"Yio Chu Kang Chapel Ltd","type":"srgreenery","position":[103.87636,1.368]},{"name":"Greendale Primary School","type":"srgreenery","position":[103.91234,1.39649]},{"name":"Woodlands Secondary School","type":"srgreenery","position":[103.80015,1.43649]},{"name":"Festive Hotel, Resorts World Sentosa","type":"srgreenery","position":[103.81903,1.25602]},{"name":"Capella Hotel","type":"srgreenery","position":[103.82438,1.24948]},{"name":"Rasa Sentosa Resort","type":"srgreenery","position":[103.8098,1.2578]},{"name":"Police Coast Guard, Pulau Brani","type":"srgreenery","position":[103.8317,1.25783]},{"name":"Sentosa Imbiah Station","type":"srgreenery","position":[103.8195,1.25394]},{"name":"Universal Studios Singapore, Resorts World Sentosa","type":"srgreenery","position":[103.82026,1.25501]},{"name":"Keming Primary School","type":"srgreenery","position":[103.75592,1.34506]},{"name":"Crest Secondary School","type":"srgreenery","position":[103.74254,1.34355]},{"name":"Novartis Pharmaceutical Plant","type":"srgreenery","position":[103.63607,1.29586]},{"name":"Choa Chu Kang Polyclinic","type":"srgreenery","position":[103.75078,1.38234]},{"name":"Home Team Academy","type":"srgreenery","position":[103.72021,1.37185]},{"name":"SAFRA Clubhouse - Jurong","type":"srgreenery","position":[103.70628,1.33501]},{"name":"Firmenich","type":"srgreenery","position":[103.64459,1.33555]},{"name":"Cambridge Industrial Trust","type":"srgreenery","position":[103.74832,1.33492]},{"name":"Choa Chu Kang Cemetery (Registration Office)","type":"srgreenery","position":[103.69364,1.37436]},{"name":"Clementi Bus Interchange","type":"srgreenery","position":[103.7642,1.31501]},{"name":"JEM","type":"srgreenery","position":[103.74328,1.33323]},{"name":"West Coast Plaza","type":"srgreenery","position":[103.76586,1.30362]},{"name":"Lot One Shopping Mall","type":"srgreenery","position":[103.74495,1.38507]},{"name":"Clementi Bible Centre","type":"srgreenery","position":[103.76581,1.30287]},{"name":"National Institute of Education","type":"srgreenery","position":[103.67874,1.34933]},{"name":"CleanTech One","type":"srgreenery","position":[103.69224,1.35562]},{"name":"63 Tuas South Avenue 1","type":"srgreenery","position":[103.62816,1.31547]},{"name":"Princess Elizabeth Primary School","type":"srgreenery","position":[103.741,1.34919]},{"name":"Westgate","type":"srgreenery","position":[103.74276,1.33416]},{"name":"ITE College West","type":"srgreenery","position":[103.75211,1.37502]},{"name":"Nan Hua High School","type":"srgreenery","position":[103.76856,1.30809]},{"name":"Jurong Bird Park","type":"srgreenery","position":[103.70613,1.32077]},{"name":"Jurong Central Park - Mcdonalds","type":"srgreenery","position":[103.70866,1.33917]},{"name":"Greenridge Primary School","type":"srgreenery","position":[103.76779,1.38589]},{"name":"PCF Geylang Serai (Balam)","type":"garden","position":[103.88541,1.32968]},{"name":"Roxy Zone \'2\' Neighbourhood Committee","type":"garden","position":[103.90609,1.30504]},{"name":"Bishan North Zone \'2\' Residents\' Committee","type":"garden","position":[103.84596,1.35761]},{"name":"Toa Payoh Central Zone \'1\' Residents\' Committee","type":"garden","position":[103.85052,1.33675]},{"name":"Kuo Chuan Presbyterian Primary School","type":"garden","position":[103.85517,1.34938]},{"name":"Telok Blangah \'Blangah Court\' Residents\' Committee","type":"garden","position":[103.8101,1.27204]},{"name":"Mt Faber Zone \'A\' Residents\' Committee","type":"garden","position":[103.82047,1.27816]},{"name":"Breakthrough Missions Ltd","type":"garden","position":[103.79247,1.27829]},{"name":"Little Skool House on the Hill","type":"garden","position":[103.834,1.27854]},{"name":"Thomson Shunfu Residents\' Committee","type":"garden","position":[103.83722,1.35151]},{"name":"St. Margaret\'s Primary School","type":"garden","position":[103.84582,1.30414]},{"name":"Buona Vista Zone \'B\' Residents\' Committee","type":"garden","position":[103.79565,1.30797]},{"name":"Northlight School","type":"garden","position":[103.89044,1.30826]},{"name":"Crescent Girls\' Secondary School","type":"garden","position":[103.81754,1.29332]},{"name":"Covent-Indus Residents\' Committee","type":"garden","position":[103.82869,1.29107]},{"name":"Marine Crescent Gardens Residents\' Committee","type":"garden","position":[103.91309,1.30473]},{"name":"New Town Primary School","type":"garden","position":[103.79996,1.29981]},{"name":"Anglo-Chinese School (Independent)","type":"garden","position":[103.77983,1.30349]},{"name":"Avondale Grammar School","type":"garden","position":[103.81571,1.29819]},{"name":"Thomson Garden Neighbourhood Committee","type":"garden","position":[103.83925,1.35432]},{"name":"Whampoa View Residents\' Committee","type":"garden","position":[103.85644,1.32279]},{"name":"Toa Payoh East Zone \'6\' Residents\' Committee","type":"garden","position":[103.8538,1.33309]},{"name":"Bishan East Zone \'6\' Residents\' Committee","type":"garden","position":[103.85502,1.34663]},{"name":"Pertapis Bukit Batok Hostel","type":"garden","position":[103.76953,1.34536]},{"name":"Cantonment Towers Residents\' Committee","type":"garden","position":[103.84007,1.27448]},{"name":"Urban Redevelopment Authority","type":"garden","position":[103.84521,1.27955]},{"name":"SG Enable","type":"garden","position":[103.81436,1.28669]},{"name":"Zhangde Primary School","type":"garden","position":[103.82595,1.28421]},{"name":"Hussien Sulaiman Mosque","type":"garden","position":[103.77171,1.29138]},{"name":"Chung Cheng High School (Main)","type":"garden","position":[103.89074,1.30538]},{"name":"Chatsworth East Campus International","type":"garden","position":[103.89863,1.30343]},{"name":"Ngee Ann Primary School","type":"garden","position":[103.91746,1.30552]},{"name":"Radin Mas Primary School","type":"garden","position":[103.82418,1.27496]},{"name":"Queensway Secondary School","type":"garden","position":[103.80172,1.30047]},{"name":"Tribunal For The Maintenance of Parents","type":"garden","position":[103.81121,1.28621]},{"name":"Seng Poh Residents\' Committee","type":"garden","position":[103.83216,1.28544]},{"name":"ITE College Central","type":"garden","position":[103.85325,1.35221]},{"name":"Eunos Village Residents\' Committee","type":"garden","position":[103.89785,1.31823]},{"name":"Cambridge@Thomson","type":"garden","position":[103.8308,1.36145]},{"name":"Dover-Normanton Neighbourhood Committee","type":"garden","position":[103.79305,1.28807]},{"name":"Thomson Sin Ming Garden Residents\' Committee","type":"garden","position":[103.83427,1.36266]},{"name":"Muhammadiyah Health And Day Care Centre","type":"garden","position":[103.90272,1.32229]},{"name":"Queenstown Lengkok Bahru Residents\' Committee","type":"garden","position":[103.81171,1.28749]},{"name":"Mountbatten Community Club","type":"garden","position":[103.88683,1.31045]},{"name":"PCF Sparkletots Child Development Centre (Telok Blangah)","type":"garden","position":[103.81051,1.2713]},{"name":"Kolam Ayer Whampoa South Residents\' Committee - River Vista","type":"garden","position":[103.86622,1.32076]},{"name":"SMRT Corp I","type":"garden","position":[103.85161,1.3573]},{"name":"Singapore Polytechnic - School Of Digital Media","type":"garden","position":[103.77595,1.31161]},{"name":"Geylang Methodist Secondary School","type":"garden","position":[103.8825,1.31766]},{"name":"Intercontinental Singapore","type":"garden","position":[103.85487,1.29847]},{"name":"First Toa Payoh Primary School","type":"garden","position":[103.85553,1.34032]},{"name":"Kampong Glam Kelantan Residents\' Committee","type":"garden","position":[103.85822,1.30621]},{"name":"EtonHouse Pre-School Pte Ltd","type":"garden","position":[103.89252,1.29998]},{"name":"Kolam Ayer Whampoa South Residents\' Committee","type":"garden","position":[103.86834,1.32037]},{"name":"Jamiyah Halfway House (Darul Islah)","type":"garden","position":[103.77541,1.29049]},{"name":"Jalan Besar Boon Keng Ville Residents\' Committee","type":"garden","position":[103.87069,1.31526]},{"name":"Balestier Hill Secondary School","type":"garden","position":[103.84354,1.32432]},{"name":"Telok Blangah \'Blangah Square\' Residents\' Committee","type":"garden","position":[103.8087,1.2749]},{"name":"Ritz Mansion","type":"garden","position":[103.8526,1.32495]},{"name":"Ulu Pandan Zone \'B\' Residents\' Committee","type":"garden","position":[103.78915,1.30885]},{"name":"My First Skool Kim Keat","type":"garden","position":[103.85587,1.33137]},{"name":"Darul Ihsan Orphanage (Girls)","type":"garden","position":[103.87083,1.33279]},{"name":"Kolam Ayer CCC","type":"garden","position":[103.86969,1.32415]},{"name":"Bishan East Zone \'4\' Residents\' Committee","type":"garden","position":[103.8536,1.34642]},{"name":"Marine Terrace Breeze Residents\' Committee","type":"garden","position":[103.91507,1.30372]},{"name":"Toa Payoh East Zone \'4\' Residents\' Committee","type":"garden","position":[103.85783,1.33284]},{"name":"Jamiyah Darul Ma\'Wa Children Home","type":"garden","position":[103.88143,1.30867]},{"name":"AG Home","type":"garden","position":[103.88249,1.32488]},{"name":"Tanjong Rhu Residents\' Committee","type":"garden","position":[103.88369,1.30083]},{"name":"Eunos Crescent Residents\' Committee","type":"garden","position":[103.90272,1.32229]},{"name":"MacPherson Aljunied Crescent Zone \'2\' Residents\' Committee","type":"garden","position":[103.88542,1.32166]},{"name":"Kuo Chuan Presbyterian Secondary School","type":"garden","position":[103.85489,1.35011]},{"name":"Boon Tiong Residents\' Committee","type":"garden","position":[103.83195,1.28659]},{"name":"MacPherson Primary School","type":"garden","position":[103.88162,1.32453]},{"name":"My First Skool Toa Payoh","type":"garden","position":[103.85048,1.33166]},{"name":"Haig Girls\' School","type":"garden","position":[103.9022,1.31222]},{"name":"Queenstown Public Library","type":"garden","position":[103.80543,1.29864]},{"name":"Bishan East Zone \'5\' Residents\' Committee - Golden Jasmine","type":"garden","position":[103.85464,1.34566]},{"name":"Membina Court Residents\' Committee","type":"garden","position":[103.82539,1.28362]},{"name":"Signature Park Condominium","type":"garden","position":[103.768,1.34177]},{"name":"Shangri-La Hotel","type":"garden","position":[103.82676,1.31125]},{"name":"Telok Blangah Dover Crescent Residents\' Committee","type":"garden","position":[103.78358,1.30707]},{"name":"Moulmein-Farrer Park Residents\' Committee","type":"garden","position":[103.8514,1.3116]},{"name":"Balam Residents\' Committee","type":"garden","position":[103.88541,1.32968]},{"name":"Canaan Church Kindergarten","type":"garden","position":[103.86355,1.32399]},{"name":"EtonHouse Vanda","type":"garden","position":[103.79822,1.33124]},{"name":"Caribbean @ Keppel Bay","type":"garden","position":[103.81497,1.26785]},{"name":"Ministry Of National Development","type":"garden","position":[103.84563,1.27904]},{"name":"Maris Stella High School (Primary)","type":"garden","position":[103.87781,1.34139]},{"name":"Outram Secondary School","type":"garden","position":[103.84201,1.28741]},{"name":"Global Indian International School - Balestier","type":"garden","position":[103.85271,1.32862]},{"name":"Selanting Green Residents Association","type":"garden","position":[103.76853,1.34296]},{"name":"Toa Payoh North Zone \'2\' Residents\' Committee","type":"garden","position":[103.84596,1.35761]},{"name":"Toa Payoh Central Zone \'5\' Residents\' Committee","type":"garden","position":[103.84545,1.33221]},{"name":"St. John\'s Home For Elderly Persons","type":"garden","position":[103.87361,1.33306]},{"name":"Kampong Tiong Bahru West Residents\' Committee","type":"garden","position":[103.82609,1.27943]},{"name":"Marine Crescent Ville Residents\' Committee","type":"garden","position":[103.91212,1.30415]},{"name":"Bukit Purmei Zone \'B\' Residents\' Committee","type":"garden","position":[103.82697,1.27535]},{"name":"Darul Aman Mosque","type":"garden","position":[103.90456,1.31796]},{"name":"Hoover Park Neighbourhood Committee","type":"garden","position":[103.77261,1.34385]},{"name":"Tanjong Pagar Plaza Residents\' Committee","type":"garden","position":[103.84274,1.2759]},{"name":"Tanjong Pagar Spottiswoode Park Residents\' Commiteee","type":"garden","position":[103.83488,1.27443]},{"name":"Fairmont Hotel","type":"garden","position":[103.85397,1.294]},{"name":"My First Skool Guillemard Crescent","type":"garden","position":[103.88001,1.30905]},{"name":"Sparkletots Child Development Centre (Telok Blangah)","type":"garden","position":[103.81051,1.2713]},{"name":"Kim Tian West Residents\' Committee","type":"garden","position":[103.82564,1.28142]},{"name":"Jalan Besar King George\'S Ave Residents\' Committee","type":"garden","position":[103.86065,1.30801]},{"name":"Marine Terrace Walk Residents\' Committee","type":"garden","position":[103.91723,1.30456]},{"name":"Eunos Primary School","type":"garden","position":[103.9043,1.32442]},{"name":"Whampoa Towner Residents\' Committee I (Potted Garden, Blk 104)","type":"garden","position":[103.86098,1.31982]},{"name":"Raffles Institution","type":"garden","position":[103.84587,1.34619]},{"name":"Waterways Watch Working Committee","type":"garden","position":[103.78569,1.3376]},{"name":"Cedar Primary School","type":"garden","position":[103.87549,1.33564]},{"name":"Toa Payoh East Zone \'2\' Residents\' Committee","type":"garden","position":[103.85878,1.33915]},{"name":"Bukit Merah Community Club","type":"garden","position":[103.81583,1.28525]},{"name":"Nichiren Shoshu Buddhist Association","type":"garden","position":[103.87967,1.31479]},{"name":"St. Andrew\'s Junior College","type":"garden","position":[103.86348,1.33279]},{"name":"Kolam Ayer Kallang Bahru Residents\' Committee","type":"garden","position":[103.86834,1.32037]},{"name":"Goodman Art Center","type":"garden","position":[103.88448,1.30482]},{"name":"Bishan East Zone \'2\' Residents\' Committee","type":"garden","position":[103.85155,1.34712]},{"name":"Radin Mas AAC","type":"garden","position":[103.81583,1.28525]},{"name":"Whampoa McNair Residents\' Committee","type":"garden","position":[103.85825,1.32131]},{"name":"MacPherson Sheng Hong Childcare Center Study Garden","type":"garden","position":[103.87454,1.33021]},{"name":"Bishan Zion Kindergarten","type":"garden","position":[103.85502,1.34759]},{"name":"Moulmein Tekka Residents\' Committee","type":"garden","position":[103.85265,1.30879]},{"name":"Employment and Employability Institute","type":"garden","position":[103.81436,1.28669]},{"name":"Toa Payoh East Zone \'5\' Residents\' Committee","type":"garden","position":[103.85818,1.33094]},{"name":"Mt Faber Zone \'B\' Residents\' Committee","type":"garden","position":[103.82182,1.27692]},{"name":"Global Indian International School - Queenstown","type":"garden","position":[103.80124,1.29182]},{"name":"Singapore Chinese Girls\' School","type":"garden","position":[103.82798,1.32109]},{"name":"Kreta Ayer Residents\' Committee","type":"garden","position":[103.84291,1.2818]},{"name":"Alexandra Hospital","type":"garden","position":[103.79944,1.28812]},{"name":"Redhill Gardens Residents\' Committee","type":"garden","position":[103.81943,1.28742]},{"name":"Moulmein Ah Hood Gardens Residents\' Committee","type":"garden","position":[103.8448,1.32856]},{"name":"Toa Payoh South Community Centre","type":"garden","position":[103.85938,1.33489]},{"name":"Telok Blangah Dover Road Residents\' Committee","type":"garden","position":[103.78264,1.30406]},{"name":"Anglo-Chinese Junior College","type":"garden","position":[103.78526,1.30329]},{"name":"Geylang East Home For The Aged","type":"garden","position":[103.88567,1.3213]},{"name":"Moulmein Kent Ville Residents\' Committee","type":"garden","position":[103.85111,1.31676]},{"name":"Kim Seng Community Club Youth Executive Committee","type":"garden","position":[103.82869,1.29107]},{"name":"Catholic High School - Primary","type":"garden","position":[103.84487,1.35472]},{"name":"Toh Yi Residents\' Committee","type":"garden","position":[103.77457,1.33851]},{"name":"Cedar Girls Secondary School","type":"garden","position":[103.87393,1.33376]},{"name":"Four Seasons Hotel","type":"garden","position":[103.82865,1.30521]},{"name":"PCF Marine Parade Education Centre","type":"garden","position":[103.91266,1.3051]},{"name":"Small World Educare Centre","type":"garden","position":[103.86969,1.32415]},{"name":"Singapore School For The Deaf","type":"garden","position":[103.87975,1.30788]},{"name":"Association For Persons With Special Needs (APSN) Centre For Adults","type":"garden","position":[103.89794,1.305]},{"name":"Singapore Polytechnic - School Of Business","type":"garden","position":[103.77595,1.31161]},{"name":"St. Hilda\'s Community Services Centre","type":"garden","position":[103.88289,1.30204]},{"name":"Green Kiwi Backpacker Hostel","type":"garden","position":[103.86032,1.31436]},{"name":"Creative Thinker","type":"garden","position":[103.77212,1.34118]},{"name":"Bishan Heights Residents\' Committee","type":"garden","position":[103.84516,1.35692]},{"name":"Stamford Primary School","type":"garden","position":[103.85695,1.30386]},{"name":"National Junior College","type":"garden","position":[103.80411,1.33029]},{"name":"Bukit Merah View Zone \'B\' Residents\' Committee","type":"garden","position":[103.82382,1.28358]},{"name":"Broadrick Secondary School","type":"garden","position":[103.88668,1.3075]},{"name":"Fairfield Methodist School (Primary)","type":"garden","position":[103.78562,1.30097]},{"name":"Namly Neighbourhood Committee","type":"garden","position":[103.78921,1.31201]},{"name":"Raffles Girls\' Primary School","type":"garden","position":[103.80622,1.33007]},{"name":"Ministry Of Home Affairs (MHA Sector B (1))","type":"garden","position":[103.84498,1.32426]},{"name":"Teck Ghee Zone \'H\' Residents\' Committee","type":"garden","position":[103.85669,1.36409]},{"name":"Mangala Vihara Buddhist Temple","type":"garden","position":[103.90544,1.31971]},{"name":"Cheng San Zone \'E\' Residents\' Committee","type":"garden","position":[103.85195,1.37312]},{"name":"Braddell Heights Zone \'C\' Residents\' Committee","type":"garden","position":[103.87384,1.34778]},{"name":"Kebun Baru Bestari Residents\' Committee","type":"garden","position":[103.83466,1.36946]},{"name":"My First Skool Anchorvale","type":"garden","position":[103.88684,1.38923]},{"name":"Bedok Sunflower Residents\' Committee","type":"garden","position":[103.93912,1.32284]},{"name":"Simie Metta School","type":"garden","position":[103.95718,1.34681]},{"name":"Kebun Baru Palm View Residents\' Committee","type":"garden","position":[103.83815,1.3674]},{"name":"Smartz Playhouse","type":"garden","position":[103.9419,1.31789]},{"name":"Telok Kurau Secondary School (Closed)","type":"garden","position":[103.90659,1.31693]},{"name":"Pei Hwa Secondary School","type":"garden","position":[103.87846,1.39033]},{"name":"Tampines East Zone \'2\' Residents\' Committee","type":"garden","position":[103.9527,1.35402]},{"name":"Siglap Lucky Valley Residents\' Committee","type":"garden","position":[103.94397,1.31984]},{"name":"Kebun Baru Link Residents\' Committee","type":"garden","position":[103.83812,1.37584]},{"name":"Punggol Hibiscus Residents\' Committee","type":"garden","position":[103.8936,1.37753]},{"name":"Ang Mo Kio-Hougang Zone \'3\' Residents\' Committee","type":"garden","position":[103.88062,1.37154]},{"name":"Jalan Kayu Zone \'3\' Residents\' Committee II","type":"garden","position":[103.87015,1.37482]},{"name":"Eunos Zone \'2\' Grove Residents\' Committee","type":"garden","position":[103.91499,1.33183]},{"name":"Tampines Greenvale Residents\' Committee","type":"garden","position":[103.93438,1.35904]},{"name":"Punggol Palmview Residents\' Committee","type":"garden","position":[103.88989,1.37953]},{"name":"Jalan Kayu Zone \'4\' Residents\' Committee I","type":"garden","position":[103.87372,1.37203]},{"name":"Tampines East Zone \'6\' Residents\' Committee","type":"garden","position":[103.95073,1.3554]},{"name":"Punggol Meadows Residents\' Committee","type":"garden","position":[103.91585,1.3988]},{"name":"Fengshan Community Club","type":"garden","position":[103.93661,1.33071]},{"name":"Kampong Chai Chee Rainbow Ville Residents\' Committee","type":"garden","position":[103.93393,1.32937]},{"name":"My First Skool Ang Mo Kio 3","type":"garden","position":[103.85562,1.37392]},{"name":"Sengkang West Zone \'G\' Residents\' Committee","type":"garden","position":[103.8741,1.38998]},{"name":"Tampines Parkview Residents\' Committee","type":"garden","position":[103.93619,1.35429]},{"name":"Sengkang West Zone \'A\' Residents\' Committee","type":"garden","position":[103.88985,1.38742]},{"name":"Tampines East Zone \'4\' Residents\' Committee","type":"garden","position":[103.94994,1.35376]},{"name":"Ang Mo Kio-Hougang Zone \'2\' Residents\' Committee","type":"garden","position":[103.88048,1.36954]},{"name":"Bedok Reservoir-Punggol Heights Residents\' Committee","type":"garden","position":[103.89405,1.37477]},{"name":"Pasir Ris Meridian Residents\' Committee","type":"garden","position":[103.93358,1.37718]},{"name":"Pasir Ris Atlantis Residents\' Committee","type":"garden","position":[103.93598,1.37791]},{"name":"Punggol Pinetree Residents\' Committee","type":"garden","position":[103.88748,1.37827]},{"name":"Changi Bethany Kindergarten","type":"garden","position":[103.96194,1.34164]},{"name":"Ang Mo Kio-Hougang Zone \'9\' Residents\' Committee","type":"garden","position":[103.87978,1.37348]},{"name":"Lentor Neighbourhood Committee","type":"garden","position":[103.83513,1.38851]},{"name":"Hope Centre","type":"garden","position":[103.96458,1.3539]},{"name":"Kampong Chai Chee Linear Green Residents\' Committee","type":"garden","position":[103.93477,1.3252]},{"name":"Tampines East Zone \'1\' Residents\' Committee","type":"garden","position":[103.95283,1.35192]},{"name":"Boundary Ville Residents\' Committee","type":"garden","position":[103.87026,1.35636]},{"name":"Tampines Changkat Zone \'2\' Residents\' Committee","type":"garden","position":[103.95523,1.35226]},{"name":"Punggol Coral Tree Residents\' Committee (Punggol Treetop Lodge)","type":"garden","position":[103.90625,1.40535]},{"name":"Tampines Park Residents\' Committee","type":"garden","position":[103.94218,1.34924]},{"name":"Yio Chu Kang Zone \'8\' Residents\' Committee","type":"garden","position":[103.84246,1.37992]},{"name":"Peacehaven Nursing Home","type":"garden","position":[103.96458,1.3539]},{"name":"PCF Teck Ghee Blk 319/Teck Ghee Zone C","type":"garden","position":[103.84738,1.36511]},{"name":"Ang Mo Kio-Hougang Zone \'1\' Residents\' Committee","type":"garden","position":[103.88713,1.37068]},{"name":"Tampines Ville Residents\' Committee","type":"garden","position":[103.93596,1.35173]},{"name":"Bedok Reservoir-Punggol Garden Residents\' Committee","type":"garden","position":[103.92483,1.33642]},{"name":"Tampines Vista Residents\' Committee","type":"garden","position":[103.93194,1.35371]},{"name":"Tampines North Zone \'4\' Residents\' Committee","type":"garden","position":[103.951,1.35794]},{"name":"Yio Chu Kang Zone \'3\' Residents\' Committee","type":"garden","position":[103.84351,1.36971]},{"name":"Elias View Residents\' Committee","type":"garden","position":[103.94202,1.37463]},{"name":"Hillside Rosyth Neighbourhood Committee","type":"garden","position":[103.87711,1.35864]},{"name":"Kaki Bukit Green Residents\' Committee","type":"garden","position":[103.9292,1.33109]},{"name":"St. Gabriel\'s Primary School","type":"garden","position":[103.86233,1.34934]},{"name":"ITE College Central (Amk Campus)","type":"garden","position":[103.85719,1.37502]},{"name":"Kebun Baru Palm View SCC","type":"garden","position":[103.83815,1.3674]},{"name":"Pasir Ris Zone \'4\' Residents\' Committee","type":"garden","position":[103.96056,1.3736]},{"name":"Ocean Park Condominium","type":"garden","position":[103.91817,1.30913]},{"name":"Anchor Green Primary School","type":"garden","position":[103.88716,1.39037]},{"name":"Teck Ghee Zone \'G\' Residents\' Committee","type":"garden","position":[103.85938,1.36702]},{"name":"My First Skool Anchorvale 2","type":"garden","position":[103.8907,1.38786]},{"name":"Changi Simei Zone \'2\' Residents\' Committee","type":"garden","position":[103.95568,1.34731]},{"name":"Carpe Diem Kindergarten","type":"garden","position":[103.87811,1.37676]},{"name":"Temasek Junior College","type":"garden","position":[103.93557,1.31849]},{"name":"Hwan Gardens Neighbourhood Committee","type":"garden","position":[103.87393,1.37005]},{"name":"Punggol Gardens Residents\' Committee","type":"garden","position":[103.91406,1.3955]},{"name":"Cheng San Zone \'D\' Residents\' Committee","type":"garden","position":[103.85016,1.37443]},{"name":"Mayflower Primary School","type":"garden","position":[103.84317,1.3764]},{"name":"Compassvale Plains Residents\' Committee","type":"garden","position":[103.89852,1.38987]},{"name":"Chong Boon Secondary School","type":"garden","position":[103.85801,1.36363]},{"name":"Elias Rise Residents\' Committee","type":"garden","position":[103.94476,1.37343]},{"name":"Eunos Zone \'6\' Damai Residents\' Committee","type":"garden","position":[103.90887,1.33245]},{"name":"Chatsworth Kindergarten","type":"garden","position":[103.87141,1.40254]},{"name":"Jalan Kayu Zone \'6\' Residents\' Committee","type":"garden","position":[103.87525,1.37151]},{"name":"Pasir Ris Zone \'10\' Residents\' Committee","type":"garden","position":[103.95906,1.36625]},{"name":"My First Skool Ang Mo Kio 6","type":"garden","position":[103.84328,1.36897]},{"name":"Kampong Chai Chee Ruby Residents\' Committee","type":"garden","position":[103.93634,1.33001]},{"name":"Bedok Orchid Residents\' Committee","type":"garden","position":[103.93622,1.32209]},{"name":"Laguna Park Residents Association","type":"garden","position":[103.93161,1.30884]},{"name":"Bedok Ixora Residents\' Committee","type":"garden","position":[103.94226,1.32344]},{"name":"Livia Neighbourhood Committee","type":"garden","position":[103.94382,1.37234]},{"name":"Discovery Kidz Preschool","type":"garden","position":[103.95124,1.32698]},{"name":"Siglap Kinderland","type":"garden","position":[103.92766,1.31676]},{"name":"Compassvale Villa Residents\' Committee","type":"garden","position":[103.89755,1.38682]},{"name":"Yu Neng Primary School","type":"garden","position":[103.93203,1.3339]},{"name":"Yokogawa Engineering Asia Pte Ltd","type":"garden","position":[103.92911,1.31922]},{"name":"Sengkang West Zone \'D\' Residents\' Committee","type":"garden","position":[103.88649,1.3903]},{"name":"Simei Day Care Centre","type":"garden","position":[103.94915,1.34208]},{"name":"East Coast Primary School","type":"garden","position":[103.91989,1.3291]},{"name":"Kampong Chai Chee Garden Hill Residents\' Committee","type":"garden","position":[103.92889,1.32869]},{"name":"Kampong Chai Chee Bedok Town Centre Residents\' Committee","type":"garden","position":[103.92799,1.32566]},{"name":"Changi Simei Zone \'1\' Residents\' Committee","type":"garden","position":[103.95101,1.34302]},{"name":"Kebun Baru Vista Neighbourhood Committee","type":"garden","position":[103.82678,1.37635]},{"name":"Bedok Reservoir-Punggol Rise Residents\' Committee","type":"garden","position":[103.91929,1.33547]},{"name":"Cheng San Cactus Sunrise Neighbourhood Committee","type":"garden","position":[103.85082,1.3918]},{"name":"Tampines North Zone \'7\' Residents\' Committee","type":"garden","position":[103.95774,1.36191]},{"name":"Teck Ghee Zone \'D\' Residents\' Committee","type":"garden","position":[103.85162,1.36319]},{"name":"Hougang Primary School","type":"garden","position":[103.88081,1.37738]},{"name":"The Nautilus Residents Committee","type":"garden","position":[103.9144,1.3937]},{"name":"Kebun Baru Heights Residents\' Committee","type":"garden","position":[103.83577,1.37128]},{"name":"Nan Chiau High School","type":"garden","position":[103.89,1.3888]},{"name":"Ballota Park Residents Association","type":"garden","position":[103.96814,1.35795]},{"name":"Pitter Patter Child Care & Development Centre Pte Ltd","type":"garden","position":[103.96495,1.36102]},{"name":"Ang Mo Kio-Hougang Zone \'6\' Residents\' Committee","type":"garden","position":[103.87819,1.37573]},{"name":"Ramakrishna Mission Boys\' Home","type":"garden","position":[103.8795,1.34372]},{"name":"Jalan Kayu Zone \'4\' Residents\' Committee II","type":"garden","position":[103.87439,1.37089]},{"name":"Tampines Changkat Zone \'3\' Residents\' Committee","type":"garden","position":[103.94742,1.34691]},{"name":"Tampines North Sunplaza Residents\' Committee","type":"garden","position":[103.947,1.35731]},{"name":"Punggol Maple Residents\' Committee","type":"garden","position":[103.88541,1.37574]},{"name":"Tampines Green Residents\' Committee","type":"garden","position":[103.94518,1.3507]},{"name":"Bedok Green Primary School","type":"garden","position":[103.93774,1.324]},{"name":"Sengkang West Zone H Residents\' Committee","type":"garden","position":[103.87429,1.39192]},{"name":"Jalan Kayu Zone \'3\' Residents\' Committee I","type":"garden","position":[103.87085,1.37236]},{"name":"Coral Ris Residents\' Committee","type":"garden","position":[103.94917,1.36965]},{"name":"Bedok View Secondary School","type":"garden","position":[103.94347,1.324]},{"name":"Kaki Bukit Ville Residents\' Committee","type":"garden","position":[103.93239,1.33188]},{"name":"Cherie Hearts@Northstar","type":"garden","position":[103.87539,1.37792]},{"name":"Temasek Secondary School","type":"garden","position":[103.94715,1.31577]},{"name":"Bedok Reservoir-Punggol Crest Residents\' Committee","type":"garden","position":[103.89097,1.3734]},{"name":"Pasir Ris Zone \'2\' Residents\' Committee","type":"garden","position":[103.95545,1.37193]},{"name":"Punggol Acacia Residents\' Committee","type":"garden","position":[103.88734,1.37501]},{"name":"Rivervale Gardens Residents\' Committee","type":"garden","position":[103.90511,1.38669]},{"name":"Punggol SapphiRes Residents\' Committee","type":"garden","position":[103.89832,1.40429]},{"name":"Tampines Polyview Residents\' Committee","type":"garden","position":[103.93737,1.34575]},{"name":"Tampines East Zone \'5\' Residents\' Committee","type":"garden","position":[103.94863,1.34963]},{"name":"Jalan Senang Neighbourhood Committee","type":"garden","position":[103.9149,1.32519]},{"name":"Seng Kang Green Primary School","type":"garden","position":[103.87516,1.39284]},{"name":"The People\'S Bible Church","type":"garden","position":[103.88045,1.35059]},{"name":"Ang Mo Kio-Hougang Zone \'4\' Residents\' Committee","type":"garden","position":[103.88239,1.37338]},{"name":"Sengkang West Zone \'C\' Residents\' Committee","type":"garden","position":[103.88951,1.39314]},{"name":"Punggol Meridian Residents\' Committee","type":"garden","position":[103.90756,1.3958]},{"name":"Hwi Yoh Court Residents\' Committee","type":"garden","position":[103.87482,1.36726]},{"name":"PCF Jalan Kayu Blk 556","type":"garden","position":[103.85763,1.37203]},{"name":"Tampines Starlight Residents\' Committee","type":"garden","position":[103.93594,1.35881]},{"name":"Ping Yi Secondary School","type":"garden","position":[103.92034,1.32775]},{"name":"Longvale Residents\' Committee","type":"garden","position":[103.93582,1.33655]},{"name":"Tampines Changkat Zone \'4\' Residents\' Committee","type":"garden","position":[103.95282,1.35002]},{"name":"Selarang Park Drug Rehabilitation Centre","type":"garden","position":[103.9783,1.37084]},{"name":"Tampines North Zone \'5\' Residents\' Committee","type":"garden","position":[103.95517,1.35979]},{"name":"Tampines East Zone \'7\' Residents\' Committee","type":"garden","position":[103.95877,1.35531]},{"name":"Serangoon Green Residents\' Committee","type":"garden","position":[103.87314,1.35755]},{"name":"Rivervale Court Residents\' Committee","type":"garden","position":[103.90031,1.38349]},{"name":"Compassvale Gardens Residents\' Committee","type":"garden","position":[103.89673,1.39391]},{"name":"Rivervale Spring Residents\' Committee","type":"garden","position":[103.90502,1.38814]},{"name":"Tampines Changkat Zone \'5\' Residents\' Committee","type":"garden","position":[103.95043,1.34869]},{"name":"Yio Chu Kang Zone \'7\' Residents\' Committee","type":"garden","position":[103.84,1.38156]},{"name":"Yio Chu Kang Zone \'6\' Residents\' Committee","type":"garden","position":[103.83878,1.37747]},{"name":"Ang Mo Kio-Hougang Zone \'10\' Residents\' Committee","type":"garden","position":[103.88404,1.37807]},{"name":"Eunos Zone \'1\' Rainbow Residents\' Committee","type":"garden","position":[103.91261,1.33212]},{"name":"Compassvale Haven Residents\' Committee","type":"garden","position":[103.90077,1.39368]},{"name":"PCF Sengkang West Education Centre","type":"garden","position":[103.89078,1.38708]},{"name":"Bedok Bougainvillea Residents\' Committee","type":"garden","position":[103.9334,1.32249]},{"name":"True Jesus Church","type":"garden","position":[103.90768,1.31534]},{"name":"Punggol Periwinkle Residents\' Committee","type":"garden","position":[103.90649,1.40137]},{"name":"Jalan Kayu Zone \'2\' Residents\' Committee","type":"garden","position":[103.85785,1.37058]},{"name":"Lengkong Tiga Residents\' Committee","type":"garden","position":[103.9107,1.32458]},{"name":"Tampines East Zone \'8\' Residents\' Committee","type":"garden","position":[103.95283,1.35192]},{"name":"Yangzheng Primary School","type":"garden","position":[103.86835,1.34897]},{"name":"Cheng San Zone \'B\' Residents\' Committee","type":"garden","position":[103.85391,1.36697]},{"name":"Bethesda Chapel Kindergarten","type":"garden","position":[103.91003,1.32065]},{"name":"Tampines Spring Residents\' Committee","type":"garden","position":[103.93148,1.35133]},{"name":"Fernvale Primary School","type":"garden","position":[103.8741,1.38998]},{"name":"Global Indian International School - East Coast","type":"garden","position":[103.9213,1.31596]},{"name":"Kebun Baru Palm View Senior Citizens","type":"garden","position":[103.83674,1.36755]},{"name":"Changi Simei Zone \'4\' Residents\' Committee","type":"garden","position":[103.9569,1.34361]},{"name":"Pasir Ris Zone \'3\' Residents\' Committee","type":"garden","position":[103.95964,1.37141]},{"name":"Punggol Coral Residents\' Committee","type":"garden","position":[103.91098,1.39378]},{"name":"Rivervale Vista Residents\' Committee","type":"garden","position":[103.90546,1.39454]},{"name":"Teck Ghee Zone \'K\' Residents\' Committee","type":"garden","position":[103.84052,1.36559]},{"name":"Ang Mo Kio-Hougang Zone \'8\' Residents\' Committee","type":"garden","position":[103.8825,1.37671]},{"name":"Hwi Yoh Ville Residents\' Committee","type":"garden","position":[103.87259,1.36696]},{"name":"Teck Ghee Zone \'E\' Residents\' Committee","type":"garden","position":[103.85415,1.36535]},{"name":"Mayflower Secondary School","type":"garden","position":[103.83536,1.36827]},{"name":"Bedok Reservoir-Punggol Harmony Residents\' Committee","type":"garden","position":[103.89654,1.37517]},{"name":"Sengkang West Zone \'E\' Residents\' Committee","type":"garden","position":[103.87791,1.38923]},{"name":"Tampines Courtview Residents\' Committee","type":"garden","position":[103.9335,1.35671]},{"name":"Lucky Heights Neighbourhood Committee","type":"garden","position":[103.9413,1.31828]},{"name":"Sunbird-Apollo Neighbourhood Committee","type":"garden","position":[103.95886,1.34027]},{"name":"Eunos Zone \'3\' Heights Residents\' Committee","type":"garden","position":[103.91559,1.33396]},{"name":"Tampines North Zone \'6\' Residents\' Committee","type":"garden","position":[103.9527,1.36301]},{"name":"Punggol Oceanus Residents\' Committee","type":"garden","position":[103.91088,1.39875]},{"name":"ITE College East","type":"garden","position":[103.95498,1.33455]},{"name":"Nee Soon Central Zone \'7\' Residents\' Committee","type":"garden","position":[103.84053,1.42047]},{"name":"Teck Ghee Zone \'H\' Residents\' Committee","type":"garden","position":[103.85669,1.36409]},{"name":"Cheng San Zone \'E\' Residents\' Committee","type":"garden","position":[103.85195,1.37312]},{"name":"Braddell Heights Zone \'C\' Residents\' Committee","type":"garden","position":[103.87384,1.34778]},{"name":"Kebun Baru Bestari Residents\' Committee","type":"garden","position":[103.83466,1.36946]},{"name":"My First Skool Anchorvale","type":"garden","position":[103.88684,1.38923]},{"name":"Kebun Baru Palm View Residents\' Committee","type":"garden","position":[103.83815,1.3674]},{"name":"Nee Soon South Zone \'E\' Residents\' Committee","type":"garden","position":[103.83851,1.41767]},{"name":"Pei Hwa Secondary School","type":"garden","position":[103.87846,1.39033]},{"name":"Marsiling Zone \'1\' Residents\' Committee I","type":"garden","position":[103.77645,1.43941]},{"name":"Nee Soon South Zone \'C\' Residents\' Committee","type":"garden","position":[103.83074,1.41663]},{"name":"Admiralty Zone \'7\' Residents\' Committee","type":"garden","position":[103.79862,1.43436]},{"name":"Kebun Baru Link Residents\' Committee","type":"garden","position":[103.83812,1.37584]},{"name":"Admiralty Zone \'4\' Residents\' Committee","type":"garden","position":[103.79513,1.42774]},{"name":"Punggol Hibiscus Residents\' Committee","type":"garden","position":[103.8936,1.37753]},{"name":"Ang Mo Kio-Hougang Zone \'3\' Residents\' Committee","type":"garden","position":[103.88062,1.37154]},{"name":"Jalan Kayu Zone \'3\' Residents\' Committee II","type":"garden","position":[103.87015,1.37482]},{"name":"Punggol Palmview Residents\' Committee","type":"garden","position":[103.88989,1.37953]},{"name":"Jalan Kayu Zone \'4\' Residents\' Committee I","type":"garden","position":[103.87372,1.37203]},{"name":"Woodgrove Zone \'2\' Residents\' Committee","type":"garden","position":[103.78045,1.43801]},{"name":"Punggol Meadows Residents\' Committee","type":"garden","position":[103.91585,1.3988]},{"name":"Woodlands Zone \'2\' Residents\' Committee","type":"garden","position":[103.79347,1.4433]},{"name":"My First Skool Ang Mo Kio 3","type":"garden","position":[103.85562,1.37392]},{"name":"Sengkang West Zone \'G\' Residents\' Committee","type":"garden","position":[103.8741,1.38998]},{"name":"Sengkang West Zone \'A\' Residents\' Committee","type":"garden","position":[103.88985,1.38742]},{"name":"Ang Mo Kio-Hougang Zone \'2\' Residents\' Committee","type":"garden","position":[103.88048,1.36954]},{"name":"Bedok Reservoir-Punggol Heights Residents\' Committee","type":"garden","position":[103.89405,1.37477]},{"name":"Punggol Pinetree Residents\' Committee","type":"garden","position":[103.88748,1.37827]},{"name":"Ang Mo Kio-Hougang Zone \'9\' Residents\' Committee","type":"garden","position":[103.87978,1.37348]},{"name":"Lentor Neighbourhood Committee","type":"garden","position":[103.83513,1.38851]},{"name":"Boundary Ville Residents\' Committee","type":"garden","position":[103.87026,1.35636]},{"name":"Canberra Zone \'4\' Residents\' Committee","type":"garden","position":[103.81558,1.45604]},{"name":"Punggol Coral Tree Residents\' Committee (Punggol Treetop Lodge)","type":"garden","position":[103.90625,1.40535]},{"name":"Yio Chu Kang Zone \'8\' Residents\' Committee","type":"garden","position":[103.84246,1.37992]},{"name":"PCF Teck Ghee Blk 319/Teck Ghee Zone C","type":"garden","position":[103.84738,1.36511]},{"name":"Ang Mo Kio-Hougang Zone \'1\' Residents\' Committee","type":"garden","position":[103.88713,1.37068]},{"name":"Yio Chu Kang Zone \'3\' Residents\' Committee","type":"garden","position":[103.84351,1.36971]},{"name":"Hillside Rosyth Neighbourhood Committee","type":"garden","position":[103.87711,1.35864]},{"name":"St. Gabriel\'s Primary School","type":"garden","position":[103.86233,1.34934]},{"name":"ITE College Central (Amk Campus)","type":"garden","position":[103.85719,1.37502]},{"name":"Kebun Baru Palm View SCC","type":"garden","position":[103.83815,1.3674]},{"name":"Anchor Green Primary School","type":"garden","position":[103.88716,1.39037]},{"name":"Teck Ghee Zone \'G\' Residents\' Committee","type":"garden","position":[103.85938,1.36702]},{"name":"Canberra Zone \'3\' Residents\' Committee","type":"garden","position":[103.81649,1.45245]},{"name":"My First Skool Anchorvale 2","type":"garden","position":[103.8907,1.38786]},{"name":"Carpe Diem Kindergarten","type":"garden","position":[103.87811,1.37676]},{"name":"Hwan Gardens Neighbourhood Committee","type":"garden","position":[103.87393,1.37005]},{"name":"Punggol Gardens Residents\' Committee","type":"garden","position":[103.91406,1.3955]},{"name":"Cheng San Zone \'D\' Residents\' Committee","type":"garden","position":[103.85016,1.37443]},{"name":"Mayflower Primary School","type":"garden","position":[103.84317,1.3764]},{"name":"Compassvale Plains Residents\' Committee","type":"garden","position":[103.89852,1.38987]},{"name":"Chong Pang Zone \'2\' Residents\' Committee","type":"garden","position":[103.82883,1.42995]},{"name":"Woodlands Zone \'9\' Residents\' Committee","type":"garden","position":[103.79912,1.43699]},{"name":"Admiralty Zone \'1\' Residents\' Committee","type":"garden","position":[103.79333,1.43372]},{"name":"Chong Boon Secondary School","type":"garden","position":[103.85801,1.36363]},{"name":"Chatsworth Kindergarten","type":"garden","position":[103.87141,1.40254]},{"name":"Jalan Kayu Zone \'6\' Residents\' Committee","type":"garden","position":[103.87525,1.37151]},{"name":"Nee Soon South Zone \'D\' Residents\' Committee","type":"garden","position":[103.83465,1.41476]},{"name":"My First Skool Ang Mo Kio 6","type":"garden","position":[103.84328,1.36897]},{"name":"Marsiling Zone \'5\' Residents\' Committee","type":"garden","position":[103.77767,1.43464]},{"name":"Compassvale Villa Residents\' Committee","type":"garden","position":[103.89755,1.38682]},{"name":"Sengkang West Zone \'D\' Residents\' Committee","type":"garden","position":[103.88649,1.3903]},{"name":"Marsiling Zone \'1\' Residents\' Committee II","type":"garden","position":[103.77371,1.44279]},{"name":"Kebun Baru Vista Neighbourhood Committee","type":"garden","position":[103.82678,1.37635]},{"name":"Nee Soon South Zone \'F\' Residents\' Committee","type":"garden","position":[103.83758,1.4137]},{"name":"Nee Soon South Zone \'B\' Residents\' Committee","type":"garden","position":[103.83276,1.42184]},{"name":"Cheng San Cactus Sunrise Neighbourhood Committee","type":"garden","position":[103.85082,1.3918]},{"name":"Teck Ghee Zone \'D\' Residents\' Committee","type":"garden","position":[103.85162,1.36319]},{"name":"Hougang Primary School","type":"garden","position":[103.88081,1.37738]},{"name":"The Nautilus Residents Committee","type":"garden","position":[103.9144,1.3937]},{"name":"Kebun Baru Heights Residents\' Committee","type":"garden","position":[103.83577,1.37128]},{"name":"Nan Chiau High School","type":"garden","position":[103.89,1.3888]},{"name":"Chong Pang Zone \'6\' Residents\' Committee","type":"garden","position":[103.83161,1.43628]},{"name":"Ang Mo Kio-Hougang Zone \'6\' Residents\' Committee","type":"garden","position":[103.87819,1.37573]},{"name":"Ramakrishna Mission Boys\' Home","type":"garden","position":[103.8795,1.34372]},{"name":"Jalan Kayu Zone \'4\' Residents\' Committee II","type":"garden","position":[103.87439,1.37089]},{"name":"Nee Soon East Zone \'9\' Residents\' Committee","type":"garden","position":[103.84652,1.42767]},{"name":"Punggol Maple Residents\' Committee","type":"garden","position":[103.88541,1.37574]},{"name":"Admiralty Zone \'5\' Residents\' Committee","type":"garden","position":[103.80426,1.44076]},{"name":"Chong Pang Zone \'4\' Residents\' Committee","type":"garden","position":[103.83025,1.43198]},{"name":"Sengkang West Zone H Residents\' Committee","type":"garden","position":[103.87429,1.39192]},{"name":"Jalan Kayu Zone \'3\' Residents\' Committee I","type":"garden","position":[103.87085,1.37236]},{"name":"Cherie Hearts@Northstar","type":"garden","position":[103.87539,1.37792]},{"name":"Bedok Reservoir-Punggol Crest Residents\' Committee","type":"garden","position":[103.89097,1.3734]},{"name":"Yishun Sapphire Residents Association","type":"garden","position":[103.83093,1.44073]},{"name":"Punggol Acacia Residents\' Committee","type":"garden","position":[103.88734,1.37501]},{"name":"Rivervale Gardens Residents\' Committee","type":"garden","position":[103.90511,1.38669]},{"name":"Punggol SapphiRes Residents\' Committee","type":"garden","position":[103.89832,1.40429]},{"name":"Sembawang Zone \'E\' Residents\' Committee","type":"garden","position":[103.80111,1.44159]},{"name":"Seng Kang Green Primary School","type":"garden","position":[103.87516,1.39284]},{"name":"The People\'S Bible Church","type":"garden","position":[103.88045,1.35059]},{"name":"Ang Mo Kio-Hougang Zone \'4\' Residents\' Committee","type":"garden","position":[103.88239,1.37338]},{"name":"Sengkang West Zone \'C\' Residents\' Committee","type":"garden","position":[103.88951,1.39314]},{"name":"Punggol Meridian Residents\' Committee","type":"garden","position":[103.90756,1.3958]},{"name":"Canberra Zone \'1\' Residents\' Committee","type":"garden","position":[103.81582,1.44733]},{"name":"Hwi Yoh Court Residents\' Committee","type":"garden","position":[103.87482,1.36726]},{"name":"PCF Jalan Kayu Blk 556","type":"garden","position":[103.85763,1.37203]},{"name":"Serangoon Green Residents\' Committee","type":"garden","position":[103.87314,1.35755]},{"name":"Rivervale Court Residents\' Committee","type":"garden","position":[103.90031,1.38349]},{"name":"Compassvale Gardens Residents\' Committee","type":"garden","position":[103.89673,1.39391]},{"name":"Rivervale Spring Residents\' Committee","type":"garden","position":[103.90502,1.38814]},{"name":"Yio Chu Kang Zone \'7\' Residents\' Committee","type":"garden","position":[103.84,1.38156]},{"name":"Yio Chu Kang Zone \'6\' Residents\' Committee","type":"garden","position":[103.83878,1.37747]},{"name":"Nee Soon Central Zone \'8\' Residents\' Committee","type":"garden","position":[103.8366,1.42518]},{"name":"Ang Mo Kio-Hougang Zone \'10\' Residents\' Committee","type":"garden","position":[103.88404,1.37807]},{"name":"Sembawang Zone \'F\' Residents\' Committee","type":"garden","position":[103.79889,1.44288]},{"name":"Compassvale Haven Residents\' Committee","type":"garden","position":[103.90077,1.39368]},{"name":"PCF Sengkang West Education Centre","type":"garden","position":[103.89078,1.38708]},{"name":"Punggol Periwinkle Residents\' Committee","type":"garden","position":[103.90649,1.40137]},{"name":"Jalan Kayu Zone \'2\' Residents\' Committee","type":"garden","position":[103.85785,1.37058]},{"name":"Yangzheng Primary School","type":"garden","position":[103.86835,1.34897]},{"name":"Cheng San Zone \'B\' Residents\' Committee","type":"garden","position":[103.85391,1.36697]},{"name":"Fernvale Primary School","type":"garden","position":[103.8741,1.38998]},{"name":"Kebun Baru Palm View Senior Citizens","type":"garden","position":[103.83674,1.36755]},{"name":"Punggol Coral Residents\' Committee","type":"garden","position":[103.91098,1.39378]},{"name":"Rivervale Vista Residents\' Committee","type":"garden","position":[103.90546,1.39454]},{"name":"Teck Ghee Zone \'K\' Residents\' Committee","type":"garden","position":[103.84052,1.36559]},{"name":"Ang Mo Kio-Hougang Zone \'8\' Residents\' Committee","type":"garden","position":[103.8825,1.37671]},{"name":"Hwi Yoh Ville Residents\' Committee","type":"garden","position":[103.87259,1.36696]},{"name":"Teck Ghee Zone \'E\' Residents\' Committee","type":"garden","position":[103.85415,1.36535]},{"name":"Mayflower Secondary School","type":"garden","position":[103.83536,1.36827]},{"name":"Bedok Reservoir-Punggol Harmony Residents\' Committee","type":"garden","position":[103.89654,1.37517]},{"name":"Sengkang West Zone \'E\' Residents\' Committee","type":"garden","position":[103.87791,1.38923]},{"name":"Marsiling Zone \'7\' Residents\' Committee","type":"garden","position":[103.77337,1.44541]},{"name":"Canberra Zone \'2\' Residents\' Committee","type":"garden","position":[103.81685,1.44944]},{"name":"Woodlands Zone \'11\' Residents\' Committee","type":"garden","position":[103.80319,1.43672]},{"name":"Punggol Oceanus Residents\' Committee","type":"garden","position":[103.91088,1.39875]},{"name":"NatSteel Asia Pte Ltd","type":"garden","position":[103.70098,1.30862]},{"name":"Jurong Central Zone \'A\' Residents\' Committee","type":"garden","position":[103.72509,1.3481]},{"name":"Assyakirin Mosque","type":"garden","position":[103.71957,1.33545]},{"name":"Tui San Temple","type":"garden","position":[103.71329,1.34493]},{"name":"Boon Lay Zone \'C\' Residents\' Committee","type":"garden","position":[103.70803,1.34509]},{"name":"Swisscottage Secondary School","type":"garden","position":[103.7504,1.36472]},{"name":"Boon Lay Community Club","type":"garden","position":[103.71149,1.34822]},{"name":"Nanyang Zone \'3\' Residents\' Committee","type":"garden","position":[103.69528,1.34231]},{"name":"Bukit Panjang Zone \'9\' Residents\' Committee","type":"garden","position":[103.76914,1.38535]},{"name":"Yuan Ching Secondary School","type":"garden","position":[103.72063,1.34189]},{"name":"SDDA Pte Ltd","type":"garden","position":[103.69218,1.31936]},{"name":"Jurong Green Community Club WEC","type":"garden","position":[103.72534,1.35056]},{"name":"Jurong Spring Zone \'A\' Residents\' Committee","type":"garden","position":[103.71798,1.34509]},{"name":"Yew Tee Zone \'4\' Residents\' Committee","type":"garden","position":[103.74205,1.38883]},{"name":"Singapore Technologies Kinetics Ltd","type":"garden","position":[103.7107,1.33848]},{"name":"Hua Yi Secondary School","type":"garden","position":[103.72173,1.35236]},{"name":"South View Primary School","type":"garden","position":[103.74703,1.38148]},{"name":"Nanyang Zone \'1\' Residents\' Committee","type":"garden","position":[103.68973,1.34162]},{"name":"PPISChild Development Centre - Jurong","type":"garden","position":[103.69442,1.34605]},{"name":"St. Joseph\'s Home","type":"garden","position":[103.7084,1.3498]},{"name":"Keming Primary School","type":"garden","position":[103.75592,1.34506]},{"name":"Jurong Central Zone \'E\' Residents\' Committee","type":"garden","position":[103.73457,1.34729]},{"name":"Hong Kah North Community Club","type":"garden","position":[103.74946,1.35906]},{"name":"Bukit Gombak Goodview Garden Residents\' Committee","type":"garden","position":[103.75256,1.36394]},{"name":"Hong Kah Primary School","type":"garden","position":[103.74363,1.36286]},{"name":"Kranji Secondary School","type":"garden","position":[103.74109,1.39004]},{"name":"West Coast Ville Residents\' Committee","type":"garden","position":[103.76653,1.30434]},{"name":"MSD Tuas Singapore Pte Ltd","type":"garden","position":[103.63283,1.33136]},{"name":"Ivory Heights Residents Association","type":"garden","position":[103.73507,1.33789]},{"name":"Taman Jurong Zone \'D\' Residents\' Committee II","type":"garden","position":[103.72053,1.33964]},{"name":"Jurong Central Zone \'C\' Residents\' Committee","type":"garden","position":[103.72511,1.35328]},{"name":"Tanglin Secondary School","type":"garden","position":[103.75816,1.3097]},{"name":"Yuhua Community Club WEC","type":"garden","position":[103.74022,1.34372]},{"name":"PCF Twinkle Tots Yuhua Childcare Centre","type":"garden","position":[103.74148,1.34374]},{"name":"Pioneer Zone \'1\' Residents\' Committee","type":"garden","position":[103.70631,1.34194]},{"name":"Dazhong Primary School","type":"garden","position":[103.74816,1.35906]},{"name":"Yuhua Zone \'6\' Residents\' Committee","type":"garden","position":[103.74006,1.34178]},{"name":"Taman Jurong Zone \'C\' Residents\' Committee","type":"garden","position":[103.72122,1.33643]},{"name":"Yew Tee Zone \'5\' Residents\' Committee","type":"garden","position":[103.74259,1.39367]},{"name":"Pioneer Zone \'12\' Residents\' Committee","type":"garden","position":[103.69664,1.33689]},{"name":"Bukit Panjang Zone \'3\' Residents\' Committee","type":"garden","position":[103.77166,1.37526]},{"name":"Jurong Central Zone \'B\' Residents\' Committee","type":"garden","position":[103.72545,1.35086]},{"name":"Regent Park Residents Association","type":"garden","position":[103.76115,1.31718]},{"name":"Ayer Rajah-West Coast Neighbourhood Committee","type":"garden","position":[103.73987,1.32184]},{"name":"Bukit View Primary School","type":"garden","position":[103.7533,1.34625]},{"name":"Chua Chu Kang Zone \'1\' Residents\' Committee","type":"garden","position":[103.75692,1.38093]},{"name":"Jurong Primary School","type":"garden","position":[103.73297,1.34868]},{"name":"Ayer Rajah Zone \'1\' Residents\' Committee","type":"garden","position":[103.74743,1.31901]},{"name":"Nanyang Zone \'2\' Residents\' Committee","type":"garden","position":[103.68977,1.34288]},{"name":"My First Skool Jurong East","type":"garden","position":[103.74029,1.33867]},{"name":"My First Skool Jurong","type":"garden","position":[103.72329,1.33953]},{"name":"Allied Ordnance Of Singapore (Pte) Limited","type":"garden","position":[103.7107,1.33848]},{"name":"Bukit Panjang Zone \'4\' Residents\' Committee II","type":"garden","position":[103.77547,1.3744]},{"name":"Nanyang Zone \'4\' Residents\' Committee","type":"garden","position":[103.69194,1.34643]},{"name":"Yew Tee Zone \'6\' Residents\' Committee","type":"garden","position":[103.74496,1.39633]},{"name":"Bukit Batok East Nature View Residents\' Committee","type":"garden","position":[103.75905,1.34464]},{"name":"Yew Tee Community Centre","type":"garden","position":[103.74473,1.39492]},{"name":"Chua Chu Kang Primary School","type":"garden","position":[103.74182,1.37758]},{"name":"Pioneer Zone \'9\' Residents\' Committee","type":"garden","position":[103.70022,1.33925]},{"name":"Zhenghua Jelapang Residents\' Committee","type":"garden","position":[103.76629,1.38774]},{"name":"Yusof Ishak Secondary School","type":"garden","position":[103.76001,1.34233]},{"name":"West Grove Primary School","type":"garden","position":[103.69896,1.34471]},{"name":"Boon Lay Zone \'B\' Residents\' Committee","type":"garden","position":[103.7054,1.34399]},{"name":"Teck Whye Primary School","type":"garden","position":[103.75335,1.38366]},{"name":"Xingnan Primary School","type":"garden","position":[103.68772,1.34268]},{"name":"Pioneer Junior College","type":"garden","position":[103.75393,1.38461]},{"name":"Pusara Aman Mosque","type":"garden","position":[103.69442,1.37281]},{"name":"Chua Chu Kang Secondary School","type":"garden","position":[103.75188,1.38319]},{"name":"Concord Primary School","type":"garden","position":[103.73614,1.38041]},{"name":"Nan Hua High School","type":"garden","position":[103.76856,1.30809]},{"name":"Jamiyah Nursing Home","type":"garden","position":[103.75944,1.31094]},{"name":"Bukit Panjang Zone \'4\' Residents\' Committee I","type":"garden","position":[103.77557,1.37309]},{"name":"Yuhua Zone \'1\' Residents\' Committee","type":"garden","position":[103.74022,1.34372]},{"name":"Juying Secondary School","type":"garden","position":[103.68721,1.33818]},{"name":"Ordnance Development & Engineering Company of Singapore (1996) Pte Ltd","type":"garden","position":[103.71626,1.33807]},{"name":"Yew Tee Zone \'11\' Residents\' Committee","type":"garden","position":[103.74801,1.40408]},{"name":"Yuhua Zone \'5\' Residents\' Committee","type":"garden","position":[103.73071,1.34876]},{"name":"Keat Hong Zone \'7\' Residents\' Committee","type":"garden","position":[103.74158,1.38296]},{"name":"My First Skool Clementi 2","type":"garden","position":[103.76914,1.31966]},{"name":"My First Skool Clementi","type":"garden","position":[103.76327,1.31251]},{"name":"Ayer Rajah Zone \'2\' Residents\' Committee","type":"garden","position":[103.73779,1.32308]},{"name":"Bukit Gombak Sunshine Residents\' Committee","type":"garden","position":[103.75041,1.35629]},{"name":"Unity Secondary School","type":"garden","position":[103.74603,1.40003]},{"name":"Princess Elizabeth Primary School","type":"garden","position":[103.741,1.34919]},{"name":"Ar-Raudhah Mosque Kindergarten","type":"garden","position":[103.756,1.35166]},{"name":"Kranji Primary School","type":"garden","position":[103.74736,1.39356]},{"name":"Boon Lay Zone \'E\' Residents\' Committee","type":"garden","position":[103.70525,1.34542]},{"name":"Yuhua Zone \'2\' Residents\' Committee","type":"garden","position":[103.74157,1.34107]},{"name":"Chua Chu Kang Zone \'5\' Residents\' Committee","type":"garden","position":[103.74814,1.38021]},{"name":"Clementi Avenue 2 Residents\' Committee","type":"garden","position":[103.76985,1.31349]},{"name":"My First Skool Jurong Point","type":"garden","position":[103.70646,1.33983]},{"name":"ST Kinetics Integrated Engineering Ltd","type":"garden","position":[103.71626,1.33807]},{"name":"Yuhua Primary School","type":"garden","position":[103.74092,1.34273]},{"name":"Casa Raudha Women Home","type":"garden","position":[103.70987,1.34972]},{"name":"Jurong Junior College","type":"garden","position":[103.71346,1.35044]},{"name":"Cashew Zone \'4\' Residents\' Committee","type":"garden","position":[103.76405,1.38249]},{"name":"West Coast Green Residents\' Committee","type":"garden","position":[103.76217,1.30572]},{"name":"Hillgrove Secondary School","type":"garden","position":[103.75305,1.35273]},{"name":"Ayer Rajah Zone \'3\' Residents\' Committee","type":"garden","position":[103.74099,1.32159]},{"name":"Lakeside Primary School","type":"garden","position":[103.71805,1.33838]},{"name":"Chua Chu Kang Zone \'9\' Residents\' Committee","type":"garden","position":[103.74791,1.39461]},{"name":"Yew Mei Green Neighbourhood Committee","type":"garden","position":[103.75131,1.39525]},{"name":"Iyad Perdaus Student Care","type":"garden","position":[103.74211,1.34263]},{"name":"Keat Hong Zone \'6\' Residents\' Committee","type":"garden","position":[103.74307,1.37925]},{"name":"Ar-Raudhah Mosque","type":"garden","position":[103.756,1.35166]},{"name":"Hong Kah Secondary School","type":"garden","position":[103.72666,1.35204]},{"name":"Bukit Panjang Zone \'8\' Residents\' Committee","type":"garden","position":[103.76827,1.3829]},{"name":"Bethany Methodist Nursing Home","type":"garden","position":[103.73917,1.38242]},{"name":"Hong Kah North Zone \'3\' Residents\' Committee","type":"garden","position":[103.74795,1.35747]},{"name":"Taman Jurong Zone \'B\' Residents\' Committee","type":"garden","position":[103.72331,1.33389]},{"name":"Pioneer Zone \'8\' Residents\' Committee","type":"garden","position":[103.70076,1.33649]},{"name":"Bukit Batok Zone \'6\' Residents\' Committee","type":"garden","position":[103.74091,1.34661]},{"name":"Bukit Batok East Zone \'2\' Residents\' Committee","type":"garden","position":[103.7566,1.35026]},{"name":"Bukit Timah Zone \'4\' Residents\' Committee","type":"garden","position":[103.76323,1.32099]},{"name":"My First Skool Yew Tee","type":"garden","position":[103.74436,1.39788]},{"name":"Bukit Panjang Zone \'4\' Residents\' Committee (Senior Citizen)","type":"garden","position":[103.77547,1.3744]},{"name":"Blue Horizon Residents Association","type":"garden","position":[103.76555,1.29744]},{"name":"Bukit Batok Zone \'5\' Residents\' Committee","type":"garden","position":[103.74266,1.34815]},{"name":"Yuhua Zone \'3\' Residents\' Committee","type":"garden","position":[103.73897,1.33928]},{"name":"Toh Guan View Residents\' Committee","type":"garden","position":[103.74711,1.33961]},{"name":"Bukit Batok Zone \'2\' Residents\' Committee","type":"garden","position":[103.74726,1.34899]},{"name":"Boon Lay Zone \'D\' Residents\' Committee","type":"garden","position":[103.71187,1.34507]},{"name":"Boon Lay Zone \'C\' Residents\' Committee (Senior Citizen)","type":"garden","position":[103.70803,1.34509]},{"name":"NTUC Eldercare Co-Operative Ltd","type":"garden","position":[103.72245,1.35339]},{"name":"Keat Hong Zone \'3\' Residents\' Committee","type":"garden","position":[103.73812,1.37962]},{"name":"ITE West","type":"garden","position":[103.75211,1.37502]},{"name":"Jurong Central Zone \'D\' Residents\' Committee","type":"garden","position":[103.73069,1.35013]},{"name":"Boon Lay Moral Neighbourhood Link","type":"garden","position":[103.71481,1.34592]},{"name":"Shuqun Primary School","type":"garden","position":[103.72152,1.34765]},{"name":"Clementi Community Centre","type":"garden","position":[103.76815,1.31881]},{"name":"Bukit-Gombak Hillview Garden Neighbourhood Committee","type":"garden","position":[103.75256,1.36394]},{"name":"Bukit Panjang Zone \'7\' Residents\' Committee","type":"garden","position":[103.77183,1.38007]},{"name":"Boon Lay Zone \'A\' Residents\' Committee","type":"garden","position":[103.7141,1.34824]},{"name":"Fuhua Primary School","type":"garden","position":[103.7361,1.3365]},{"name":"Regent Secondary School","type":"garden","position":[103.75069,1.39309]},{"name":"Taman Jurong Zone \'A\' Residents\' Committee","type":"garden","position":[103.72104,1.32748]},{"name":"Hillgrove Residents\' Committee","type":"garden","position":[103.75466,1.35225]},{"name":"Commwealth Secondary School","type":"garden","position":[103.74564,1.3192]},{"name":"Hong Kah North Zone 5 Residents\' Committee","type":"garden","position":[103.7498,1.36175]},{"name":"Boon Lay Zone \'J\' Residents\' Committee","type":"garden","position":[103.6988,1.34152]},{"name":"Yuhua Zone \'4\' Residents\' Committee","type":"garden","position":[103.73675,1.34137]},{"name":"Taman Jurong CCC","type":"garden","position":[103.71859,1.33949]},{"name":"Al Mukminin Mosque","type":"garden","position":[103.74146,1.33921]},{"name":"PCF Boon Lay","type":"garden","position":[103.71357,1.34659]},{"name":"Jurong Spring Community Club","type":"garden","position":[103.71815,1.34833]},{"name":"Boon Lay Zone \'G\' Residents\' Committee","type":"garden","position":[103.71357,1.34659]},{"name":"Bukit Gombak Hillgrove Residents\' Committee","type":"garden","position":[103.75466,1.35225]},{"name":"Yuhua Zone \'7\' Residents\' Committee","type":"garden","position":[103.73792,1.33771]},{"name":"Bukit Panjang Zone \'6\' Residents\' Committee","type":"garden","position":[103.77446,1.37757]},{"name":"Cashew Zone \'1\' Residents\' Committee","type":"garden","position":[103.76895,1.3755]},{"name":"Pioneer Zone \'11\' Residents\' Committee","type":"garden","position":[103.69665,1.34013]},{"name":"Canadian International School (CIS), Lakeside Campus","type":"garden","position":[103.72719,1.34569]},{"name":"De La Salle School","type":"garden","position":[103.7432,1.39471]},{"name":"Bukit Batok Zone \'8\' Residents\' Committee","type":"garden","position":[103.75222,1.34718]}]')},{}],"4Dbfj":[function(e,t,r){t.exports=e("./helpers/bundle-url").getBundleURL("Pw3M1")+"../"+e("./helpers/bundle-manifest").resolve("cMSFs")},{"./helpers/bundle-url":"EIU9T","./helpers/bundle-manifest":"4qWvM"}],EIU9T:[function(e,t,r){"use strict";var n={};function s(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}r.getBundleURL=function(e){var t=n[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return s(e[2])}return"/"}(),n[e]=t),t},r.getBaseURL=s,r.getOrigin=function(e){var t=(""+e).match(/(https?|file|ftp):\/\/[^/]+/);if(!t)throw new Error("Origin not found");return t[0]}},{}]},["jKBB6","4TFIK"],"4TFIK");
//# sourceMappingURL=index.5b99b4bf.js.map
